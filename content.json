{"meta":{"title":"Reria's BLOG","subtitle":"","description":"","author":"reria","url":"http://example.com","root":"/"},"pages":[{"title":"404 Not Found","date":"2021-07-23T06:13:25.410Z","updated":"2021-07-23T06:13:25.410Z","comments":true,"path":"404.html","permalink":"http://example.com/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"","date":"2021-07-29T03:29:58.882Z","updated":"2021-07-29T03:29:58.882Z","comments":false,"path":"notice.html","permalink":"http://example.com/notice.html","excerpt":"","text":"æœ¬ç«™é»˜è®¤æ›¿æ¢äº†å³é”®èœå•ï¼Œå¦‚éœ€å”¤é†’åŸç³»ç»Ÿèœå•è¯·ä½¿ç”¨ï¼š ctrl + å³é”®"},{"title":"","date":"2021-07-27T01:43:04.243Z","updated":"2021-07-27T01:43:04.243Z","comments":true,"path":"bangumis/index.html","permalink":"http://example.com/bangumis/index.html","excerpt":"","text":""},{"title":"","date":"2021-07-26T05:59:04.234Z","updated":"2021-07-26T05:59:04.234Z","comments":false,"path":"artitalk/index.html","permalink":"http://example.com/artitalk/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2021-07-29T03:29:26.295Z","updated":"2021-07-29T03:29:26.295Z","comments":false,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"æ­£åœ¨ç»´æŠ¤(å…¶å®æ˜¯æ‡’å¾—å†™ä»‹ç»ğŸ¤­"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2021-07-29T09:43:44.508Z","updated":"2021-07-29T09:43:44.508Z","comments":false,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"æˆ‘çš„æœ‹å‹ä»¬","date":"2021-08-24T08:21:05.250Z","updated":"2021-08-24T08:21:05.250Z","comments":true,"path":"friends/index.html","permalink":"http://example.com/friends/index.html","excerpt":"","text":"ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ¤ğŸ–¤ğŸ¤"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2021-07-29T09:43:17.916Z","updated":"2021-07-29T09:43:17.916Z","comments":false,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""},{"title":"","date":"2021-07-29T03:28:37.138Z","updated":"2021-07-29T03:28:37.138Z","comments":true,"path":"bb/index.html","permalink":"http://example.com/bb/index.html","excerpt":"","text":""}],"posts":[{"title":"ã€Unityã€‘ä»ç‹¬ç«‹æ¸¸æˆå­¦ä¹ å¼€å‘","slug":"ã€Unity2Dã€‘ä»ç‹¬ç«‹æ¸¸æˆå­¦ä¹ å¼€å‘","date":"2021-08-24T07:54:59.786Z","updated":"2021-08-25T13:10:56.313Z","comments":true,"path":"2021/08/24/unity2d-cong-du-li-you-xi-xue-xi-kai-fa/","link":"","permalink":"http://example.com/2021/08/24/unity2d-cong-du-li-you-xi-xue-xi-kai-fa/","excerpt":"","text":"æ„Ÿè°¢æ„Ÿè°¢bilibiliè§†é¢‘ç½‘ç«™M_Studioéº¦å£è€å¸ˆç³»åˆ—è§†é¢‘æ•™å­¦ï¼ŒUnity2Déƒ½æ˜¯ä»ä»–è¿™å­¦çš„ã€‚ åˆ›å»ºé¡¹ç›®ä¸å¯¼å…¥ç´ æ åˆ›å»ºæ–°é¡¹ç›® å¯¼å…¥ç´ æï¼Œç‚¹å‡»èœå•æ Assets -&gt; ImportPackage å¯¼å…¥å¹¶ç¼–è¾‘Tiles ç‚¹å‡»èœå•æ window -&gt; 2D -&gt; tile palette ï¼Œç‚¹å‡»createNewPaletteåˆ›å»ºpalette å¯¼å…¥Levelæ–‡ä»¶å¤¹ä¸‹Spiritæ–‡ä»¶å¤¹ä¸­çš„ç´ æï¼Œå¹¶ä¸”é€‚å½“ç¼–è¾‘ TileMap åœ¨Hierarchyçª—å£ï¼Œåˆ›å»ºæ‰€éœ€è¦çš„2dObject -&gt; tilemap åœ¨Tile Paletteçª—å£ï¼Œé€‰ä¸­ç›¸åº”Active Tile Mapå¹¶ç»˜åˆ¶ åœ¨Inspectorçª—å£è®¾ç½®Sorting Layerï¼Œå¦‚ä¸‹ â€‹ Sorting Layerä¸­Layerè¶Šé ä¸‹è¶Šæ˜¾ç¤ºåœ¨å‰æ–¹ï¼Œä½äºåŒä¸€Layerä¸­Order in Layeræ•°å€¼è¶Šå¤§è¶Šæ˜¾ç¤ºåœ¨å‰æ–¹ å…¶ä¸­ Background Detailsç”¨äºåœ¨Backgroundä¸­å†æ·»åŠ ç›¸åº”tileï¼ˆåœ¨åŒä¸€ä¸ªTileMapä¸Šç»˜åˆ¶åªèƒ½æ˜¾ç¤ºä¸€ä¸ªtileï¼Œå³ä½¿tileæ˜¯å«æœ‰é€æ˜èƒŒæ™¯ï¼Œä¹Ÿä¼šå®Œå…¨æ›¿æ¢ï¼‰ 2D Extraæ’ä»¶RuleTile åœ¨Tilesæ–‡ä»¶å¤¹ä¸‹å³é”®ç‚¹å‡» Create -&gt; tiles -&gt; rule tileï¼Œå¹¶åœ¨Inspectorçª—å£ä¸­è®¾ç½® Default Spriteé»˜è®¤å›¾ç‰‡ åœ¨Inspectorçª—å£ä¸­ï¼Œè®¾ç½®Tiling Rulesï¼Œå¹¶å°†æ–°tileæ‹–æ‹½è¿›Tile Paletteå¹¶ç»˜åˆ¶ï¼Œå¦‚ä¸‹ â€‹ æ¯ä¸€ä¸ªTiling Rulesä¸­ï¼Œå³ä¾§å›¾ç‰‡ä¸ºç¬¦åˆè¯¥è§„åˆ™å°±æ˜¾ç¤ºçš„tileï¼Œä¹å®«æ ¼ä¸­è®¾ç½®è§„åˆ™ï¼Œç»¿è‰²ç®­å¤´è¡¨ç¤ºåœ¨è¯¥æ–¹å‘ä¸Šæœ‰tileï¼Œçº¢è‰²å‰å·è¡¨ç¤ºä¸èƒ½æœ‰tileï¼ŒåŒæ—¶åˆ—è¡¨ä¸­è¶Šé ä¸Šçš„ruleä¼˜å…ˆçº§è¶Šé«˜â€‹ å¦‚ä¸Šè®¾ç½®å¯å¿«é€Ÿå¡«å……å°é—­å›¾å½¢çš„å¯¹åº”tile å¦‚ä¸‹è§„åˆ™è§£å†³å†…è§’é—®é¢˜ï¼Œæ³¨æ„è¿™å››ä¸ªè§’çš„é¢å¤–ruleè¦æ”¾åœ¨æ¨ªç«–ä¸¤ä¸ªtileçš„ä¸Šæ–¹ Brush æƒ³è¦æ·»åŠ è´´åˆæ ¼å­çš„ç‰©ä»¶prefabï¼Œå¯ä»¥ä½¿ç”¨åˆ›å»ºbrushçš„æ–¹å¼ åˆ›å»ºbrushï¼Œå³é”®ç‚¹å‡» create -&gt; Brush -&gt; prefab Brush æ·»åŠ Element åœ¨ Tile Palette çª—å£ä¸­å·¦ä¸‹è§’ä½¿ç”¨è‡ªå®šä¹‰brushå³å¯ æ·»åŠ çš„å¯¹è±¡åˆ«å¿˜äº†è®¾ç½®Layerä»¥åˆ¤æ–­ï¼ŒåŒæ—¶å¯ä»¥ä½¿ç”¨Overrideä½¿å¾—åŒä¸€ç‰©å“ç›¸åŒè®¾ç½® Colliderå’ŒRigidbodyPlatformè®¾ç½®Colliderå’ŒRigidbody é€‰ä¸­Platformå¯¹è±¡ï¼Œåœ¨Inspectorçª—å£ä¸‹æ–¹ç‚¹å‡» add component -&gt; Tilemap Collider 2D å‹¾é€‰colliderä¸­çš„ user By Compositeï¼Œå³ä½¿ç”¨å¤åˆç¢°æ’ä½“ï¼ŒæŒ‰ç…§æç¤ºæ·»åŠ  Composite Collider 2Dï¼Œåˆ™æ•´ä¸ªPlatformä¸ºä¸€ä¸ªæ•´ä½“ç¢°æ’ä½“ å°†éšä¹‹æ·»åŠ çš„ rigidbody -&gt; bodytypeè®¾ç½®ä¸ºstaticï¼Œå³å¯ä¿æŒPlatformå›ºå®šï¼Œè€Œä¸ä¼šå› ä¸ºgravityé‡åŠ›ä¸‹è½ åŒæ—¶ä¹Ÿå¯ä»¥å°†Platformæœ¬èº«è®¾ç½®ä¸ºstatic Playerè®¾ç½®Colliderå’ŒRigidbody é€‰ä¸­Playerå¯¹è±¡ï¼Œç‚¹å‡» add component -&gt; rigidbody 2Dï¼Œå¹¶è®¾ç½®å‚æ•°å¦‚ä¸‹ â€‹ æ³¨æ„Colllision Detection ç¢°æ’æ–¹å¼è®¾ç½®ä¸ºContinuousï¼Œå³å¯æŒç»­åˆ¤æ–­æ˜¯å¦äº§ç”Ÿç¢°æ’ï¼› Interpolateå·®å€¼è®¾ç½®ä¸ºInterpolateï¼Œå³å¯å½“ä¸‹è½ç¢°æ’æ—¶å¯¹ç¢°æ’ä½“äº§ç”Ÿä¸€å®šæ•ˆæœï¼ˆåŸºäºä¸Šä¸€å¸§ç‰©ä½“ä½ç½®æ¥æ’å€¼æ¨¡æ‹Ÿï¼‰ ç‚¹å‡» add component -&gt; Box Collider 2Dï¼Œå¹¶ç‚¹å‡»Editè®¾ç½®ç¢°æ’ä½“èŒƒå›´ åŒæ—¶åœ¨ Constraintsé™åˆ¶é€‰é¡¹ä¸­é€‰æ‹©Freeze Rotation Zï¼Œå³å¯é˜²æ­¢å½“è§’è‰²å¤„äºPlatformè§’ä¸Šæ—¶ä¼šç»•ç€Zè½´æ—‹è½¬æ‰è½ åŒæ—¶ä¸ºCollideræ·»åŠ Materail Layerä¸ºPlatformå’ŒPlayeræ·»åŠ ä¸åŒçš„Layerï¼Œç”¨äºæ—¥ååˆ¤æ–­ Playerå·¦å³ç§»åŠ¨å’Œå½¢è±¡ç¿»è½¬12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerMovement : MonoBehaviour&#123; // é€šè¿‡ â€œHeaderâ€, â€œTooltipâ€ and â€œSpaceâ€ å±æ€§æ¥ç»„ç»‡Inspectorä¸­çš„å±æ€§æ˜¾ç¤ºï¼Œå³åœ¨Inspectorçª—å£ä¸Šæœ‰å°æ ‡é¢˜åˆ†åŒºæ˜¾ç¤º // åˆ›å»ºrigidbody private Rigidbody2D rb; [Header(&quot;ç§»åŠ¨å‚æ•°&quot;)] public float speed = 8f; // public float crouchSpeedDivisor = 3f; // è¹²ä¸‹é€Ÿåº¦å‡ç¼“é‡ [Header(&quot;çŠ¶æ€&quot;)] public bool isCrouch; // æ˜¯å¦ä¸‹è¹² float xVelocity; // è½´é€Ÿåº¦ void Start() &#123; // è·å–rigidbody rb = GetComponent&lt;Rigidbody2D&gt;(); &#125; void Update() &#123; &#125; // å›ºå®šå¸§é€Ÿç‡ä¸‹æ¯å¸§éƒ½è°ƒç”¨è¯¥å‡½æ•° private void FixedUpdate() &#123; GroundMovement(); &#125; // æ§åˆ¶è§’è‰²å·¦å³ç§»åŠ¨ void GroundMovement() &#123; // è·å–é”®ç›˜è¾“å…¥å¹¶è®¾ç½®ç§»åŠ¨ xVelocity = Input.GetAxis(&quot;Horizontal&quot;); // è¿”å›å€¼-1f ~ 1fï¼Œå½“ä¸æŒ‰ä¸‹æ–¹å‘é”®æ—¶ä¸º0 rb.velocity = new Vector2(xVelocity * speed, rb.velocity.y); // æ§åˆ¶æœå‘ FlipDiraction(); &#125; // æ§åˆ¶è§’è‰²é¢å‘æ–¹å‘ void FlipDiraction() &#123; if(xVelocity &lt; 0) &#123; transform.localScale = new Vector2(-1, 1); &#125;else if(xVelocity &gt; 0) &#123; transform.localScale = new Vector2(1, 1); &#125; &#125;&#125; Playerä¸‹è¹²ç‚¹å‡» Edit -&gt; Project Setting -&gt; Input Manager -&gt; å¤åˆ¶JumpElementå¹¶ä¿®æ”¹ä¸ºCrouch 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerMovement : MonoBehaviour&#123; // é€šè¿‡ â€œHeaderâ€, â€œTooltipâ€ and â€œSpaceâ€ å±æ€§æ¥ç»„ç»‡Inspectorä¸­çš„å±æ€§æ˜¾ç¤ºï¼Œå³åœ¨Inspectorçª—å£ä¸Šæœ‰å°æ ‡é¢˜åˆ†åŒºæ˜¾ç¤º // rigidbody,collider private Rigidbody2D rb; private BoxCollider2D coll; // ä½¿ç”¨BoxColliderå¯ä»¥ç›´æ¥è·å¾—å…¶ä¸­çš„sizeã€offsetå‚æ•° [Header(&quot;ç§»åŠ¨å‚æ•°&quot;)] public float speed = 8f; // public float crouchSpeedDivisor = 3f; // è¹²ä¸‹æ—¶çš„é€Ÿåº¦å‡ç¼“é‡ [Header(&quot;çŠ¶æ€&quot;)] public bool isCrouch; // æ˜¯å¦ä¸‹è¹² float xVelocity; // è½´é€Ÿåº¦ // ç¢°æ’ä½“å°ºå¯¸ (ç«™ç«‹ã€ä¸‹è¹²æ—¶çš„å¤§å°ã€ä½ç½®) Vector2 colliderStandSize, colliderStandOffset,colliderCrouchSize, colliderCrouchOffset; // åˆå§‹åŒ–å‚æ•° void Start() &#123; // rigidbody,collider rb = GetComponent&lt;Rigidbody2D&gt;(); coll = GetComponent&lt;BoxCollider2D&gt;(); // ç¢°æ’ä½“å°ºå¯¸ colliderStandSize = coll.size; colliderStandOffset = coll.offset; colliderCrouchSize = new Vector2(coll.size.x, coll.size.y / 2f); colliderCrouchOffset = new Vector2(coll.offset.x, coll.offset.y / 2f); &#125; // Update is called once per frame void Update() &#123; &#125; // å›ºå®šå¸§é€Ÿç‡ä¸‹æ¯å¸§éƒ½è°ƒç”¨è¯¥å‡½æ•° private void FixedUpdate() &#123; GroundMovement(); &#125; // æ§åˆ¶è§’è‰²å·¦å³ç§»åŠ¨ void GroundMovement() &#123; // è·å–é”®ç›˜è¾“å…¥ xVelocity = Input.GetAxis(&quot;Horizontal&quot;); // è¿”å›å€¼-1f ~ 1fï¼Œå½“ä¸æŒ‰ä¸‹æ–¹å‘é”®æ—¶ä¸º0 // åˆ¤æ–­æ˜¯å¦æŒ‰ä¸‹ä¸‹è¹²æŒ‰é’®ã€æ˜¯å¦æœªæŒ‰ä¸‹æŒ‰é’®å¹¶å¤„äºä¸‹è¹²çŠ¶æ€ if (Input.GetButton(&quot;Crouch&quot;)) &#123; // æ§åˆ¶è§’è‰²ä¸‹è¹² Crouch(); &#125;else if(isCrouch) &#123; // æ§åˆ¶è§’è‰²èµ·èº« StandUp(); &#125; // æ§åˆ¶è§’è‰²é€Ÿåº¦ä»¥ç§»åŠ¨ rb.velocity = new Vector2(xVelocity * speed, rb.velocity.y); // æ§åˆ¶æœå‘ FlipDiraction(); &#125; // æ§åˆ¶è§’è‰²é¢å‘æ–¹å‘ void FlipDiraction() &#123; if(xVelocity &lt; 0) &#123; transform.localScale = new Vector2(-1, 1); &#125;else if(xVelocity &gt; 0) &#123; transform.localScale = new Vector2(1, 1); &#125; &#125; // æ§åˆ¶è§’è‰²ä¸‹è¹² void Crouch() &#123; isCrouch = true; // ä¸‹è¹²æ—¶é€Ÿåº¦å‡ç¼“ xVelocity /= crouchSpeedDivisor; // æ”¹å˜colliderçš„å°ºå¯¸ coll.size = colliderCrouchSize; coll.offset = colliderCrouchOffset; &#125; // æ§åˆ¶è§’è‰²èµ·ç«‹ void StandUp() &#123; isCrouch = false; // æ”¹å˜colliderçš„å°ºå¯¸ coll.size = colliderStandSize; coll.offset = colliderStandOffset; &#125;&#125; Playerè·³è·ƒ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerMovement : MonoBehaviour&#123; // é€šè¿‡ â€œHeaderâ€, â€œTooltipâ€ and â€œSpaceâ€ å±æ€§æ¥ç»„ç»‡Inspectorä¸­çš„å±æ€§æ˜¾ç¤ºï¼Œå³åœ¨Inspectorçª—å£ä¸Šæœ‰å°æ ‡é¢˜åˆ†åŒºæ˜¾ç¤º // rigidbody,collider private Rigidbody2D rb; private BoxCollider2D coll; // ä½¿ç”¨BoxColliderå¯ä»¥ç›´æ¥è·å¾—å…¶ä¸­çš„sizeã€offsetå‚æ•° [Header(&quot;ç§»åŠ¨å‚æ•°&quot;)] public float speed = 8f; public float crouchSpeedDivisor = 3f; // è¹²ä¸‹æ—¶çš„é€Ÿåº¦å‡ç¼“é‡ [Header(&quot;è·³è·ƒå‚æ•°&quot;)] public float jumpForce = 6.3f; // è·³è·ƒåŠ› public float jumpHoldForce = 1.9f; // é•¿æŒ‰è·³è·ƒçš„åŠ› public float jumpHoldDuration = 0.1f; // é•¿æŒ‰è·³è·ƒåŠ æˆ public float crouchJumpBoost = 2.5f; // ä¸‹è¹²è·³è·ƒçš„åŠ æˆ [Header(&quot;çŠ¶æ€&quot;)] public bool isCrouch; // æ˜¯å¦ä¸‹è¹² public bool isOnGround; // æ˜¯å¦æ¥è§¦åœ°é¢ public bool isJump; // æ˜¯å¦è·³è·ƒ [Header(&quot;ç¯å¢ƒæ£€æµ‹&quot;)] public LayerMask groundLayer; // åœ°é¢å±‚ float xVelocity; // è½´é€Ÿåº¦ float jumpTime; // è·³è·ƒæ—¶é—´ï¼Œä¸durationç›¸å…³ // æŒ‰é”® bool jumpPressed, jumpHeld, crouchHeld; // ç¢°æ’ä½“å°ºå¯¸ (ç«™ç«‹ã€ä¸‹è¹²æ—¶çš„å¤§å°ã€ä½ç½®) Vector2 colliderStandSize, colliderStandOffset,colliderCrouchSize, colliderCrouchOffset; // åˆå§‹åŒ–å‚æ•° void Start() &#123; // rigidbody,collider rb = GetComponent&lt;Rigidbody2D&gt;(); coll = GetComponent&lt;BoxCollider2D&gt;(); // ç¢°æ’ä½“å°ºå¯¸ colliderStandSize = coll.size; colliderStandOffset = coll.offset; colliderCrouchSize = new Vector2(coll.size.x, coll.size.y / 2f); colliderCrouchOffset = new Vector2(coll.offset.x, coll.offset.y / 2f); &#125; // è·å–GetButtonæœ€å¥½æ”¾åœ¨æ­¤å‡½æ•°ä¸­ void Update() &#123; // GetButtonå‚æ•°å¯¹åº”Project Setting -&gt; Input Managerçš„è®¾ç½® jumpPressed = Input.GetButtonDown(&quot;Jump&quot;); jumpHeld = Input.GetButton(&quot;Jump&quot;); crouchHeld = Input.GetButton(&quot;Crouch&quot;); &#125; // å›ºå®šå¸§é€Ÿç‡ä¸‹æ¯å¸§éƒ½è°ƒç”¨è¯¥å‡½æ•° private void FixedUpdate() &#123; // ç›¸å…³ç‰©ç†æ§åˆ¶ GroundMovement(); PhysicsCheck(); MidAirMovement(); &#125; // ç¯å¢ƒæ£€æµ‹ void PhysicsCheck() &#123; // æ˜¯å¦æ¥è§¦åœ°é¢å±‚ if (coll.IsTouchingLayers(groundLayer)) &#123; isOnGround = true; &#125; else &#123; isOnGround = false; &#125; &#125; // æ§åˆ¶è§’è‰²å·¦å³ç§»åŠ¨ void GroundMovement() &#123; // è·å–é”®ç›˜è¾“å…¥ xVelocity = Input.GetAxis(&quot;Horizontal&quot;); // è¿”å›å€¼-1f ~ 1fï¼Œå½“ä¸æŒ‰ä¸‹æ–¹å‘é”®æ—¶ä¸º0 // åˆ¤æ–­æ˜¯å¦ if (crouchHeld &amp;&amp; !isCrouch &amp;&amp; isOnGround) &#123; // æŒ‰ä¸‹ä¸‹è¹²æŒ‰é’®ï¼Œä¸å¤„äºä¸‹è¹²çŠ¶æ€ï¼Œæ¥è§¦åœ°é¢ --ã€‹ è§’è‰²ä¸‹è¹² Crouch(); &#125; else if(!crouchHeld &amp;&amp; isCrouch) &#123; // æœªæŒ‰ä¸‹æŒ‰é’®å¹¶å¤„äºä¸‹è¹²çŠ¶æ€ --ã€‹ è§’è‰²èµ·èº« StandUp(); &#125; else if(!isOnGround &amp;&amp; isCrouch) &#123; // ä¸æ¥è§¦åœ°é¢ä½†æ˜¯å¤„äºä¸‹è¹²çŠ¶æ€ â€”â€”ã€‹ å¤„äºç©ºä¸­ --ã€‹ è§’è‰²èµ·èº« StandUp(); &#125; // æ§åˆ¶è§’è‰²é€Ÿåº¦ä»¥ç§»åŠ¨ rb.velocity = new Vector2(xVelocity * speed, rb.velocity.y); // æ§åˆ¶æœå‘ FlipDiraction(); &#125; // æ§åˆ¶è§’è‰²è·³è·ƒ void MidAirMovement() &#123; if(jumpPressed &amp;&amp; isOnGround &amp;&amp; !isJump) &#123; // isOnGround &amp;&amp; !isJump é˜²æ­¢è¹­å¢™æ— é™è·³ // æŒ‰ä¸‹äº†è·³è·ƒï¼Œæ¥è§¦åœ°é¢ï¼Œæœªå¤„äºè·³è·ƒçŠ¶æ€ â€”â€”ã€‹ æ§åˆ¶è·³è·ƒ // ä¸‹è¹²çŠ¶æ€è·³è·ƒï¼Œæœ‰é¢å¤–åŠ›çš„åŠ æˆ if (isCrouch) &#123; // æ§åˆ¶èµ·èº« StandUp(); // æ·»åŠ é¢å¤–åŠ› rb.AddForce(new Vector2(0f, crouchJumpBoost), ForceMode2D.Impulse); &#125; isJump = true; isOnGround = false; // è®¡ç®—è·³è·ƒæ—¶çš„æ—¶é—´ï¼ŒTime.timeè·å–æ¸¸æˆçœŸå®æŒç»­æ—¶é—´(ä¸æ–­å¢é•¿) jumpTime = Time.time + jumpHoldDuration; // ä¿®æ”¹rb.velocityä¹Ÿå¯ä»¥å®ç° rb.AddForce(new Vector2(0f, jumpForce), ForceMode2D.Impulse); &#125; else if (isJump) &#123; // é•¿æŒ‰è·³è·ƒï¼Œè·å¾—é¢å¤–çš„åŠ›jumpHoldForceåŠ æˆ if (jumpHeld) &#123; rb.AddForce(new Vector2(0f, jumpHoldForce), ForceMode2D.Impulse); &#125; // å½“Time.timeè·å–çš„æ—¶é—´æ¯”jumpTimeå¤§ï¼Œå³ä¹‹é—´çš„æ—¶é—´å·®å·²ç»å¤§äºjumpHoldDurationçš„å€¼æ—¶ï¼Œå³å¯æ¢å¤isJump if (jumpTime &lt; Time.time) &#123; isJump = false; &#125; &#125; &#125; // æ§åˆ¶è§’è‰²é¢å‘æ–¹å‘ void FlipDiraction() &#123; if(xVelocity &lt; 0) &#123; transform.localScale = new Vector2(-1, 1); &#125;else if(xVelocity &gt; 0) &#123; transform.localScale = new Vector2(1, 1); &#125; &#125; // æ§åˆ¶è§’è‰²ä¸‹è¹² void Crouch() &#123; isCrouch = true; // ä¸‹è¹²æ—¶é€Ÿåº¦å‡ç¼“ xVelocity /= crouchSpeedDivisor; // æ”¹å˜colliderçš„å°ºå¯¸ coll.size = colliderCrouchSize; coll.offset = colliderCrouchOffset; &#125; // æ§åˆ¶è§’è‰²èµ·ç«‹ void StandUp() &#123; isCrouch = false; // æ”¹å˜colliderçš„å°ºå¯¸ coll.size = colliderStandSize; coll.offset = colliderStandOffset; &#125;&#125; Raycastå°„çº¿æ£€æµ‹å®ç°ç§»åŠ¨è·³è·ƒä¸‹è¹²æ£€æµ‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerMovement : MonoBehaviour&#123; // é€šè¿‡ â€œHeaderâ€, â€œTooltipâ€ and â€œSpaceâ€ å±æ€§æ¥ç»„ç»‡Inspectorä¸­çš„å±æ€§æ˜¾ç¤ºï¼Œå³åœ¨Inspectorçª—å£ä¸Šæœ‰å°æ ‡é¢˜åˆ†åŒºæ˜¾ç¤º // rigidbody,collider private Rigidbody2D rb; private BoxCollider2D coll; // ä½¿ç”¨BoxColliderå¯ä»¥ç›´æ¥è·å¾—å…¶ä¸­çš„sizeã€offsetå‚æ•° [Header(&quot;ç§»åŠ¨å‚æ•°&quot;)] public float speed = 8f; public float crouchSpeedDivisor = 3f; // è¹²ä¸‹æ—¶çš„é€Ÿåº¦å‡ç¼“é‡ [Header(&quot;è·³è·ƒå‚æ•°&quot;)] public float jumpForce = 6.3f; // è·³è·ƒåŠ› public float jumpHoldForce = 1.9f; // é•¿æŒ‰è·³è·ƒçš„åŠ› public float jumpHoldDuration = 0.1f; // é•¿æŒ‰è·³è·ƒåŠ æˆ public float crouchJumpBoost = 2.5f; // ä¸‹è¹²è·³è·ƒçš„åŠ æˆ [Header(&quot;çŠ¶æ€&quot;)] public bool isCrouch; // æ˜¯å¦ä¸‹è¹² public bool isOnGround; // æ˜¯å¦æ¥è§¦åœ°é¢ public bool isHeadBlocked; // æ˜¯å¦å¤´é¡¶é®æŒ¡ public bool isJump; // æ˜¯å¦è·³è·ƒ [Header(&quot;ç¯å¢ƒæ£€æµ‹&quot;)] public float footOffset = 0.35f; // å•è„šçš„åç§»å€¼ï¼Œå³æ•´ä½“xoffsetçš„ä¸€åŠ public float headClearance = 0.5f; public float groundDistance = 0.2f; public LayerMask groundLayer; // åœ°é¢å±‚ float xVelocity; // è½´é€Ÿåº¦ float jumpTime; // è·³è·ƒæ—¶é—´ï¼Œä¸durationç›¸å…³ // æŒ‰é”® bool jumpPressed, jumpHeld, crouchHeld; // ç¢°æ’ä½“å°ºå¯¸ (ç«™ç«‹ã€ä¸‹è¹²æ—¶çš„å¤§å°ã€ä½ç½®) Vector2 colliderStandSize, colliderStandOffset,colliderCrouchSize, colliderCrouchOffset; // åˆå§‹åŒ–å‚æ•° void Start() &#123; // rigidbody,collider rb = GetComponent&lt;Rigidbody2D&gt;(); coll = GetComponent&lt;BoxCollider2D&gt;(); // ç¢°æ’ä½“å°ºå¯¸ colliderStandSize = coll.size; colliderStandOffset = coll.offset; colliderCrouchSize = new Vector2(coll.size.x, coll.size.y / 2f); colliderCrouchOffset = new Vector2(coll.offset.x, coll.offset.y / 2f); &#125; // è·å–GetButtonæœ€å¥½æ”¾åœ¨æ­¤å‡½æ•°ä¸­ void Update() &#123; // GetButtonå‚æ•°å¯¹åº”Project Setting -&gt; Input Managerçš„è®¾ç½® jumpPressed = Input.GetButtonDown(&quot;Jump&quot;); jumpHeld = Input.GetButton(&quot;Jump&quot;); crouchHeld = Input.GetButton(&quot;Crouch&quot;); &#125; // å›ºå®šå¸§é€Ÿç‡ä¸‹æ¯å¸§éƒ½è°ƒç”¨è¯¥å‡½æ•° private void FixedUpdate() &#123; // ç›¸å…³ç‰©ç†æ§åˆ¶ GroundMovement(); PhysicsCheck(); MidAirMovement(); &#125; // ç¯å¢ƒæ£€æµ‹ void PhysicsCheck() &#123; /* // å½“å‰è§’è‰²çš„ä½ç½®å’Œå•è„šå·¦å³ç‚¹çš„offset Vector2 pos = transform.position; Vector2 offset = new Vector2(-footOffset, 0f); // leftCheck/rightCheckå³å•è„šå·¦å³ç‚¹æ£€æµ‹ RaycastHit2D leftCheck = Physics2D.Raycast(pos+offset,Vector2.down,groundDistance,groundLayer); // æ˜¾ç¤ºå°„çº¿ Debug.DrawRay(pos + offset, Vector2.down, Color.red, 0.2f); */ // 1ã€å·¦å³è„šæ£€æµ‹æ˜¯å¦æ¥è§¦åœ°é¢ // è·å¾—å°„çº¿æ£€æµ‹ RaycastHit2D leftCheck = Raycast(new Vector2(-footOffset, 0f), Vector2.down, groundDistance, groundLayer); RaycastHit2D rightCheck = Raycast(new Vector2(footOffset, 0f), Vector2.down, groundDistance, groundLayer); // æ˜¯å¦æ¥è§¦åœ°é¢å±‚ //if (coll.IsTouchingLayers(groundLayer)) if (leftCheck || rightCheck) &#123; isOnGround = true; &#125; else &#123; isOnGround = false; &#125; // 2ã€å¤´é¡¶æ£€æµ‹æ˜¯å¦æœ‰é˜»æŒ¡ RaycastHit2D headCheck = Raycast(new Vector2(0f, coll.size.y), Vector2.up, headClearance, groundLayer); if (headCheck) &#123; isHeadBlocked = true; &#125; else &#123; isHeadBlocked = false; &#125; &#125; // æ§åˆ¶è§’è‰²å·¦å³ç§»åŠ¨ void GroundMovement() &#123; // è·å–é”®ç›˜è¾“å…¥ xVelocity = Input.GetAxis(&quot;Horizontal&quot;); // è¿”å›å€¼-1f ~ 1fï¼Œå½“ä¸æŒ‰ä¸‹æ–¹å‘é”®æ—¶ä¸º0 // åˆ¤æ–­æ˜¯å¦ if (crouchHeld &amp;&amp; !isCrouch &amp;&amp; isOnGround) &#123; // æŒ‰ä¸‹ä¸‹è¹²æŒ‰é’®ï¼Œä¸å¤„äºä¸‹è¹²çŠ¶æ€ï¼Œæ¥è§¦åœ°é¢ --ã€‹ è§’è‰²ä¸‹è¹² Crouch(); &#125; else if(!crouchHeld &amp;&amp; isCrouch &amp;&amp; !isHeadBlocked) &#123; // æœªæŒ‰ä¸‹æŒ‰é’®,å¤„äºä¸‹è¹²çŠ¶æ€,å¤´é¡¶æ— é®æŒ¡ --ã€‹ è§’è‰²èµ·èº« StandUp(); &#125; else if(!isOnGround &amp;&amp; isCrouch) &#123; // ä¸æ¥è§¦åœ°é¢ä½†æ˜¯å¤„äºä¸‹è¹²çŠ¶æ€ â€”â€”ã€‹ å¤„äºç©ºä¸­ --ã€‹ è§’è‰²èµ·èº« StandUp(); &#125; // æ§åˆ¶è§’è‰²é€Ÿåº¦ä»¥ç§»åŠ¨ rb.velocity = new Vector2(xVelocity * speed, rb.velocity.y); // æ§åˆ¶æœå‘ FlipDiraction(); &#125; // æ§åˆ¶è§’è‰²è·³è·ƒ void MidAirMovement() &#123; if(jumpPressed &amp;&amp; isOnGround &amp;&amp; !isJump) &#123; // isOnGround &amp;&amp; !isJump é˜²æ­¢è¹­å¢™æ— é™è·³ // æŒ‰ä¸‹äº†è·³è·ƒï¼Œæ¥è§¦åœ°é¢ï¼Œæœªå¤„äºè·³è·ƒçŠ¶æ€ â€”â€”ã€‹ æ§åˆ¶è·³è·ƒ // ä¸‹è¹²çŠ¶æ€è·³è·ƒï¼Œæœ‰é¢å¤–åŠ›çš„åŠ æˆ if (isCrouch) &#123; // æ§åˆ¶èµ·èº« StandUp(); // æ·»åŠ é¢å¤–åŠ› rb.AddForce(new Vector2(0f, crouchJumpBoost), ForceMode2D.Impulse); &#125; isJump = true; isOnGround = false; // è®¡ç®—è·³è·ƒæ—¶çš„æ—¶é—´ï¼ŒTime.timeè·å–æ¸¸æˆçœŸå®æŒç»­æ—¶é—´(ä¸æ–­å¢é•¿) jumpTime = Time.time + jumpHoldDuration; // ä¿®æ”¹rb.velocityä¹Ÿå¯ä»¥å®ç° rb.AddForce(new Vector2(0f, jumpForce), ForceMode2D.Impulse); &#125; else if (isJump) &#123; // é•¿æŒ‰è·³è·ƒï¼Œè·å¾—é¢å¤–çš„åŠ›jumpHoldForceåŠ æˆ if (jumpHeld) &#123; rb.AddForce(new Vector2(0f, jumpHoldForce), ForceMode2D.Impulse); &#125; // å½“Time.timeè·å–çš„æ—¶é—´æ¯”jumpTimeå¤§ï¼Œå³ä¹‹é—´çš„æ—¶é—´å·®å·²ç»å¤§äºjumpHoldDurationçš„å€¼æ—¶ï¼Œå³å¯æ¢å¤isJump if (jumpTime &lt; Time.time) &#123; isJump = false; &#125; &#125; &#125; // æ§åˆ¶è§’è‰²é¢å‘æ–¹å‘ void FlipDiraction() &#123; if(xVelocity &lt; 0) &#123; transform.localScale = new Vector2(-1, 1); &#125;else if(xVelocity &gt; 0) &#123; transform.localScale = new Vector2(1, 1); &#125; &#125; // æ§åˆ¶è§’è‰²ä¸‹è¹² void Crouch() &#123; isCrouch = true; // ä¸‹è¹²æ—¶é€Ÿåº¦å‡ç¼“ xVelocity /= crouchSpeedDivisor; // æ”¹å˜colliderçš„å°ºå¯¸ coll.size = colliderCrouchSize; coll.offset = colliderCrouchOffset; &#125; // æ§åˆ¶è§’è‰²èµ·ç«‹ void StandUp() &#123; isCrouch = false; // æ”¹å˜colliderçš„å°ºå¯¸ coll.size = colliderStandSize; coll.offset = colliderStandOffset; &#125; // å¢å¼ºRaycastå‡½æ•° RaycastHit2D Raycast(Vector2 offset, Vector2 rayDirection, float length, LayerMask layer) &#123; // å½“å‰è§’è‰²çš„ä½ç½® Vector2 pos = transform.position; // åˆ›å»ºå°„çº¿ RaycastHit2D hit = Physics2D.Raycast(pos + offset, rayDirection, length, layer); // æ˜¾ç¤ºå°„çº¿,hitè¿”å›æ˜¯å¦ç¢°æ’å¸ƒå°”å€¼ Color color = hit ? Color.red : Color.green; Debug.DrawRay(pos + offset, rayDirection, color); return hit; &#125;&#125; å®ç°æ‚¬æŒ‚åŠŸèƒ½ä»¥åŠä¸‹è¹²è·³è·ƒçš„ä¼˜åŒ– åˆ¤æ–­Raycastå°„çº¿æ˜¯å¦ä¸ºTRUEçš„æ¡ä»¶ï¼šä¸ºå°„çº¿ä¸­æœ‰æ¥è§¦ç¢°æ’ä½“ï¼Œä½†æ˜¯å°„çº¿èµ·ç‚¹æ²¡æœ‰æ¥è§¦ç¢°æ’ä½“ï¼› 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerMovement : MonoBehaviour&#123; // é€šè¿‡ â€œHeaderâ€, â€œTooltipâ€ and â€œSpaceâ€ å±æ€§æ¥ç»„ç»‡Inspectorä¸­çš„å±æ€§æ˜¾ç¤ºï¼Œå³åœ¨Inspectorçª—å£ä¸Šæœ‰å°æ ‡é¢˜åˆ†åŒºæ˜¾ç¤º // rigidbody,collider private Rigidbody2D rb; private BoxCollider2D coll; // ä½¿ç”¨BoxColliderå¯ä»¥ç›´æ¥è·å¾—å…¶ä¸­çš„sizeã€offsetå‚æ•° [Header(&quot;ç§»åŠ¨å‚æ•°&quot;)] public float speed = 8f; public float crouchSpeedDivisor = 3f; // è¹²ä¸‹æ—¶çš„é€Ÿåº¦å‡ç¼“é‡ [Header(&quot;è·³è·ƒå‚æ•°&quot;)] public float jumpForce = 6.3f; // è·³è·ƒåŠ› public float jumpHoldForce = 1.9f; // é•¿æŒ‰è·³è·ƒçš„åŠ› public float jumpHoldDuration = 0.1f; // é•¿æŒ‰è·³è·ƒåŠ æˆ public float crouchJumpBoost = 2.5f; // ä¸‹è¹²è·³è·ƒçš„åŠ æˆ public float hangingJumpForce = 15f; // æ‚¬æŒ‚æ—¶è·³è·ƒçš„åŠ› [Header(&quot;çŠ¶æ€&quot;)] public bool isCrouch; // æ˜¯å¦ä¸‹è¹² public bool isOnGround; // æ˜¯å¦æ¥è§¦åœ°é¢ public bool isHeadBlocked; // æ˜¯å¦å¤´é¡¶é®æŒ¡ public bool isJump; // æ˜¯å¦è·³è·ƒ public bool isHanging; // æ˜¯å¦æ‚¬æŒ‚ [Header(&quot;ç¯å¢ƒæ£€æµ‹&quot;)] public LayerMask groundLayer; // åœ°é¢å±‚ public float headClearance = 0.25f; public float groundDistance = 0.2f; public float grabDistance = 0.4f; // æŠ“å–è·ç¦» public float reachOffset = 0.7f; // æ¥è§¦åç§»å€¼ float footOffset; // å•è„šçš„åç§»å€¼ï¼Œå³æ•´ä½“xsizeçš„ä¸€åŠ float xVelocity; // è½´åŠ é€Ÿåº¦ float jumpTime; // è·³è·ƒæ—¶é—´ï¼Œä¸durationç›¸å…³ float playerHeight; // è§’è‰²é«˜åº¦ float eyeHeight; // è§’è‰²çœ¼ç›é«˜åº¦ // æŒ‰é”® bool jumpPressed, jumpHeld, crouchHeld, crouchPressed; // ç¢°æ’ä½“å°ºå¯¸ (ç«™ç«‹ã€ä¸‹è¹²æ—¶çš„å¤§å°ã€ä½ç½®) Vector2 colliderStandSize, colliderStandOffset,colliderCrouchSize, colliderCrouchOffset; // åˆå§‹åŒ–å‚æ•° void Start() &#123; // rigidbody,collider rb = GetComponent&lt;Rigidbody2D&gt;(); coll = GetComponent&lt;BoxCollider2D&gt;(); footOffset = coll.size.x / 2; playerHeight = coll.size.y; eyeHeight = playerHeight - 0.4f; // ç¢°æ’ä½“å°ºå¯¸ colliderStandSize = coll.size; colliderStandOffset = coll.offset; colliderCrouchSize = new Vector2(coll.size.x, coll.size.y / 2f); colliderCrouchOffset = new Vector2(coll.offset.x, coll.offset.y / 2f); &#125; // è·å–GetButtonæœ€å¥½æ”¾åœ¨æ­¤å‡½æ•°ä¸­ void Update() &#123; // GetButtonå‚æ•°å¯¹åº”Project Setting -&gt; Input Managerçš„è®¾ç½® jumpPressed = Input.GetButtonDown(&quot;Jump&quot;); jumpHeld = Input.GetButton(&quot;Jump&quot;); crouchHeld = Input.GetButton(&quot;Crouch&quot;); crouchPressed = Input.GetButtonDown(&quot;Crouch&quot;); playerHeight = coll.size.y; eyeHeight = playerHeight - 0.4f; &#125; // å›ºå®šå¸§é€Ÿç‡ä¸‹æ¯å¸§éƒ½è°ƒç”¨è¯¥å‡½æ•° private void FixedUpdate() &#123; // ç›¸å…³ç‰©ç†æ§åˆ¶ GroundMovement(); PhysicsCheck(); MidAirMovement(); CrouchMovement(); HangdingMovement(); &#125; // ç¯å¢ƒæ£€æµ‹ void PhysicsCheck() &#123; /* // å½“å‰è§’è‰²çš„ä½ç½®å’Œå•è„šå·¦å³ç‚¹çš„offset Vector2 pos = transform.position; Vector2 offset = new Vector2(-footOffset, 0f); // leftCheck/rightCheckå³å•è„šå·¦å³ç‚¹æ£€æµ‹ RaycastHit2D leftCheck = Physics2D.Raycast(pos+offset,Vector2.down,groundDistance,groundLayer); // æ˜¾ç¤ºå°„çº¿ Debug.DrawRay(pos + offset, Vector2.down, Color.red, 0.2f); */ // 1ã€å·¦å³è„šå°„çº¿æ£€æµ‹ æ˜¯å¦æ¥è§¦åœ°é¢ // è·å¾—å°„çº¿æ£€æµ‹ RaycastHit2D leftCheck = Raycast(new Vector2(-footOffset, 0f), Vector2.down, groundDistance, groundLayer); RaycastHit2D rightCheck = Raycast(new Vector2(footOffset, 0f), Vector2.down, groundDistance, groundLayer); // æ˜¯å¦æ¥è§¦åœ°é¢å±‚ //if (coll.IsTouchingLayers(groundLayer)) if (leftCheck || rightCheck) isOnGround = true; else isOnGround = false; // 2ã€å¤´é¡¶å°„çº¿æ£€æµ‹ æ˜¯å¦æœ‰é˜»æŒ¡ RaycastHit2D headCheck = Raycast(new Vector2(0f, playerHeight), Vector2.up, headClearance, groundLayer); if (headCheck) isHeadBlocked = true; else isHeadBlocked = false; // 3ã€å¤´å‰æ–¹åŒºåŸŸå°„çº¿æ£€æµ‹ æ˜¯å¦æ‚¬æŒ‚ float diraction = transform.localScale.x; RaycastHit2D blockedCheck = Raycast(new Vector2(footOffset * diraction, playerHeight), new Vector2(diraction,0f), grabDistance, groundLayer); RaycastHit2D wallCheck = Raycast(new Vector2(footOffset * diraction, eyeHeight), new Vector2(diraction, 0f), grabDistance, groundLayer); RaycastHit2D ledgeCheck = Raycast(new Vector2(reachOffset * diraction, playerHeight), Vector2.down, grabDistance, groundLayer); if (!isOnGround &amp;&amp; rb.velocity.y &lt; 0f &amp;&amp; ledgeCheck &amp;&amp; wallCheck &amp;&amp; !blockedCheck) &#123; // å°†playerå›ºå®šåœ¨ä¸€ä¸ªä½ç½® Vector3 pos = transform.position; pos.x += (wallCheck.distance - 0.05f) * diraction; // RaycastHit2Dä¸‹çš„distanceä¸ºèµ·å§‹ç‚¹åˆ°æ¥è§¦ç‚¹çš„è·ç¦» pos.y -= ledgeCheck.distance; transform.position = pos; rb.bodyType = RigidbodyType2D.Static; // è®©è§’è‰²é™æ­¢ isHanging = true; &#125; &#125; // æ§åˆ¶è§’è‰²å·¦å³ç§»åŠ¨ void GroundMovement() &#123; // æ‚¬æŒ‚æ—¶ä¸å…è®¸ç§»åŠ¨ if (isHanging) return; // è·å–é”®ç›˜è¾“å…¥ xVelocity = Input.GetAxis(&quot;Horizontal&quot;); // è¿”å›å€¼-1f ~ 1fï¼Œå½“ä¸æŒ‰ä¸‹æ–¹å‘é”®æ—¶ä¸º0 // æ§åˆ¶è§’è‰²é€Ÿåº¦ä»¥ç§»åŠ¨ rb.velocity = new Vector2(xVelocity * speed, rb.velocity.y); // æ§åˆ¶æœå‘ FlipDiraction(); &#125; // æ§åˆ¶è§’è‰²ä¸‹è¹²èµ·ç«‹ void CrouchMovement() &#123; if (crouchHeld &amp;&amp; !isCrouch &amp;&amp; isOnGround) &#123; // æŒ‰ä¸‹ä¸‹è¹²æŒ‰é’®ï¼Œä¸å¤„äºä¸‹è¹²çŠ¶æ€ï¼Œæ¥è§¦åœ°é¢ --ã€‹ è§’è‰²ä¸‹è¹² Crouch(); &#125; else if (!crouchHeld &amp;&amp; isCrouch &amp;&amp; !isHeadBlocked) &#123; // æœªæŒ‰ä¸‹æŒ‰é’®,å¤„äºä¸‹è¹²çŠ¶æ€,å¤´é¡¶æ— é®æŒ¡ --ã€‹ è§’è‰²èµ·èº« StandUp(); &#125; else if (!isOnGround &amp;&amp; isCrouch) &#123; // ä¸æ¥è§¦åœ°é¢ä½†æ˜¯å¤„äºä¸‹è¹²çŠ¶æ€ â€”â€”ã€‹ å¤„äºç©ºä¸­ --ã€‹ è§’è‰²èµ·èº« StandUp(); &#125; &#125; // æ§åˆ¶è§’è‰²è·³è·ƒ void MidAirMovement() &#123; // è·³è·ƒæ£€æµ‹ if(jumpPressed &amp;&amp; isOnGround &amp;&amp; !isJump &amp;&amp; !isHeadBlocked) &#123; // isOnGround &amp;&amp; !isJump é˜²æ­¢è¹­å¢™æ— é™è·³ // æŒ‰ä¸‹äº†è·³è·ƒï¼Œæ¥è§¦åœ°é¢ï¼Œæœªå¤„äºè·³è·ƒçŠ¶æ€ â€”â€”ã€‹ æ§åˆ¶è·³è·ƒ // ä¸‹è¹²çŠ¶æ€è·³è·ƒï¼Œæœ‰é¢å¤–åŠ›çš„åŠ æˆ if (isCrouch &amp;&amp; !isHeadBlocked) &#123; // æ§åˆ¶èµ·èº« StandUp(); // æ·»åŠ é¢å¤–åŠ› rb.AddForce(new Vector2(0f, crouchJumpBoost), ForceMode2D.Impulse); &#125; isJump = true; isOnGround = false; // è®¡ç®—è·³è·ƒæ—¶çš„æ—¶é—´ï¼ŒTime.timeè·å–æ¸¸æˆçœŸå®æŒç»­æ—¶é—´(ä¸æ–­å¢é•¿) jumpTime = Time.time + jumpHoldDuration; // ä¿®æ”¹rb.velocityä¹Ÿå¯ä»¥å®ç° rb.AddForce(new Vector2(0f, jumpForce), ForceMode2D.Impulse); &#125; else if (isJump) &#123; // é•¿æŒ‰è·³è·ƒï¼Œè·å¾—é¢å¤–çš„åŠ›jumpHoldForceåŠ æˆ if (jumpHeld) &#123; rb.AddForce(new Vector2(0f, jumpHoldForce), ForceMode2D.Impulse); &#125; // å½“Time.timeè·å–çš„æ—¶é—´æ¯”jumpTimeå¤§ï¼Œå³ä¹‹é—´çš„æ—¶é—´å·®å·²ç»å¤§äºjumpHoldDurationçš„å€¼æ—¶ï¼Œå³å¯æ¢å¤isJump if (jumpTime &lt; Time.time) &#123; isJump = false; &#125; &#125; &#125; // æ§åˆ¶è§’è‰²æ‚¬æŒ‚æ—¶è·³è·ƒä¸ä¸‹è¹² void HangdingMovement() &#123; // æ‚¬æŒ‚æ—¶æ£€æµ‹ if (isHanging) &#123; if (jumpPressed) &#123; rb.bodyType = RigidbodyType2D.Dynamic; rb.AddForce(new Vector2(0f, hangingJumpForce), ForceMode2D.Impulse); isHanging = false; &#125; else if (crouchPressed) &#123; rb.bodyType = RigidbodyType2D.Dynamic; isHanging = false; &#125; &#125; &#125; // æ§åˆ¶è§’è‰²é¢å‘æ–¹å‘ void FlipDiraction() &#123; if(xVelocity &lt; 0) &#123; transform.localScale = new Vector2(-1, 1); &#125;else if(xVelocity &gt; 0) &#123; transform.localScale = new Vector2(1, 1); &#125; &#125; // æ§åˆ¶è§’è‰²ä¸‹è¹² void Crouch() &#123; isCrouch = true; // ä¸‹è¹²æ—¶é€Ÿåº¦å‡ç¼“ xVelocity /= crouchSpeedDivisor; // æ”¹å˜colliderçš„å°ºå¯¸ coll.size = colliderCrouchSize; coll.offset = colliderCrouchOffset; &#125; // æ§åˆ¶è§’è‰²èµ·ç«‹ void StandUp() &#123; isCrouch = false; // æ”¹å˜colliderçš„å°ºå¯¸ coll.size = colliderStandSize; coll.offset = colliderStandOffset; &#125; // å¢å¼ºRaycastå‡½æ•° RaycastHit2D Raycast(Vector2 offset, Vector2 rayDirection, float length, LayerMask layer) &#123; // å½“å‰è§’è‰²çš„ä½ç½® Vector2 pos = transform.position; // åˆ›å»ºå°„çº¿ RaycastHit2D hit = Physics2D.Raycast(pos + offset, rayDirection, length, layer); // æ˜¾ç¤ºå°„çº¿,hitè¿”å›æ˜¯å¦ç¢°æ’å¸ƒå°”å€¼ Color color = hit ? Color.red : Color.green; Debug.DrawRay(pos + offset, rayDirection, color); return hit; &#125;&#125; 2Dé€è§†æ•ˆæœä¸æ‘„åƒæœº PackageManager -&gt; CineMachinesæ’ä»¶å¯¼å…¥ï¼Œæ·»åŠ Followé€‰é¡¹ body -&gt; dead zoneé”æ­»èŒƒå›´ï¼Œåœ¨è¯¥èŒƒå›´å†…ç§»åŠ¨ä¸ä¼šè·Ÿç€ç§»åŠ¨æ‘„åƒæœº body -&gt; Screen è®¾ç½®followè§’è‰²åœ¨æ‘„åƒæœºçš„å“ªä¸ªä½ç½® body -&gt; CameraDistance è®¾ç½®æ‘„åƒæœºåŒ…æ‹¬èŒƒå›´ Main Camera -&gt; Projection -&gt; Perspectiveï¼Œå³å¯æ¨¡æ‹Ÿæ­£å¸¸æ‘„åƒæœºæ•ˆæœï¼ˆåˆ‡æ¢Scene 2Då³å¯æŸ¥çœ‹ï¼‰ Extension -&gt; Confineræ·»åŠ æ‘„åƒæœºç§»åŠ¨è¾¹ç•Œï¼Œä¸ºBackgroundæ·»åŠ Colliderï¼Œæ³¨æ„ä¸€å®šè¦ç‚¹é€‰is triggeré€‰é¡¹ ç¯å…‰ å¯¹Objectå³é”®light -&gt; point light æ·»åŠ ç‚¹å…‰æº ä¸ºPlateformã€Backgroundæ·»åŠ materail Window -&gt; Rendering -&gt;light -&gt;Enviroment -&gt; Ambient Colorï¼Œè®¾ç½®ä¸»åœºæ™¯ç¯å…‰ åŠ¨ç”» Window -&gt; Animator/Animationï¼Œæ‰“å¼€çª—å£ æ·»åŠ scriptï¼šPlayerAnimationå¦‚ä¸‹ 12345678910111213141516171819202122232425262728using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerAnimation : MonoBehaviour&#123; Animator animator; PlayerMovement movement; int groundID; void Start() &#123; animator = GetComponent&lt;Animator&gt;(); groundID = Animator.StringToHash(&quot;isOnGround&quot;); // è·å–çˆ¶ç»„ä»¶çš„è„šæœ¬ movement = GetComponentInParent&lt;PlayerMovement&gt;(); &#125; void Update() &#123; // è®¾ç½®animatiorçš„çŠ¶æ€å€¼ animator.SetFloat(&quot;speed&quot;, Mathf.Abs(movement.xVelocity)); // ä½¿ç”¨ç¼–å·å¯¹åº”èµ‹å€¼ã€å­—ç¬¦ä¸²å¯¹åº”èµ‹å€¼ animator.SetBool(groundID, movement.isOnGround); animator.SetBool(&quot;isJumping&quot;, movement.isJump); animator.SetBool(&quot;isCrouching&quot;, movement.isCrouch); animator.SetBool(&quot;isHanging&quot;, movement.isHanging); &#125;&#125; ä½¿ç”¨BlendTree åœ¨Animatorçš„BaseLayerä¸­å³é”® Create State -&gt; From New Blend Tree ç‚¹å‡»æ–°çš„BlendTreeStateï¼Œåœ¨Inspector -&gt; Motion æ·»åŠ Motionï¼Œæ·»åŠ æ¯ä¸€ä¸ªmotionå¯¹åº”çš„animationï¼Œä¸”å°†Parameterè®¾ç½®ä¸ºè‡ªå®šä¹‰çš„state Thresholdä¸´ç•Œå€¼é€‰é¡¹ï¼Œå½“å¯¹åº”parameterå€¼å¤åˆæŸä¸€thresholdå€¼æ—¶ä¼šæ’­æ”¾è¯¥animationï¼Œæ³¨æ„å‚ç›´å‘ä¸Šæ°´å¹³å‘å³ä¸ºæ­£ â€‹ ä¸Šå›¾ä¸­MidAir1~7ä¸ºèµ·è·³åˆ°ä¸‹è½çš„åŠ¨ç”» ä¿®æ”¹åŠ¨ç”»è„šæœ¬å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132333435363738using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerAnimation : MonoBehaviour&#123; Animator animator; PlayerMovement movement; Rigidbody2D rb; int speedID, groundID, jumpingID, crouchingID, hangingID, fallId; void Start() &#123; animator = GetComponent&lt;Animator&gt;(); // animatior parameterå¯¹åº”ç¼–å· speedID = Animator.StringToHash(&quot;speed&quot;); groundID = Animator.StringToHash(&quot;isOnGround&quot;); jumpingID = Animator.StringToHash(&quot;isJumping&quot;); crouchingID = Animator.StringToHash(&quot;isCrouching&quot;); hangingID = Animator.StringToHash(&quot;isHanging&quot;); fallId = Animator.StringToHash(&quot;verticalVelocity&quot;); // è·å–çˆ¶ç»„ä»¶çš„è„šæœ¬ movement = GetComponentInParent&lt;PlayerMovement&gt;(); rb = GetComponentInParent&lt;Rigidbody2D&gt;(); &#125; void Update() &#123; // è®¾ç½®animatiorçš„çŠ¶æ€å€¼ï¼Œä¸¤ç§æ–¹æ³•ï¼ˆä½¿ç”¨ç¼–å·å¯¹åº”èµ‹å€¼ã€å­—ç¬¦ä¸²å¯¹åº”èµ‹å€¼ï¼‰ // animator.SetFloat(&quot;speed&quot;, Mathf.Abs(movement.xVelocity)); animator.SetFloat(speedID, Mathf.Abs(movement.xVelocity)); animator.SetBool(groundID, movement.isOnGround); animator.SetBool(jumpingID, movement.isJump); animator.SetBool(crouchingID, movement.isCrouch); animator.SetBool(hangingID, movement.isHanging); animator.SetFloat(fallId, rb.velocity.y); &#125;&#125; éŸ³æ•ˆ æ³¨æ„Animationçª—å£ä¸­å¯¹åº”åŠ¨ç”»ï¼Œå«æœ‰ç‰¹å®šçš„animation eventéœ€è¦æ·»åŠ  æ·»åŠ AudioManager(Prefab)ï¼Œå¹¶ä¸ºå…¶æ·»åŠ scriptå¦‚ä¸‹ 12345678910111213141516171819202122232425using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.Audio;public class AudioManager : MonoBehaviour&#123; static AudioManager current; [Header(&quot;ç¯å¢ƒå£°éŸ³&quot;)] public AudioClip ambientCilip; public AudioClip musicClip; [Header(&quot;è§’è‰²éŸ³æ•ˆ&quot;)] public AudioClip[] walkStepClips; public AudioClip[] crouchStepClips; public AudioClip jumpClip; public AudioClip jumpVoiceClip; public void Awake() &#123; current = this; &#125;&#125; â€‹ åŒæ—¶åœ¨AudioManager(Prefab)ä¸­é€‰æ‹©ç›¸åº”çš„éŸ³æ•ˆ æ·»åŠ AudioSource 12345678910111213141516171819202122232425262728293031323334353637383940414243using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.Audio;public class AudioManager : MonoBehaviour&#123; // ... AudioSource ambientSource, musicSource, fxSource, playerSource, voiceSource; public void Awake() &#123; // å•ä¾‹æ¨¡å¼ if(current != null) &#123; Destroy(gameObject); return; &#125; // æ–¹ä¾¿åœ¨staticæ–¹æ³•ä¸­ä½¿ç”¨this current = this; // é˜²æ­¢åœºæ™¯åŠ è½½æ—¶è¢«é”€æ¯ DontDestroyOnLoad(gameObject); // ä½¿ç”¨ä»£ç æ·»åŠ AudioSourceç»„ä»¶ ambientSource = gameObject.AddComponent&lt;AudioSource&gt;(); musicSource = gameObject.AddComponent&lt;AudioSource&gt;(); fxSource = gameObject.AddComponent&lt;AudioSource&gt;(); playerSource = gameObject.AddComponent&lt;AudioSource&gt;(); voiceSource = gameObject.AddComponent&lt;AudioSource&gt;(); &#125; public static void PlayFootstepAudio() &#123; // è·å¾—éšæœºæ•° int index = Random.Range(0, current.walkStepClips.Length); // æŒ‡å®šsourceçš„clipå£°éŸ³ç‰‡æ®µ current.playerSource.clip = current.walkStepClips[index]; // æ’­æ”¾ current.playerSource.Play(); &#125;&#125; åœ¨PlayerAnimationä¸­è°ƒç”¨æ–¹æ³• 1234public void StepAudio()&#123; AudioManager.PlayFootstepAudio();&#125; å…¶ä»–éŸ³æ•ˆåŒç†ï¼Œå®Œæ•´å¦‚ä¸‹ AudioManager 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.Audio;public class AudioManager : MonoBehaviour&#123; static AudioManager current; [Header(&quot;ç¯å¢ƒå£°éŸ³&quot;)] public AudioClip ambientClip; public AudioClip musicClip; [Header(&quot;è§’è‰²éŸ³æ•ˆ&quot;)] public AudioClip[] walkStepClips; public AudioClip[] crouchStepClips; public AudioClip jumpClip; public AudioClip jumpVoiceClip; // clipå£°éŸ³ç‰‡æ®µï¼Œsourceå£°éŸ³æº AudioSource ambientSource, musicSource, fxSource, playerSource, voiceSource; public void Awake() &#123; // å•ä¾‹æ¨¡å¼ if(current != null) &#123; Destroy(gameObject); return; &#125; // æ–¹ä¾¿åœ¨staticæ–¹æ³•ä¸­ä½¿ç”¨this current = this; // é˜²æ­¢åœºæ™¯åŠ è½½æ—¶è¢«é”€æ¯ DontDestroyOnLoad(gameObject); // ä½¿ç”¨ä»£ç æ·»åŠ AudioSourceç»„ä»¶ ambientSource = gameObject.AddComponent&lt;AudioSource&gt;(); musicSource = gameObject.AddComponent&lt;AudioSource&gt;(); fxSource = gameObject.AddComponent&lt;AudioSource&gt;(); playerSource = gameObject.AddComponent&lt;AudioSource&gt;(); voiceSource = gameObject.AddComponent&lt;AudioSource&gt;(); // èƒŒæ™¯éŸ³ä¹ä¸éœ€è¦è§¦å‘ï¼Œç›´æ¥æ’­æ”¾ StartLevelAudio(); &#125; // èƒŒæ™¯éŸ³ä¹ void StartLevelAudio() &#123; // æ‰“å¼€å¾ªç¯ current.ambientSource.clip = current.ambientClip; current.ambientSource.loop = true; current.ambientSource.Play(); current.musicSource.clip = current.musicClip; current.musicSource.loop = true; current.musicSource.Play(); &#125; // è§’è‰²èµ°åŠ¨éŸ³æ•ˆ public static void PlayFootstepAudio() &#123; // è·å¾—éšæœºæ•° int index = Random.Range(0, current.walkStepClips.Length); // æŒ‡å®šsourceçš„clipå£°éŸ³ç‰‡æ®µ current.playerSource.clip = current.walkStepClips[index]; // æ’­æ”¾ current.playerSource.Play(); &#125; // è§’è‰²ä¸‹è¹²éŸ³æ•ˆ public static void PlayCrouchFootstepAudio() &#123; int index = Random.Range(0, current.crouchStepClips.Length); current.playerSource.clip = current.crouchStepClips[index]; current.playerSource.Play(); &#125; // è§’è‰²è·³è·ƒéŸ³æ•ˆ public static void PlayJumpAudio() &#123; current.playerSource.clip = current.jumpClip; current.playerSource.Play(); current.voiceSource.clip = current.jumpVoiceClip; current.voiceSource.Play(); &#125;&#125; PlayerAnimation 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerAnimation : MonoBehaviour&#123; Animator animator; PlayerMovement movement; Rigidbody2D rb; int speedID, groundID, jumpingID, crouchingID, hangingID, fallId; void Start() &#123; animator = GetComponent&lt;Animator&gt;(); // animatior parameterå¯¹åº”ç¼–å· speedID = Animator.StringToHash(&quot;speed&quot;); groundID = Animator.StringToHash(&quot;isOnGround&quot;); jumpingID = Animator.StringToHash(&quot;isJumping&quot;); crouchingID = Animator.StringToHash(&quot;isCrouching&quot;); hangingID = Animator.StringToHash(&quot;isHanging&quot;); fallId = Animator.StringToHash(&quot;verticalVelocity&quot;); // è·å–çˆ¶ç»„ä»¶çš„è„šæœ¬ movement = GetComponentInParent&lt;PlayerMovement&gt;(); rb = GetComponentInParent&lt;Rigidbody2D&gt;(); &#125; void Update() &#123; // è®¾ç½®animatiorçš„çŠ¶æ€å€¼ï¼Œä¸¤ç§æ–¹æ³•ï¼ˆä½¿ç”¨ç¼–å·å¯¹åº”èµ‹å€¼ã€å­—ç¬¦ä¸²å¯¹åº”èµ‹å€¼ï¼‰ // animator.SetFloat(&quot;speed&quot;, Mathf.Abs(movement.xVelocity)); animator.SetFloat(speedID, Mathf.Abs(movement.xVelocity)); animator.SetBool(groundID, movement.isOnGround); animator.SetBool(jumpingID, movement.isJump); animator.SetBool(crouchingID, movement.isCrouch); animator.SetBool(hangingID, movement.isHanging); animator.SetFloat(fallId, rb.velocity.y); &#125; public void StepAudio() &#123; AudioManager.PlayFootstepAudio(); &#125; public void CrouchStepAudio() &#123; AudioManager.PlayCrouchFootstepAudio(); &#125;&#125; â€‹ ç”±äºAnimationä¸­æ²¡æœ‰æ·»åŠ jumpçš„eventï¼Œæ‰€ä»¥ç›´æ¥åœ¨playerMovementä¸­è°ƒç”¨éŸ³æ•ˆå³å¯ æ­»äº¡æœºåˆ¶ æ·»åŠ æ–°çš„csä»£ç å¦‚ä¸‹ï¼Œåº”ç”¨äºè§’è‰²ï¼Œç”¨äºæ­»äº¡æ¡ä»¶åˆ¤æ–­ 1234567891011121314151617181920212223242526272829303132using System.Collections;using System.Collections.Generic;using UnityEngine;public class PlayerHealth : MonoBehaviour&#123; // é¢„åˆ¶æ­»äº¡ç‰¹æ•ˆ public GameObject deathVFXPrefab; int trapsLayer; void Start() &#123; // è·å¾—å¯¹åº”Layerçš„ç¼–å· trapsLayer = LayerMask.NameToLayer(&quot;Traps&quot;); &#125; // å¦‚æœä¸€ä¸ªç¢°æ’ä½“è¿›å…¥äº†è§¦å‘å™¨ï¼ˆå½“å‰è§’è‰²å·²ç»è¢«è®¾å®šä¸ºisTriggerï¼‰åˆ™è°ƒç”¨ private void OnTriggerEnter2D(Collider2D collision) &#123; if (collision.gameObject.layer == trapsLayer) &#123; // Instantiateå®ä¾‹åŒ–ï¼Œæ­¤å¤„è®©ç‰¹æ•ˆæ˜¾ç¤º Instantiate(deathVFXPrefab,transform.position,transform.rotation); // è®©è§’è‰²æ¶ˆå¤± gameObject.SetActive(false); // æ’­æ”¾æ­»äº¡éŸ³æ•ˆ AudioManager.PlayDeathAudio(); &#125; &#125;&#125; æ·»åŠ æ­»äº¡éŸ³æ•ˆï¼Œæ³¨æ„åœ¨Inspectorçª—å£ä¸­é€‰æ‹©å¯¹åº”ç‰‡æ®µ 1234567891011121314151617181920212223 [Header(&quot;è§’è‰²éŸ³æ•ˆ&quot;)] public AudioClip[] walkStepClips; public AudioClip[] crouchStepClips; public AudioClip jumpClip; public AudioClip jumpVoiceClip; public AudioClip deathClip; public AudioClip deathVoiceClip; [Header(&quot;ç‰¹æ•ˆéŸ³æ•ˆ&quot;)] public AudioClip deathFXClip;// æ­»äº¡éŸ³æ•ˆpublic static void PlayDeathAudio()&#123; current.playerSource.clip = current.deathClip; current.playerSource.Play(); current.voiceSource.clip = current.deathVoiceClip; current.voiceSource.Play(); current.fxSource.clip = current.deathFXClip; current.fxSource.Play();&#125; è®¾ç½®åœºæ™¯é‡ç½®ï¼Œåœ¨file -&gt; build settings ä¸­è®¾ç½®scene 123456using UnityEngine.SceneManagement;private void OnTriggerEnter2D(Collider2D collision)&#123; // é‡ç½®åœºæ™¯ä¸ºå½“å‰åœºæ™¯ SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex);&#125; è§†è§‰æ•ˆæœä¸ç›¸æœºæŠ–åŠ¨Post Processing Window -&gt; PackageManager -&gt; æœç´¢æ’ä»¶Post Processing ä¸º Main Camera æ·»åŠ Component -&gt; Post-process Layerï¼Œåˆ›å»ºä¸€ä¸ªä¸“é—¨çš„Layerå¹¶æ·»åŠ  åˆ›å»ºä¸€ä¸ªEmpty Objectï¼Œå‘½åä¸ºGlobal Post ProcessingåŒæ—¶æ·»åŠ ä¸Šä¸€æ­¥éª¤ä¸­çš„Layerï¼Œç”¨äºæ‰¿è½½è§†è§‰æ•ˆæœï¼ˆå¦‚æœæ˜¯å•ç‹¬ç‰©ä»¶æ·»åŠ ç‰¹æ•ˆç›´æ¥æ·»åŠ å³å¯ï¼‰ ä¸ºè¯¥å¯¹è±¡æ·»åŠ ç»„ä»¶ Post-process Volumeï¼Œå…¶ä¸­is Global ç”¨äºå½±å“å…¨å±€ï¼Œå¦åˆ™æ·»åŠ colliderè®¾ç½®å½±å“èŒƒå›´å³å¯ ä¸ºè¯¥å¯¹è±¡æ·»åŠ Profileï¼ŒåŒæ—¶Add effect Camera Shake åœ¨ä¹‹å‰æ·»åŠ çš„Cinemachineä¸­ï¼Œ Inspector -&gt; Extension -&gt;Cinemachine Impulse Listener åœ¨è§¦å‘ç›¸æœºæŠ–åŠ¨æ•ˆæœçš„ç‰©ä»¶ä¸Šæ·»åŠ ç»„ä»¶ Cinemachine Collision Impulse Source(æ­¤ä¸ºç¢°æ’è§¦å‘ï¼Œå¯é€‰å…¶ä»–source)ï¼Œ ä¸ºè¯¥ç»„ä»¶æ·»åŠ Raw Signalå³è§¦å‘æŠ–åŠ¨æ—¶çš„æ•ˆæœï¼Œå¯ä»¥è‡ªè¡Œè®¾ç½®ï¼Œé€‰æ‹©TriggerObjectFilterä¸­çš„LayerMaskï¼Œå³ç¢°æ’å½“å‰å¯¹è±¡çš„Layer å…¶ä½™å¦‚SignalShapeä¸­çš„FrequencyGainè¶Šå¤§é€Ÿåº¦è¶Šå¿«â€¦â€¦ GameManageræ­»äº¡è¿‡æ¸¡ä»¥åŠç›¸å…³è®¡æ•° æ·»åŠ Scriptï¼Œä¸€å®šå‘½åä¸ºGameManagerï¼Œå¦‚ä¸‹ç¼–å†™ 1234567891011121314151617181920212223242526272829303132using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.SceneManagement;public class GameManager : MonoBehaviour&#123; static GameManager gm; private void Awake() &#123; if(gm != null) &#123; Destroy(gameObject); return; &#125; gm = this; DontDestroyOnLoad(this); &#125; public static void PlayerDied() &#123; // ç»è¿‡ä¸€æ®µæ—¶é—´åè°ƒç”¨æ–¹æ³• gm.Invoke(&quot;RestartScene&quot;, 1.5f); &#125; // é‡å¯åœºæ™¯ void RestartScene() &#123; SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex); &#125;&#125; æ·»åŠ Empty Objectå¹¶åº”ç”¨GameManager Script æ·»åŠ SceneFader Scriptï¼Œç¼–å†™å¦‚ä¸‹ï¼Œåº”ç”¨äºFader(UI -&gt; Imageå¯¹è±¡ï¼Œå«æœ‰è¿‡æ¸¡åŠ¨ç”»ï¼Œå…¶ä¸­Animatorä¸­æœ‰Fadeå‚æ•°) 12345678910111213141516171819using System.Collections;using System.Collections.Generic;using UnityEngine;public class SceneFader : MonoBehaviour&#123; Animator anim; int faderID; private void Start() &#123; anim = GetComponent&lt;Animator&gt;(); faderID = Animator.StringToHash(&quot;Fade&quot;); &#125; public void fadeOut() &#123; anim.SetTrigger(faderID); &#125;&#125; åœ¨GameManagerä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œè¿™é‡Œmarkä¸€ä¸‹ï¼Œä¸Šç½‘æœäº†å…¶ä»–çš„æ¨¡å¼å’Œæ–¹æ³•ï¼Œéƒ½å¯ä»¥å®ç°ï¼Œè§†é¢‘é‡Œè®²çš„æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.SceneManagement;public class GameManager : MonoBehaviour&#123; static GameManager gm; SceneFader sceneFader; private void Awake() &#123; if(gm != null) &#123; Destroy(gameObject); return; &#125; gm = this; DontDestroyOnLoad(this); &#125; // ç”¨äºé€šçŸ¥GameManageræ¥æ”¶ä¸€ä¸ªSceneFaderå®ä¾‹ //public static void RegisterSceneFader(SceneFader fader) //&#123; // gm.sceneFader = fader; //&#125; public static void PlayerDied() &#123; //SceneFader.sf.fadeOut(); SceneFader.sf.fadeOut(); // ä»¥ä¸‹ä¸ºå¦ä¸€ç§è°ƒç”¨å…¶ä»–ç±»çš„æ–¹æ³•å®ç°æ–¹æ³•ï¼Œè¿˜æœ‰å…¶ä»–æ–¹æ³•æˆ–æ¨¡å¼å¯ä»¥å®ç° //GameObject.Find(&quot;Fader&quot;).SendMessage(&quot;fadeOut&quot;); // ç»è¿‡ä¸€æ®µæ—¶é—´åè°ƒç”¨æ–¹æ³• gm.Invoke(&quot;RestartScene&quot;, 1.2f); &#125; // é‡å¯åœºæ™¯ void RestartScene() &#123; SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex); &#125;&#125; 123456789101112131415161718192021222324252627282930313233using System.Collections;using System.Collections.Generic;using UnityEngine;public class SceneFader : MonoBehaviour&#123; // è¿™é‡Œä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œèƒ½è®©å…¶ä»–ç±»è°ƒç”¨ public static SceneFader sf; Animator anim; int faderID; private void Awake() &#123; if (sf != null) &#123; return; &#125; sf = this; &#125; private void Start() &#123; anim = GetComponent&lt;Animator&gt;(); faderID = Animator.StringToHash(&quot;Fade&quot;); //GameManager.RegisterSceneFader(this); &#125; public void fadeOut() &#123; anim.SetTrigger(faderID); &#125;&#125; æ·»åŠ æ”¶é›†ç‰©çš„ç›¸å…³è„šæœ¬ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.SceneManagement;public class GameManager : MonoBehaviour&#123; static GameManager gm; //SceneFader sceneFader; List&lt;Orb&gt; orbs; public int orbNum,deathNum; private void Awake() &#123; if(gm != null) &#123; Destroy(gameObject); return; &#125; gm = this; orbs = new List&lt;Orb&gt;(); DontDestroyOnLoad(this); &#125; private void Update() &#123; orbNum = gm.orbs.Count; &#125; // ç”¨äºé€šçŸ¥GameManageræ¥æ”¶ä¸€ä¸ªSceneFaderå®ä¾‹ //public static void RegisterSceneFader(SceneFader fader) //&#123; // gm.sceneFader = fader; //&#125; public static void RegisterOrb(Orb orb) &#123; if (!gm.orbs.Contains(orb)) &#123; gm.orbs.Add(orb); &#125; &#125; public static void PlayerDied() &#123; //SceneFader.sf.fadeOut(); SceneFader.sf.fadeOut(); // ä»¥ä¸‹ä¸ºå¦ä¸€ç§è°ƒç”¨å…¶ä»–ç±»çš„æ–¹æ³•å®ç°æ–¹æ³•ï¼Œè¿˜æœ‰å…¶ä»–æ–¹æ³•æˆ–æ¨¡å¼å¯ä»¥å®ç° //GameObject.Find(&quot;Fader&quot;).SendMessage(&quot;fadeOut&quot;); // ç»è¿‡ä¸€æ®µæ—¶é—´åè°ƒç”¨æ–¹æ³• gm.Invoke(&quot;RestartScene&quot;, 1.2f); gm.deathNum++; &#125; public static void PlayerGetOrb(Orb orb) &#123; if (gm.orbs.Count == 0 || !gm.orbs.Contains(orb)) return; gm.orbs.Remove(orb); &#125; // é‡å¯åœºæ™¯ void RestartScene() &#123; gm.orbs.Clear(); SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex); &#125;&#125; 12345678910111213141516171819202122232425262728using System.Collections;using System.Collections.Generic;using UnityEngine;public class Orb : MonoBehaviour&#123; int playerLayer; public GameObject explosionVFXPrefab; void Start() &#123; playerLayer = LayerMask.NameToLayer(&quot;Player&quot;); GameManager.RegisterOrb(this); &#125; private void OnTriggerEnter2D(Collider2D collision) &#123; if(collision.gameObject.layer == playerLayer) &#123; GameManager.PlayerGetOrb(this); Instantiate(explosionVFXPrefab, transform.position, transform.rotation); gameObject.SetActive(false); AudioManager.PlayOrbAudio(); &#125; &#125;&#125; Dooræœºå…³æ”¶é›†ç‰©å“åˆ°ä¸€å®šæ•°é‡åæ‰“å¼€æœºå…³ ç¼–å†™Door Script 123456789101112131415161718192021222324using System.Collections;using System.Collections.Generic;using UnityEngine;public class Door : MonoBehaviour&#123; Animator anim; int openID; void Start() &#123; anim = GetComponent&lt;Animator&gt;(); openID = Animator.StringToHash(&quot;Open&quot;); GameManager.RegisterDoor(this); &#125; public void Open() &#123; anim.SetTrigger(openID); AudioManager.PlayOpenDoorAudio(); &#125;&#125; ç¼–å†™AudioManager 123456// æ‰“å¼€é—¨éŸ³æ•ˆ public static void PlayOpenDoorAudio() &#123; current.fxSource.clip = current.doorFXClip; current.fxSource.PlayDelayed(1f); &#125; UI Manageræ˜¾ç¤ºtext ç¼–å†™ä¸€ä¸ªUI Manager Objectï¼Œæ·»åŠ scriptå¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132using System.Collections;using System.Collections.Generic;using UnityEngine;using TMPro;public class UIManager : MonoBehaviour&#123; static UIManager instance; // è·å¾—Textæ–‡æœ¬æ¡†,è®°å¾—åœ¨Inspectorä¸­é€‰æ‹©ç›¸åº”çš„text public TextMeshProUGUI orbText, timeText, deathText, gameOverText; private void Awake() &#123; if(instance != null) &#123; Destroy(gameObject); return; &#125; instance = this; DontDestroyOnLoad(this); &#125; // æ›´æ–°Orbæ•°é‡ public static void UpdateOrbUI(int orbCount) &#123; // è®¾ç½®text instance.orbText.text = orbCount.ToString(); &#125; // å…¶ä½™textç±»ä¼¼&#125; åœ¨GameManagerä¸­é€‚å½“ä½ç½®è°ƒç”¨UIManagerç›¸åº”æ–¹æ³•å³å¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748using System.Collections;using System.Collections.Generic;using UnityEngine;using TMPro;public class UIManager : MonoBehaviour&#123; static UIManager instance; // è·å¾—Textæ–‡æœ¬æ¡†,è®°å¾—åœ¨Inspectorä¸­é€‰æ‹©ç›¸åº”çš„text public TextMeshProUGUI orbText, timeText, deathText, gameOverText; private void Awake() &#123; if(instance != null) &#123; Destroy(gameObject); return; &#125; instance = this; DontDestroyOnLoad(this); &#125; // æ›´æ–°Orbæ•°é‡ public static void UpdateOrbUI(int orbCount) &#123; // è®¾ç½®text instance.orbText.text = orbCount.ToString(); &#125; // æ›´æ–°Deathæ•°é‡ public static void UpdateDeathUI(int deathNum) &#123; // è®¾ç½®text instance.deathText.text = deathNum.ToString(); &#125; // æ›´æ–°Time public static void UpdateTimeUI(int time) &#123; int minutes = time / 60; int seconds = time % 60; // è®¾ç½®text instance.timeText.text = minutes.ToString(&quot;00&quot;)+&quot;:&quot;+seconds.ToString(&quot;00&quot;); &#125;&#125;","categories":[{"name":"Unity","slug":"Unity","permalink":"http://example.com/categories/Unity/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"Unity2D","slug":"Unity2D","permalink":"http://example.com/tags/Unity2D/"},{"name":"æ¸¸æˆå¼€å‘","slug":"æ¸¸æˆå¼€å‘","permalink":"http://example.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"}]},{"title":"ã€å­¦ä¹ ç¬”è®°ã€‘Vue","slug":"ã€å­¦ä¹ ç¬”è®°ã€‘Vue","date":"2021-08-04T03:44:20.728Z","updated":"2021-08-24T07:55:46.470Z","comments":true,"path":"2021/08/04/xue-xi-bi-ji-vue/","link":"","permalink":"http://example.com/2021/08/04/xue-xi-bi-ji-vue/","excerpt":"","text":"æ„Ÿè°¢ã€å°šç¡…è°·ã€‘2021æœ€æ–°Vueè¿…é€Ÿä¸Šæ‰‹æ•™ç¨‹ä¸¨vue3.0å…¥é—¨åˆ°ç²¾é€š_å¼ å¤©ç¦¹è€å¸ˆ å‰è¨€â€‹ æ˜¨å¤©çœ‹å®Œspringboot2çš„æ•™å­¦è§†é¢‘ï¼Œè®¡åˆ’ç€æ¥ä¸‹æ¥è¦å­¦ä»€ä¹ˆï¼Œæ¯•ç«Ÿä¼‘æ¯ä¸€å¤©ï¼Œå°±ä¼šä¸€ç›´å·æ‡’ä¸‹å»ã€‚æ—©ä¸Šåˆšçœ‹åˆ°ç¾¤é‡Œå‘ä¼ä¸šé¡¹ç›®è¦æ‰¾ä¸ªä¼švueï¼Œå†ç»“åˆç»“åˆvueçš„çƒ­åº¦ï¼Œè™½ç„¶è‡ªå·±å¹¶ä¸åƒå’Œå‰ç«¯æœ‰å¤ªå¤šçº è‘›ï¼ˆå› ä¸ºå¼ºè¿«ç—‡ï¼‰ï¼Œä½†æ˜¯å¤§åŠ¿æ‰€è¶‹ï¼Œéƒ½å‘ç€å…¨æ ˆé å‘¢ï¼Œè€Œä¸”ä¸ªäººé¡¹ç›®è‚¯å®šä¹Ÿå¾—è‡ªå·±åšï¼Œæ‰€ä»¥å­¦äº†éƒ½æ˜¯å¥½å¤„æ²¡åå¤„ã€‚ å…¶å®ä¸ƒæœˆåˆçš„æ—¶å€™çœ‹è¿‡ä¸¤å¤©çš„vueè¯­æ³•è§†é¢‘ï¼ˆä¸ºäº†æš‘å‡é›†è®­æ•™å­¦ï¼Œå…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œè¿˜å¿˜å…‰äº†ï¼‰ï¼Œä¹Ÿæ²¡æœ‰è®°ç¬”è®°ï¼Œç°åœ¨æ­£å¼çš„çœ‹ï¼Œå¥½å¥½å­¦ï¼Œå¥½å¥½è®°ï¼Œç›®æµ‹ä¸¤ä¸ªæ˜ŸæœŸçœ‹å®Œï¼Ÿï¼ˆæ¯•ç«Ÿä¹Ÿæ˜¯å­¦äº†ç‚¹vueå’Œå¾®ä¿¡å°ç¨‹åºçš„ï¼Œä¸Šæ‰‹åº”è¯¥å¿«ï¼‰çœ‹å®Œä¹‹åå¾—åšä¸ªé¡¹ç›®äº†ï¼Œvue+springbootï¼Œä¸è¿‡å­¦æœŸå¼€å­¦ä¹Ÿè¦åšä¸ªäººé¡¹ç›®ï¼Œåˆ°æ—¶å€™åšä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ Vueç®€ä»‹ä»€ä¹ˆæ˜¯Vue ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼JavaScriptæ¡†æ¶ã€‚ Vueç‰¹ç‚¹ é‡‡ç”¨ç»„ä»¶åŒ–æ¨¡å¼, æé«˜ä»£ç å¤ç”¨ç‡ã€ä¸”è®©ä»£ç æ›´å¥½ç»´æŠ¤ã€‚ å£°æ˜å¼ç¼–ç ,è®©ç¼–ç äººå‘˜æ— éœ€ç›´æ¥æ“ä½œDOM, æé«˜å¼€å‘æ•ˆç‡ã€‚ ä½¿ç”¨è™›æ‹ŸDOM+ä¼˜ç§€çš„Diffç®—æ³•, å°½é‡å¤ç”¨DOMèŠ‚ç‚¹ã€‚ basicå®¹å™¨ä¸Vueå®ä¾‹ å…¶å®æ„Ÿè§‰ä¸ç”¨å†™ä»€ä¹ˆï¼Œç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£æˆ–è€…çœ‹ä»£ç ğŸ‘Œ 12345678910111213141516171819202122232425262728293031323334353637&lt;!-- åˆè¯†Vueï¼š 1.æƒ³è®©Vueå·¥ä½œï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ï¼Œä¸”è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼› 2.rootå®¹å™¨é‡Œçš„ä»£ç ä¾ç„¶ç¬¦åˆhtmlè§„èŒƒï¼Œåªä¸è¿‡æ··å…¥äº†ä¸€äº›ç‰¹æ®Šçš„Vueè¯­æ³•ï¼› 3.rootå®¹å™¨é‡Œçš„ä»£ç è¢«ç§°ä¸ºã€Vueæ¨¡æ¿ã€‘ï¼› 4.Vueå®ä¾‹å’Œå®¹å™¨æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼› 5.çœŸå®å¼€å‘ä¸­åªæœ‰ä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼šé…åˆç€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼› 6.&#123;&#123;xxx&#125;&#125;ä¸­çš„xxxè¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”xxxå¯ä»¥è‡ªåŠ¨è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ï¼› 7.ä¸€æ—¦dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆé¡µé¢ä¸­ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼› æ³¨æ„åŒºåˆ†ï¼šjsè¡¨è¾¾å¼ å’Œ jsä»£ç (è¯­å¥) 1.è¡¨è¾¾å¼ï¼šä¸€ä¸ªè¡¨è¾¾å¼ä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•ä¸€ä¸ªéœ€è¦å€¼çš„åœ°æ–¹ï¼š (1). a (2). a+b (3). demo(1) (4). x === y ? &#x27;a&#x27; : &#x27;b&#x27; 2.jsä»£ç (è¯­å¥) (1). if()&#123;&#125; (2). for()&#123;&#125;--&gt;&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --&gt;&lt;div id=&quot;demo&quot;&gt; &lt;h1&gt;Helloï¼Œ&#123;&#123;name.toUpperCase()&#125;&#125;ï¼Œ&#123;&#123;address&#125;&#125;&lt;/h1&gt;&lt;/div&gt;&lt;script type=&quot;text/javascript&quot; &gt; Vue.config.productionTip = false //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚ //åˆ›å»ºVueå®ä¾‹ new Vue(&#123; el:&#x27;#demo&#x27;, //elç”¨äºæŒ‡å®šå½“å‰Vueå®ä¾‹ä¸ºå“ªä¸ªå®¹å™¨æœåŠ¡ï¼Œå€¼é€šå¸¸ä¸ºcssé€‰æ‹©å™¨å­—ç¬¦ä¸²ã€‚ data:&#123; //dataä¸­ç”¨äºå­˜å‚¨æ•°æ®ï¼Œæ•°æ®ä¾›elæ‰€æŒ‡å®šçš„å®¹å™¨å»ä½¿ç”¨ï¼Œå€¼æˆ‘ä»¬æš‚æ—¶å…ˆå†™æˆä¸€ä¸ªå¯¹è±¡ã€‚ name:&#x27;atguigu&#x27;, address:&#x27;åŒ—äº¬&#x27; &#125; &#125;)&lt;/script&gt; å•å‘åŒå‘ç»‘å®š1234567891011121314151617181920212223242526272829303132333435&lt;!-- Vueæ¨¡æ¿è¯­æ³•æœ‰2å¤§ç±»ï¼š 1.æ’å€¼è¯­æ³•ï¼š åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ä½“å†…å®¹ã€‚ å†™æ³•ï¼š&#123;&#123;xxx&#125;&#125;ï¼Œxxxæ˜¯jsè¡¨è¾¾å¼ï¼Œä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚ 2.æŒ‡ä»¤è¯­æ³•ï¼š åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ï¼ˆåŒ…æ‹¬ï¼šæ ‡ç­¾å±æ€§ã€æ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶.....ï¼‰ã€‚ ä¸¾ä¾‹ï¼šv-bind:href=&quot;xxx&quot; æˆ– ç®€å†™ä¸º :href=&quot;xxx&quot;ï¼ŒxxxåŒæ ·è¦å†™jsè¡¨è¾¾å¼ï¼Œ ä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚ å¤‡æ³¨ï¼šVueä¸­æœ‰å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œä¸”å½¢å¼éƒ½æ˜¯ï¼šv-????ï¼Œæ­¤å¤„æˆ‘ä»¬åªæ˜¯æ‹¿v-bindä¸¾ä¸ªä¾‹å­ã€‚ --&gt;&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&gt;&lt;div id=&quot;root&quot;&gt; &lt;h1&gt;æ’å€¼è¯­æ³•&lt;/h1&gt; &lt;h3&gt;ä½ å¥½ï¼Œ&#123;&#123;name&#125;&#125;&lt;/h3&gt; &lt;hr/&gt; &lt;h1&gt;æŒ‡ä»¤è¯­æ³•&lt;/h1&gt; &lt;a v-bind:href=&quot;school.url.toUpperCase()&quot; x=&quot;hello&quot;&gt;ç‚¹æˆ‘å»&#123;&#123;school.name&#125;&#125;å­¦ä¹ 1&lt;/a&gt; &lt;a :href=&quot;school.url&quot; x=&quot;hello&quot;&gt;ç‚¹æˆ‘å»&#123;&#123;school.name&#125;&#125;å­¦ä¹ 2&lt;/a&gt;&lt;/div&gt;&lt;script type=&quot;text/javascript&quot;&gt; Vue.config.productionTip = false //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚ new Vue(&#123; el:&#x27;#root&#x27;, data:&#123; name:&#x27;jack&#x27;, school:&#123; name:&#x27;å°šç¡…è°·&#x27;, url:&#x27;http://www.atguigu.com&#x27;, &#125; &#125; &#125;)&lt;/script&gt; MVVM åé¢å†™ä»£ç å»äº†æ²¡å†™ç¬”è®°ï¼Œç¬”è®°éƒ½åœ¨ä»£ç ä¸Š","categories":[{"name":"Vue","slug":"Vue","permalink":"http://example.com/categories/Vue/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://example.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Vue","slug":"Vue","permalink":"http://example.com/tags/Vue/"}]},{"title":"ã€é›†è®­ã€‘å¾®ä¿¡å°ç¨‹åº(äºŒ)","slug":"ã€é›†è®­ã€‘å¾®ä¿¡å°ç¨‹åº(äºŒ)","date":"2021-07-22T01:00:03.480Z","updated":"2021-07-23T05:35:01.858Z","comments":true,"path":"2021/07/22/ji-xun-wei-xin-xiao-cheng-xu-er/","link":"","permalink":"http://example.com/2021/07/22/ji-xun-wei-xin-xiao-cheng-xu-er/","excerpt":"","text":"APIç³»ç»Ÿä¿¡æ¯Object wx.getSystemInfoSync() | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) 1234567// è·å–ç³»ç»Ÿä¿¡æ¯wx.getSystemInfo(&#123; success: (result) =&gt; &#123; console.log(result); console.log(result.model); &#125;,&#125;) äº¤äº’wx.showToast(Object object) | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) 12345678910111213141516// loadingæç¤ºæ¡†wx.showLoading(&#123; title: &#x27;æ•°æ®åŠ è½½ä¸­&#x27;,&#125;)setTimeout(res =&gt; &#123; wx.hideLoading(&#123; success: (res) =&gt; &#123; console.log(&quot;åŠ è½½å®Œæˆ&quot;); &#125;, &#125;)&#125;, 2000)// æ¶ˆæ¯æç¤ºwx.showToast(&#123; title: &#x27;æç¤ºä¿¡æ¯&#x27;,&#125;) è·¯ç”±è·³è½¬é¡µé¢wx.navigateTo(Object object) | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) 1&lt;button type=&quot;primary&quot; bindtap=&quot;clickBtn&quot;&gt;è·³è½¬åˆ°demo01&lt;/button&gt; 123456789clickBtn() &#123; // å¯å¸¦å‚æ•°,è°ƒç”¨ navigateTo è·³è½¬æ—¶ï¼Œè°ƒç”¨è¯¥æ–¹æ³•çš„é¡µé¢ä¼šè¢«åŠ å…¥å †æ ˆï¼Œè€Œ redirectTo æ–¹æ³•åˆ™ä¸ä¼š wx.navigateTo(&#123; url: &#x27;/pages/demo05/demo05?id=111&#x27;, success: (res) =&gt; &#123; console.log(res); &#125; &#125;) &#125; è¿”å›é¡µé¢wx.navigateBack(Object object) | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) 1&lt;button bindtap=&quot;clickBack&quot; type=&quot;primary&quot;&gt;è¿”å›ä¸Šä¸€é¡µ&lt;/button&gt; 12345clickBack() &#123; wx.navigateBack(&#123; delta: 1, &#125;) &#125; äº‹ä»¶ä¼ å€¼EventChannel | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) demo04.js 1234567891011121314151617clickBtn() &#123; // å¯å¸¦å‚æ•°,è°ƒç”¨ navigateTo è·³è½¬æ—¶ï¼Œè°ƒç”¨è¯¥æ–¹æ³•çš„é¡µé¢ä¼šè¢«åŠ å…¥å †æ ˆï¼Œè€Œ redirectTo æ–¹æ³•åˆ™ä¸ä¼š wx.navigateTo(&#123; url: &#x27;/pages/demo05/demo05?id=111&#x27;, events: &#123; // ä¸ºæŒ‡å®šäº‹ä»¶æ·»åŠ ä¸€ä¸ªç›‘å¬å™¨ myBackData(data) &#123; console.log(data); &#125; &#125;, // æˆåŠŸçš„å›è°ƒå‡½æ•° success: (res) =&gt; &#123; // è§¦å‘ä¸€ä¸ªäº‹ä»¶ res.eventChannel.emit(&quot;myGetData&quot;, &#123; data: &quot;ä¼ é€’çš„æ•°æ®&quot; &#125;) &#125; &#125;) &#125; demo05.js 1234567891011121314151617181920onLoad() &#123; // è·å–æ‰€æœ‰æ‰“å¼€çš„EventChanneläº‹ä»¶ const eventChannel = this.getOpenerEventChannel(); // ç›‘å¬indexé¡µé¢çš„myGetDataäº‹ä»¶ eventChannel.on(&quot;myGetData&quot;, (res) =&gt; &#123; // è¢«è§¦å‘åçš„æ“ä½œ console.log(res); &#125;); eventChannel.emit(&quot;myBackData&quot;, &#123; data: &quot;è¿”å›çš„æ•°æ®&quot; &#125;)&#125;,clickBack() &#123; //const eventChannel = this.getOpenerEventChannel(); //eventChannel.emit(&quot;myBackData&quot;, &#123; data: &quot;è¿”å›çš„æ•°æ®&quot; &#125;) // é€šè¿‡ getCurrentPages è·å–å½“å‰çš„é¡µé¢æ ˆï¼Œå†³å®šéœ€è¦è¿”å›å‡ å±‚ã€‚ wx.navigateBack(&#123; delta: 1, &#125;)&#125; ç½‘ç»œä¸´æ—¶æ•°æ®demo06.wxml 123456789101112&lt;!--pages/demo06/demo06.wxml--&gt;&lt;view class=&quot;out&quot;&gt; &lt;view class=&quot;row&quot; wx:for=&quot;&#123;&#123;dataList&#125;&#125;&quot; wx:key=&quot;*this&quot;&gt; &lt;view class=&quot;pic&quot;&gt; &lt;image src=&quot;&#123;&#123;item.url&#125;&#125;&quot; /&gt; &lt;/view&gt; &lt;view class=&quot;text&quot;&gt; &lt;view class=&quot;title&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;/view&gt; &lt;view class=&quot;time&quot;&gt;&#123;&#123;item.time&#125;&#125;&lt;/view&gt; &lt;/view&gt; &lt;/view&gt;&lt;/view&gt; demo06.js 12345678910111213141516171819data: &#123; dataList: [ &#123; title: &quot;æ ‡é¢˜1&quot;, time: &quot;2020-01-01&quot;, url: &quot;/images/image1.png&quot; &#125;, &#123; title: &quot;æ ‡é¢˜2&quot;, time: &quot;2020-01-02&quot;, url: &quot;/images/image1.png&quot; &#125;, &#123; title: &quot;æ ‡é¢˜3&quot;, time: &quot;2020-01-03&quot;, url: &quot;/images/image1.png&quot; &#125; ]&#125;, è¯·æ±‚æ•°æ®RequestTask | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) ä½¿ç”¨wx.requestè·å–æ•°æ® 1234567891011121314151617181920onLoad: function (options) &#123; wx.request(&#123; // æ¥å£åœ°å€ url: &#x27;http://edu.newsight.cn/wxList.php&#x27;, // è¯·æ±‚çš„å‚æ•° data: &#123; num: 5, page: 1 &#125;, // æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•° success: (res) =&gt; &#123; console.log(res); console.log(res.data); // è®¾ç½®æ•°æ® this.setData(&#123; reqData: res.data &#125;) &#125;, &#125;)&#125;, ä¿®æ”¹ä¹‹å‰çš„ä»£ç  demo06.wxml 123456789101112&lt;!--pages/demo06/demo06.wxml--&gt;&lt;view class=&quot;out&quot;&gt; &lt;view class=&quot;row&quot; wx:for=&quot;&#123;&#123;reqData&#125;&#125;&quot; wx:key=&quot;id&quot;&gt; &lt;view class=&quot;pic&quot;&gt; &lt;image src=&quot;&#123;&#123;item.picurl&#125;&#125;&quot; /&gt; &lt;/view&gt; &lt;view class=&quot;text&quot;&gt; &lt;view class=&quot;title&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;/view&gt; &lt;view class=&quot;time&quot;&gt;&#123;&#123;item.posttime&#125;&#125; - &#123;&#123;item.author&#125;&#125;&lt;/view&gt; &lt;/view&gt; &lt;/view&gt;&lt;/view&gt; å¦‚æœåŸŸåæ£€éªŒä¸åˆæ³•ï¼Œå¯ä»¥åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°çš„å¼€å‘ä¸­ç®¡ç†æ·»åŠ æ‰€éœ€è¦ä½¿ç”¨çš„åŸŸåï¼Œæˆ–è€…å¼€å‘è€…å·¥å…·åœ¨è®¾ç½®ä¸æ£€æµ‹åˆæ³•ã€‚ äº‹ä»¶ç»‘å®šåˆ·æ–°æ•°æ®demo06.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// pages/demo06/demo06.jsPage(&#123; /** * é¡µé¢çš„åˆå§‹æ•°æ® */ data: &#123; reqData: [], scrollTop: 0 &#125;, reqParam: &#123; page: 1 &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½ */ onLoad: function (options) &#123; this.getReqData(1); &#125;, // ä¸‹ä¸€é¡µ clickToNextPage() &#123; this.reqParam.page++; this.getReqData(this.reqParam.page) &#125;, getReqData(page) &#123; wx.request(&#123; // æ¥å£åœ°å€ url: &#x27;http://edu.newsight.cn/wxList.php&#x27;, // è¯·æ±‚çš„å‚æ•° data: &#123; num: 4, page: page &#125;, // æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•° success: (res) =&gt; &#123; console.log(res); console.log(res.data); // è®¾ç½®æ•°æ® this.setData(&#123; reqData: res.data &#125;) &#125;, &#125;) &#125;&#125;) demo06.wxml 1&lt;button bindtap=&quot;clickToNextPage&quot; type=&quot;primary&quot;&gt;ä¸‹ä¸€é¡µ&lt;/button&gt; ç”¨æˆ·ä¿¡æ¯wx.getUserProfile(Object object) | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) demo07.wxml 123&lt;button bindtap=&quot;login&quot; type=&quot;primary&quot;&gt;æˆæƒç™»å½•&lt;/button&gt;&lt;view&gt;&#123;&#123;nickName&#125;&#125;&lt;/view&gt;&lt;image src=&quot;&#123;&#123;avatar&#125;&#125;&quot;&gt;&lt;/image&gt; demo07.js 12345678910111213141516171819202122data: &#123; nickName: &quot;&quot;, avatar: &quot;&quot;,&#125;,// æˆæƒç™»å½•login() &#123; wx.getUserProfile(&#123; // å£°æ˜è·å–ç”¨æˆ·ä¸ªäººä¿¡æ¯åçš„ç”¨é€”ï¼Œä¸è¶…è¿‡30ä¸ªå­—ç¬¦ desc: &#x27;å£°æ˜è·å–ç”¨æˆ·ä¿¡æ¯åçš„ç”¨é€”&#x27;, success: (res) =&gt; &#123; console.log(res); this.setData(&#123; nickName: res.userInfo.nickName, avatar: res.userInfo.avatarUrl &#125;) &#125;, fail: (res) =&gt; &#123; console.log(res); &#125; &#125;)&#125; ç¼“å­˜wx.setStorageSync(string key, any data) | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) å­˜123456789101112131415161718login() &#123; wx.getUserProfile(&#123; // å£°æ˜è·å–ç”¨æˆ·ä¸ªäººä¿¡æ¯åçš„ç”¨é€”ï¼Œä¸è¶…è¿‡30ä¸ªå­—ç¬¦ desc: &#x27;å£°æ˜è·å–ç”¨æˆ·ä¿¡æ¯åçš„ç”¨é€”&#x27;, success: (res) =&gt; &#123; console.log(res); this.setData(&#123; nickName: res.userInfo.nickName, avatar: res.userInfo.avatarUrl &#125;); // å­˜ä¿¡æ¯ wx.setStorageSync(&#x27;userInfo&#x27;, res.userInfo); &#125;, fail: (res) =&gt; &#123; console.log(res); &#125; &#125;)&#125; å–123&lt;button bindtap=&quot;login&quot; type=&quot;primary&quot; wx:if=&quot;&#123;&#123;!nickName&#125;&#125;&quot;&gt;æˆæƒç™»å½•&lt;/button&gt;&lt;view&gt;&#123;&#123;nickName&#125;&#125;&lt;/view&gt;&lt;image src=&quot;&#123;&#123;avatar&#125;&#125;&quot;&gt;&lt;/image&gt; 123456789onLoad: function (options) &#123; // å–ç¼“å­˜ let userInfo = wx.getStorageSync(&#x27;userInfo&#x27;); console.log(userInfo); this.setData(&#123; nickName: userInfo.nickName, avatar: userInfo.avatarUrl &#125;)&#125;, æ¨¡å—åŒ–Object module | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) public.js 123456789101112var myPublic = &#123; fun1() &#123; console.log(&quot;æ‰§è¡Œfun1&quot;); &#125;, fun2(p) &#123; console.log(&quot;æ‰§è¡Œfun2,å‚æ•°ï¼š&quot; + p); &#125;&#125;module.exports = myPublic demo08.js 123456const myPublic = require(&#x27;../../utils/public.js&#x27;)onLoad: function (options) &#123; myPublic.fun1(); myPublic.fun2(&quot;param&quot;);&#125;, å°ç¨‹åºä¸Šçº¿ ä¿®æ”¹æµ‹è¯•å·ä¸ºAppID å°ç¨‹åº (qq.com)ç®¡ç†æœåŠ¡å™¨åŸŸåï¼Œå–æ¶ˆä¸æ£€éªŒåˆæ³•åŸŸå ä¸Šä¼ ä»£ç  å°ç¨‹åº (qq.com)æäº¤å®¡æ ¸","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"é›†è®­","slug":"é›†è®­","permalink":"http://example.com/tags/%E9%9B%86%E8%AE%AD/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]},{"title":"ã€é›†è®­ã€‘å¾®ä¿¡å°ç¨‹åº(ä¸€)","slug":"ã€é›†è®­ã€‘å¾®ä¿¡å°ç¨‹åº(ä¸€)","date":"2021-07-22T01:00:03.478Z","updated":"2021-07-23T05:50:01.078Z","comments":true,"path":"2021/07/22/ji-xun-wei-xin-xiao-cheng-xu-yi/","link":"","permalink":"http://example.com/2021/07/22/ji-xun-wei-xin-xiao-cheng-xu-yi/","excerpt":"","text":"è‡ªå®šä¹‰ç»„ä»¶Component(Object object) | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com) å°†éƒ¨åˆ†é‡å¤ä»£ç æŠ½å–å‡ºæ¥ å•†å“åˆ†ç±» (taobao.com) åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶ ç±»ä¼¼äºé¡µé¢ï¼Œä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ç”±jsonã€wxmlã€wxssã€js 4ä¸ªæ–‡ä»¶ç»„æˆ å¯ä»¥åœ¨å¾®ä¿¡å¼€å‘è€…â¼¯å…·ä¸­å¿«é€Ÿåˆ›å»ºç»„ä»¶çš„â½‚ä»¶ç»“æ„ å£°æ˜ç»„ä»¶ã€å¼•å…¥ç»„ä»¶tabs.json 123&#123; &quot;component&quot;: true&#125; demo01.json 12345&#123; &quot;usingComponents&quot;: &#123; &quot;Tabs&quot;: &quot;/components/Tabs/Tabs&quot; &#125;&#125; ç®€å•ç¼–è¾‘ç»„ä»¶Tabs.wxml 123456789101112&lt;!--components/Tabs/Tabs.wxml--&gt;&lt;view class=&quot;tabs&quot;&gt; &lt;view class=&quot;tabs_title&quot;&gt; &lt;view class=&quot;title_item active&quot;&gt;é¦–é¡µ&lt;/view&gt; &lt;view class=&quot;title_item&quot;&gt;åŸåˆ›&lt;/view&gt; &lt;view class=&quot;title_item&quot;&gt;åˆ†ç±»&lt;/view&gt; &lt;view class=&quot;title_item&quot;&gt;å…³äº&lt;/view&gt; &lt;/view&gt; &lt;view class=&quot;tabs_content&quot;&gt; &lt;/view&gt;&lt;/view&gt; Tabs.wxss 12345678910111213141516171819202122/* components/Tabs/Tabs.wxss */.tabs &#123;&#125;.tabs_title &#123; display: flex; padding: 10rpx 0;&#125;.title_item &#123; flex: 1; display: flex; justify-content: center; align-items: center;&#125;/* é€‰ä¸­æ—¶çš„æ ·å¼ */.active &#123; color: #b81d24; border-bottom: 5rpx solid currentColor;&#125;.tabs_content &#123;&#125; ä»¥ä¸Šæ•°æ®éƒ½å†™åœ¨ç»„ä»¶çš„wxmlä¸­ï¼Œæ¥ä¸‹æ¥æ¥å®ç°jsåŠ¨æ€æ•°æ® å¡«å…¥åˆå§‹æ•°æ®Tabs.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445// components/Tabs/Tabs.jsComponent(&#123; /** * ç»„ä»¶çš„å±æ€§åˆ—è¡¨ */ properties: &#123; &#125;, /** * ç»„ä»¶çš„åˆå§‹æ•°æ® */ data: &#123; tabs: [ &#123; id: 0, name: &quot;é¦–é¡µ&quot;, isActive: true &#125;, &#123; id: 1, name: &quot;åŸåˆ›&quot;, isActive: false &#125; , &#123; id: 2, name: &quot;åˆ†ç±»&quot;, isActive: false &#125; , &#123; id: 3, name: &quot;å…³äº&quot;, isActive: false &#125; ] &#125;, /** * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨ */ methods: &#123; &#125;&#125;) Tab.wxml 12345678910111213&lt;view class=&quot;tabs&quot;&gt; &lt;view class=&quot;tabs_title&quot;&gt; &lt;!-- åˆ—è¡¨æ¸²æŸ“ --&gt; &lt;!-- classä¸­ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œæ ¹æ®itemçš„isActiveå±æ€§åˆ¤æ–­æ˜¯å¦é€‰ä¸­ï¼Œé€‰ä¸­åˆ™æ·»åŠ ç±»åä»¥æ˜¾ç¤ºæ ·å¼ --&gt; &lt;view wx:for=&quot;&#123;&#123;tabs&#125;&#125;&quot; wx:key=&quot;id&quot; class=&quot;title_item &#123;&#123;item.isActive?&#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;&gt; &#123;&#123;item.name&#125;&#125; &lt;/view&gt; &lt;/view&gt; &lt;view class=&quot;tabs_content&quot;&gt;&lt;/view&gt; &lt;/view&gt; ç»‘å®šç‚¹å‡»äº‹ä»¶Tab.wxml 123456789&lt;view class=&quot;tabs_title&quot;&gt; &lt;!-- åˆ—è¡¨æ¸²æŸ“ --&gt; &lt;!-- classä¸­ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œæ ¹æ®itemçš„isActiveå±æ€§åˆ¤æ–­æ˜¯å¦é€‰ä¸­ï¼Œé€‰ä¸­åˆ™æ·»åŠ ç±»åä»¥æ˜¾ç¤ºæ ·å¼ --&gt; &lt;!-- data-indexè‡ªå®šä¹‰å±æ€§ï¼Œç”¨äºä¼ é€’å½“å‰çš„ç´¢å¼•å€¼ --&gt; &lt;view wx:for=&quot;&#123;&#123;tabs&#125;&#125;&quot; wx:key=&quot;id&quot; class=&quot;title_item &#123;&#123;item.isActive?&#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot; bindtap=&quot;handleItemTap&quot; data-index=&quot;&#123;&#123;index&#125;&#125;&quot;&gt; &#123;&#123;item.name&#125;&#125; &lt;/view&gt;&lt;/view&gt; æ³¨æ„è‡ªå®šä¹‰ç»„ä»¶çš„æ–¹æ³•å†™åœ¨methodsä¸­ Tabs.js 123456789101112131415161718192021222324252627methods: &#123; handleItemTap(e) &#123; // æŸ¥çœ‹ç´¢å¼•æ‰€åœ¨çš„ä½ç½® console.log(e); // 1.è·å–è¢«ç‚¹å‡»çš„ç´¢å¼• // ES6å¸¸é‡const,åªè¯»ä¸å¯æ”¹ // ES6è§£æ„èµ‹å€¼:const &#123; index &#125; = e.currentTarget.dataset; const index = e.currentTarget.dataset.index; // 2.è·å–åŸæ•°ç»„ // ES6å˜é‡let,å—çº§ä½œç”¨åŸŸ // ES6è§£æ„èµ‹å€¼:let &#123; tabs &#125; = this.data; let tabs = this.data.tabs; // 3.å¾ªç¯æ•°ç»„ï¼šä¸ºå½“å‰ç´¢å¼•é¡¹è®¾ç½®isActiveï¼štrue,å…¶ä½™false // ES6ç®­å¤´å‡½æ•° tabs.forEach((v, i) =&gt; &#123; i === index ? v.isActive = true : v.isActive = false &#125;); // ä¿®æ”¹æ•°æ® this.setData(&#123; tabs &#125;) &#125;&#125; ä»¥ä¸Šæ•°æ®éƒ½å†™åœ¨ç»„ä»¶ä¸­ï¼Œæ¥ä¸‹æ¥æ¥å®ç°çˆ¶å‘å­ä¼ é€’æ•°æ® çˆ¶å‘å­ä¼ é€’æ•°æ®demo01.wxml 123456&lt;!-- çˆ¶ç»„ä»¶demo01ï¼Œå­ç»„ä»¶Tabs çˆ¶ç»„ä»¶é€šè¿‡æ ‡ç­¾å±æ€§ä¼ é€’æ•°æ® å­ç»„ä»¶åœ¨propertiesä¸­æ¥æ”¶--&gt;&lt;Tabs abc=&quot;è¦ä¼ é€’çš„æ•°æ®&quot;&gt;&lt;/Tabs&gt; Tabs.js 123456789properties: &#123; // å±æ€§å abc: &#123; // æ¥æ”¶çš„æ•°æ®çš„ç±»å‹ type: String, // é»˜è®¤å€¼ value: &quot;&quot; &#125;&#125;, Tabs.wxml 12&lt;!-- ç›¸å½“äºdataä¸­çš„æ•°æ®ä½¿ï¼Œç”¨&#123;&#123;&#125;&#125;æ¸²æŸ“ --&gt;&lt;view&gt;&#123;&#123;abc&#125;&#125;&lt;/view&gt; æ¥ä¸‹æ¥ä¿®æ”¹æ¡ˆä¾‹ä»£ç  å°†è¦ä¼ é€’çš„æ•°æ®æ”¾åœ¨çˆ¶ç»„ä»¶çš„dataä¸­ï¼Œå³åŸå…ˆå†™åœ¨Tabs.jsçš„dataä¸­çš„æ•°æ®æ”¾åœ¨demo01.jsçš„dataä¸­ 1234567891011121314151617181920212223242526data: &#123; tabs: [ &#123; id: 0, name: &quot;é¦–é¡µ&quot;, isActive: true &#125;, &#123; id: 1, name: &quot;åŸåˆ›&quot;, isActive: false &#125; , &#123; id: 2, name: &quot;åˆ†ç±»&quot;, isActive: false &#125; , &#123; id: 3, name: &quot;å…³äº&quot;, isActive: false &#125; ]&#125;, çˆ¶ç»„ä»¶é€šè¿‡æ ‡ç­¾å±æ€§ä¼ é€’æ•°æ® demo01.wxml 1&lt;Tabs tabs=&quot;&#123;&#123;tabs&#125;&#125;&quot;&gt;&lt;/Tabs&gt; å­ç»„ä»¶åœ¨propertiesä¸­æ¥æ”¶ï¼Œæœ€åæ•ˆæœä¸ä¹‹å‰ç›¸åŒ Tabs.js 123456properties: &#123; tabs: &#123; type: Array, value: [] &#125;&#125;, æ­¤æ—¶Tabs.jsä¸­ä»£ç ä»ç„¶æ˜¯åœ¨å­ç»„ä»¶å½“ä¸­ä¿®æ”¹tabæ•°ç»„ï¼Œè€Œä¸æ˜¯åœ¨çˆ¶ç»„ä»¶çš„dataä¸­ä¿®æ”¹tabï¼ˆå¯ä»¥åœ¨AppDataçª—å£æŸ¥çœ‹ï¼‰ 123456// this.dataä¸­æ‰¾ä¸åˆ°æ•°æ®ï¼Œåˆ™åœ¨propertiesä¸­å¯»æ‰¾let tabs = this.data.tabs;// å°†tabsæ”¾å…¥dataå½“ä¸­this.setData(&#123; tabs&#125;) æ‰€ä»¥éœ€è¦å°†å¤„ç†æ•°æ®æ”¾åœ¨çˆ¶ç»„ä»¶å½“ä¸­ï¼Œè€Œæ‰€éœ€è¦çš„ç´¢å¼•å€¼åˆ™ç”±å­ç»„ä»¶ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼ˆå­å‘çˆ¶ä¼ é€’æ•°æ®ï¼‰ å­å‘çˆ¶ä¼ é€’æ•°æ®Tabs.js 12345678methods: &#123; handleItemTap(e) &#123; // 1.è·å–è¢«ç‚¹å‡»çš„ç´¢å¼• const index = e.currentTarget.dataset.index; // 2.è§¦å‘çˆ¶ç»„ä»¶ä¸­çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¹¶ä¼ é€’æ•°æ® this.triggerEvent(&quot;itemChange&quot;, &#123; index &#125;); //triggerEvent(&quot;è‡ªå®šä¹‰äº‹ä»¶å&quot;, è¦ä¼ é€’çš„æ•°æ®) &#125;&#125; demo01.wxml 123456&lt;!-- å­ç»„ä»¶Tabs -&gt; çˆ¶ç»„ä»¶demo01 åœ¨å­ç»„ä»¶çš„æ ‡ç­¾ä¸­æ·»åŠ è‡ªå®šä¹‰äº‹ä»¶ ç¼–å†™çˆ¶ç»„ä»¶jsäº‹ä»¶æ–¹æ³•--&gt;&lt;Tabs tabs=&quot;&#123;&#123;tabs&#125;&#125;&quot; binditemChange=&quot;handleItemChange&quot;&gt;&lt;/Tabs&gt; demo01.js 1234567891011121314// è‡ªå®šä¹‰äº‹ä»¶æ–¹æ³•handleItemChange(e) &#123; console.log(e); // æ¥æ”¶ä¼ é€’çš„æ•°æ® const index = e.detail.index; // ä»¥ä¸‹ä»£ç ç›¸åŒ let tabs = this.data.tabs; tabs.forEach((v, i) =&gt; &#123; i === index ? v.isActive = true : v.isActive = false &#125;); this.setData(&#123; tabs &#125;)&#125;, AppDataçª—å£æŸ¥çœ‹å³å¯ slotæ ‡ç­¾ slotå ä½ç¬¦ï¼ˆæ’æ§½ï¼‰ï¼Œçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶ä¼ é€’ä¸€äº›æ ‡ç­¾æ¥æ›¿æ¢slotçš„ä½ç½® Tabs.wxml 123&lt;view class=&quot;tabs_content&quot;&gt; &lt;slot&gt;&lt;/slot&gt;&lt;/view&gt; demo01.wxml 123456&lt;Tabs tabs=&quot;&#123;&#123;tabs&#125;&#125;&quot; binditemChange=&quot;handleItemChange&quot;&gt; &lt;block wx:if=&quot;&#123;&#123;tabs[0].isActive&#125;&#125;&quot;&gt;å†…å®¹1&lt;/block&gt; &lt;block wx:elif=&quot;&#123;&#123;tabs[1].isActive&#125;&#125;&quot;&gt;å†…å®¹2&lt;/block&gt; &lt;block wx:elif=&quot;&#123;&#123;tabs[2].isActive&#125;&#125;&quot;&gt;å†…å®¹3&lt;/block&gt; &lt;block wx:else&gt;å†…å®¹4&lt;/block&gt;&lt;/Tabs&gt; ç”Ÿå‘½å‘¨æœŸåº”ç”¨ 12345678910111213141516171819202122232425262728293031323334// app.jsApp(&#123; // åº”ç”¨ ç¬¬ä¸€æ¬¡å¯åŠ¨ çš„æ—¶å€™è§¦å‘ï¼Œå¯ç”¨äºæœ€å¼€å§‹è·å–ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ç­‰ onLaunch() &#123; console.log(&quot;onLaunch&quot;); &#125;, // åº”ç”¨ æ˜¾ç¤º çš„æ—¶å€™è§¦å‘ï¼Œå¯ç”¨äºå¯¹é¡µé¢æ•°æ®ã€é¡µé¢æ•ˆæœè¿›è¡Œé‡ç½® onShow() &#123; console.log(&quot;onShow&quot;); // å¯è°ƒç”¨å¤šæ¬¡ &#125;, // åº”ç”¨ éšè— çš„æ—¶å€™è§¦å‘ï¼Œå¯ç”¨äºæš‚åœæˆ–æ¸…é™¤å®šæ—¶å™¨ onHide() &#123; console.log(&quot;onHide&quot;); &#125;, // åº”ç”¨ ä»£ç æŠ¥é”™ çš„æ—¶å€™è§¦å‘ï¼Œå¯ç”¨äºæ”¶é›†é”™è¯¯ä¿¡æ¯å¹¶å‘é€åˆ°åå° onError(error) &#123; console.log(&quot;onError&quot;); console.log(error); &#125;, // åº”ç”¨ ç¬¬ä¸€æ¬¡å¯åŠ¨æ‰¾ä¸åˆ°å…¥å£é¡µé¢ çš„æ—¶å€™è§¦å‘ï¼Œå¯ç”¨äºè·³è½¬ onPageNotFound() &#123; console.log(&quot;onPageNotFound&quot;); wx.navigateTo(&#123; url: &#x27;/pages/demo01/demo01&#x27;, &#125;) &#125;&#125;) é¡µé¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990// pages/demo02/demo02.jsPage(&#123; /** * é¡µé¢çš„åˆå§‹æ•°æ® */ data: &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½ * å‘é€å¼‚æ­¥è¯·æ±‚åˆå§‹åŒ–é¡µé¢æ•°æ® */ onLoad: function (options) &#123; console.log(&quot;onLoad&quot;); &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢æ˜¾ç¤º */ onShow: function () &#123; console.log(&quot;onShow&quot;); &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ */ onReady: function () &#123; console.log(&quot;onReady&quot;); &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢éšè— */ onHide: function () &#123; console.log(&quot;onHide&quot;); &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢å¸è½½ */ onUnload: function () &#123; console.log(&quot;onUnload&quot;); &#125;, /** * é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°--ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ * å¯¹é¡µé¢åˆå§‹åŒ– */ onPullDownRefresh: function () &#123; console.log(&quot;onPullDownRefresh&quot;); &#125;, /** * é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•° * è§¦åº•åŠ è½½æ›´å¤šæ•°æ® */ onReachBottom: function () &#123; console.log(&quot;onReachBottom&quot;); &#125;, /** * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº« */ onShareAppMessage: function () &#123; console.log(&quot;onShareAppMessage&quot;); &#125;, /** * é¡µé¢æ»šåŠ¨ */ onPageScroll() &#123; console.log(&quot;onPageScroll&quot;); &#125;, /** * é¡µé¢å°ºå¯¸æ”¹å˜ */ onResize() &#123; console.log(&quot;onResize&quot;); &#125;, /** * å½“å‰æ˜¯tabé¡µï¼Œç‚¹å‡»å½“å‰é¡µçš„tabæ—¶è§¦å‘ */ onTabItemTap() &#123; console.log(&quot;onTabItemTap&quot;); &#125;&#125;)","categories":[{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"é›†è®­","slug":"é›†è®­","permalink":"http://example.com/tags/%E9%9B%86%E8%AE%AD/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]},{"title":"ã€å­¦ä¹ ç¬”è®°ã€‘SpringBoot2","slug":"ã€å­¦ä¹ ç¬”è®°ã€‘SpringBoot2","date":"2021-07-20T10:31:35.005Z","updated":"2021-08-18T04:48:58.808Z","comments":true,"path":"2021/07/20/xue-xi-bi-ji-springboot2/","link":"","permalink":"http://example.com/2021/07/20/xue-xi-bi-ji-springboot2/","excerpt":"","text":"æ•™ç¨‹ä¸æ–‡æ¡£SpringBoot2æ ¸å¿ƒæŠ€æœ¯ä¸å“åº”å¼ç¼–ç¨‹ Â· è¯­é›€ (yuque.com) Springä¸SpringBoot201ã€Springä¸SpringBoot Â· è¯­é›€ (yuque.com) HelloWorld å¯¼å…¥ä¾èµ– pom.xml 1234567891011121314&lt;!-- çˆ¶é¡¹ç›®é…ç½® --&gt;&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;!-- webåœºæ™¯å¯åŠ¨å™¨ --&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; ç¼–å†™controller HelloController.java 12345678910// @Controller // æ³¨æ˜controller// @ResponseBody // æ³¨æ˜å°†javaå¯¹è±¡è½¬ä¸ºjsonæ ¼å¼çš„æ•°æ®@RestController // ä»£æ›¿ä»¥ä¸Šä¸¤è€…public class HelloController &#123; // æ˜ å°„è¯·æ±‚çš„åœ°å€ @RequestMapping(&quot;/hello&quot;) public String handle1() &#123; return &quot;Hello,SpringBoot2&quot;; &#125;&#125; ç¼–å†™ä¸»ç¨‹åºç±»å¹¶æµ‹è¯• MainApplication.java 1234567891011/** * ä¸»ç¨‹åºç±» */// è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªSpringBootåº”ç”¨@SpringBootApplicationpublic class MainApplication &#123; public static void main(String[] args) &#123; // runå£°æ˜ä¸»ç¨‹åºç±»ï¼Œè¿”å›ä¸€ä¸ªIoCå®¹å™¨ SpringApplication.run(MainApplication.class, args); &#125;&#125; resourcesæ–‡ä»¶å¤¹ä¸‹application.propertiesï¼Œå¯æ ¹æ®æ–‡æ¡£è‡ªå®šä¹‰é…ç½® Common Application properties (spring.io) åˆ›å»ºå¯æ‰§è¡ŒjaråŒ…ï¼Œæ·»åŠ buildä¾èµ–ï¼Œç„¶åç‚¹å‡»mavenä¸­çš„lifecycleä¸­çš„cleanä¸packageå¹¶æ‰§è¡Œ pom.xml 123456789&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.2.4.RELEASE&lt;/version&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; æ‰§è¡ŒjaråŒ…ï¼Œåœ¨targetç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ java -jar åŒ…å.jar ä¾èµ–ç®¡ç†ä¸è‡ªåŠ¨é…ç½®ç‰¹æ€§é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili åº•å±‚æ³¨è§£@Configurationã€@Bean é…ç½®å¯¹è±¡åŸåŸSpringä½¿ç”¨xmlé…ç½®æ–‡ä»¶é…ç½®beanå¯¹è±¡å¦‚ä¸‹ bean.xml 123456789101112131415&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;bean id=&quot;user01&quot; class=&quot;com.myspringboot2.bean.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;zhangsan&quot;/&gt; &lt;property name=&quot;age&quot; value=&quot;18&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;cat&quot; class=&quot;com.myspringboot2.bean.Pet&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;mimi&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; ç°ç¼–å†™é…ç½®MyConfig.java 1234567891011121314151617/** * 1ã€é…ç½®ç±»é‡Œé¢ä½¿ç”¨@Beanæ·»åŠ å¯¹è±¡ï¼Œé»˜è®¤æ˜¯å•å®ä¾‹ * 2ã€é…ç½®ç±»æœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡ * 3ã€proxyBeanMethods: ä»£ç†beançš„æ–¹æ³•ã€‚é»˜è®¤ä¸ºtrue(fullæ¨¡å¼)ï¼Œä½¿ç”¨ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•ï¼Œä¿è¯å¯¹è±¡æ˜¯å•å®ä¾‹ï¼›å¦åˆ™(liteæ¨¡å¼)éå•å®ä¾‹ */@Configuration(proxyBeanMethods = true) //å£°æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼ˆå³æ›¿æ¢æ‰é…ç½®æ–‡ä»¶public class MyConfig &#123; // æ— è®ºå¤–éƒ¨å¯¹è¿™ä¸ªé…ç½®ç±»ä¸­çš„æ–¹æ³•è°ƒç”¨å¤šå°‘æ¬¡ï¼Œè·å¾—çš„éƒ½æ˜¯å®¹å™¨ä¸­çš„å•å®ä¾‹å¯¹è±¡ @Bean //å‘å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œidä¸ºæ–¹æ³•å(å¯ä»¥è‡ªå®šä¹‰)ï¼Œç»„ä»¶ç±»å‹ä¸ºè¿”å›ç±»å‹ï¼Œç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å®ä¾‹ä¸ºè¿”å›åœ°å€¼ public User user01() &#123; return new User(&quot;zhangsan&quot;, 18); &#125; @Bean(&quot;pet01&quot;) //è‡ªå®šä¹‰id public Pet cat() &#123; return new Pet(&quot;mimi&quot;); &#125;&#125; æµ‹è¯•ç±»MainApplication.java 123456789101112131415/** * ä¸»ç¨‹åºç±» */// è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªSpringBootåº”ç”¨@SpringBootApplicationpublic class MainApplication &#123; public static void main(String[] args) &#123; // è·å–IoCå®¹å™¨,runå£°æ˜ä¸»ç¨‹åºç±»,è¿”å›ä¸€ä¸ªIoCå®¹å™¨ ConfigurableApplicationContext run = SpringApplication.run(MainApplication.class, args); // ä»å®¹å™¨ä¸­è·å–bean,é»˜è®¤æ˜¯å•å®ä¾‹ User user01 = run.getBean(&quot;user01&quot;, User.class); Pet pet01 = run.getBean(&quot;pet01&quot;, Pet.class); MyConfig myConfig = run.getBean(MyConfig.class); &#125;&#125; Fullæ¨¡å¼ä¸Liteæ¨¡å¼ é…ç½®ç±»ç»„ä»¶ä¹‹é—´æ— ä¾èµ–å…³ç³»ç”¨Liteæ¨¡å¼åŠ é€Ÿå®¢å™¨å¯åŠ¨è¿‡ç¨‹,å‡å°‘åˆ¤æ–­ é…ç½®ç±»ç»„ä»¶ä¹‹é—´æœ‰ä¾èµ–å…³ç³»,æ–¹æ³•ä¼šè¢«è°ƒç”¨å¾—åˆ°ä¹‹å‰å•å®ä¾‹ç»„ä»¶,ç”¨Fullæ¨¡å¼ @ComponentScan åŒ…æ‰«æ1234// ä¸€ä¸‹ä¸‰è€…ç›¸å½“äº@SpringBootApplication@ComponentScan(&quot;com.myspringboot2&quot;) //åŒ…æ‰«æåœ°å€@EnableAutoConfiguration@SpringBootConfiguration @Import æ³¨å…¥å¯¹è±¡1@Import(&#123;User.class, DBHelper.class&#125;) //å‘å®¹å™¨ä¸­æ·»åŠ å¯¹åº”ç±»å‹çš„å¯¹è±¡,é»˜è®¤å¯¹è±¡åä¸ºå¯¹åº”ç±»çš„å…¨ç±»å @Conditional æ¡ä»¶è£…é…ä½¿ç”¨ MyConfig.java 12345678@Configuration(proxyBeanMethods = false) //å£°æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼ˆå³æ›¿æ¢æ‰é…ç½®æ–‡ä»¶public class MyConfig &#123; @ConditionalOnBean(name = &quot;pet02&quot;) // æŒ‰æ¡ä»¶æ‰§è¡Œå‘å®¹å™¨ä¸­æ³¨å…¥å¯¹è±¡,å¯æ”¾åœ¨ç±»ä¸Š(åˆ™æŒ‰æ¡ä»¶æ‰§è¡Œæ˜¯å¦æ³¨å…¥ç±»ä¸­æ‰€æœ‰çš„å¯¹è±¡) @Bean //å‘å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œidä¸ºæ–¹æ³•å(å¯ä»¥è‡ªå®šä¹‰)ï¼Œç»„ä»¶ç±»å‹ä¸ºè¿”å›ç±»å‹ï¼Œç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å®ä¾‹ä¸ºè¿”å›åœ°å€¼ public User user01() &#123; return new User(&quot;zhangsan&quot;, 18); &#125;&#125; æµ‹è¯• MainApplication.java 123456789@SpringBootApplicationpublic class MainApplication &#123; public static void main(String[] args) &#123; // è·å–IoCå®¹å™¨,runå£°æ˜ä¸»ç¨‹åºç±»ï¼Œè¿”å›ä¸€ä¸ªIoCå®¹å™¨ ConfigurableApplicationContext run = SpringApplication.run(MainApplication.class, args); // ç”±äºuser01é…ç½®çš„æ˜¯ç”±æ·»åŠ äº†ConditinalOnBean,è€Œå…¶ä¸­çš„æ¡ä»¶pet02å¯¹è±¡å¹¶ä¸åœ¨å®¹å™¨å½“ä¸­ï¼Œæ‰€ä»¥æœªæ³¨å…¥user01 System.out.println(run.containsBean(&quot;user01&quot;)); &#125;&#125; @ImportResource å¯¼å…¥xmlé…ç½®æ–‡ä»¶1234@ImportResource(&quot;classpath:beans.xml&quot;) //å…¼å®¹xmlé…ç½®@Configuration(proxyBeanMethods = false) //å£°æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼ˆå³æ›¿æ¢æ‰é…ç½®æ–‡ä»¶public class MyConfig &#123;&#125; 123456789@SpringBootApplicationpublic class MainApplication &#123; public static void main(String[] args) &#123; // è·å–IoCå®¹å™¨,runå£°æ˜ä¸»ç¨‹åºç±»ï¼Œè¿”å›ä¸€ä¸ªIoCå®¹å™¨ ConfigurableApplicationContext run = SpringApplication.run(MainApplication.class, args); // ä½¿ç”¨@ImportResourceæˆåŠŸæ³¨å…¥beans.xmlä¸­çš„å¯¹è±¡ System.out.println(run.containsBean(&quot;user01&quot;)); &#125;&#125; @ConfigurationProperties é…ç½®ç»‘å®šç¼–å†™å±æ€§ï¼Œ application.propertiesï¼Œæ³¨æ„ä½¿ç”¨å…¨å°å†™ 12mycar.brand=ABCmycar.price=100000 ç¬¬ä¸€ç§æ–¹æ³•ï¼šéœ€è¦åœ¨å®¹å™¨ä¸­çš„ç»„ä»¶ä¸Šä½¿ç”¨ï¼Œ Car.java 1234567@Component //å£°æ˜ä¸ºç»„ä»¶ï¼Œåªæœ‰å®¹å™¨ä¸­çš„ç»„ä»¶æ‰èƒ½ä½¿ç”¨@ConfigurationProperties(prefix = &quot;mycar&quot;) //ç»‘å®šé…ç½®æ–‡ä»¶ä¸­çš„å±æ€§ï¼ŒprefixæŒ‡å®šå¯¹åº”å‰ç¼€public class Car &#123; String brand; Integer price; // â€¦â€¦&#125; ç¬¬äºŒç§æ–¹æ³•ï¼šä¸ä½¿ç”¨@Componentå£°æ˜Carä¸ºç»„ä»¶ï¼Œè€Œæ˜¯åœ¨é…ç½®ç±»ç§å¼€å¯æŒ‡å®šå¯¹è±¡çš„å±æ€§é…ç½®åŠŸèƒ½ 12345@EnableConfigurationProperties(Car.class) //å¼€å¯æŒ‡å®šå¯¹è±¡çš„å±æ€§é…ç½®åŠŸèƒ½@Configuration(proxyBeanMethods = false) //å£°æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼ˆå³æ›¿æ¢æ‰é…ç½®æ–‡ä»¶public class MyConfig &#123; // â€¦â€¦&#125; æµ‹è¯•ï¼Œ HelloController.java 123456789@RestControllerpublic class HelloController &#123; @Autowired Car car; @RequestMapping(&quot;/car&quot;) public Car car() &#123; return car; &#125;&#125; è‡ªåŠ¨é…ç½®åŸç†ï¼ˆæºç åˆ†æé›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili @SpringBootApplication å£°æ˜å½“å‰æ˜¯ä¸€ä¸ªé…ç½®ç±» @ComponentScan æŒ‡å®šæ‰«æè·¯å¾„ @EnableAutoConfiguration@AutoConfigurationPackage åˆ©ç”¨Registrarå°†å½“å‰åŒ…ä¸‹çš„æ‰€æœ‰ç»„ä»¶å…¨éƒ¨å¯¼å…¥è¿›å®¹å™¨ @Import å¯¼å…¥é»˜è®¤ç»„ä»¶ ä¾¿æ·ä½¿ç”¨Lombok ç®€åŒ–JavaBeanç¼–å†™ç­‰ å¼•å…¥ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;/dependency&gt; ç¼–å†™JavaBean 1234567@NoArgsConstructor //è‡ªåŠ¨ç¼–å†™æ— å‚æ„é€ å™¨@AllArgsConstructor //è‡ªåŠ¨ç¼–å†™å…¨å‚æ„é€ å™¨@Data //è‡ªåŠ¨ç¼–å†™set/get/toStringæ–¹æ³•public class Car &#123; String brand; Integer price;&#125; ç¼–å†™controllerçš„æ—¥å¿—æ‰“å° 12345678910@Slf4j //å¼•å…¥æ—¥å¿—æ¥å£@RestControllerpublic class HelloController &#123; // æ˜ å°„è¯·æ±‚çš„åœ°å€ @RequestMapping(&quot;/hello&quot;) public String handle1() &#123; log.info(&quot;hello&quot;); //æ—¥å¿—æ‰“å°ä¿¡æ¯ return &quot;Hello,SpringBoot2&quot;; &#125;&#125; Dev-toolsã€JRebel è‡ªåŠ¨é‡å¯ã€çƒ­æ›´æ–° å¼•å…¥ä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; ä½¿ç”¨ Ctrl+F9 æ›´æ–° Spring Initializr å¿«é€Ÿåˆ›å»ºspringbootåº”ç”¨ï¼Œåˆ›å»ºåº”ç”¨æ—¶é€‰æ‹©å³å¯ é…ç½®æ–‡ä»¶propertiesyamlåŸºæœ¬è¯­æ³• key: value #æ³¨æ„ç©ºæ ¼ å¤§å°å†™æ•æ„Ÿ ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³» ç¼©è¿›ä¸å…è®¸ä½¿ç”¨tabï¼Œåªå…è®¸ç©ºæ ¼ ç¼©è¿›ç©ºæ ¼æ•°æ— å½±å“ï¼ŒåŒå±‚çº§çš„å…ƒç´ éœ€è¦å·¦å¯¹é½ #ç¼–å†™æ³¨é‡Š â€œâ€åŒå¼•å·å†…\\nç­‰ä¸è½¬ä¹‰ï¼Œä»ç„¶æ˜¯å›è½¦çš„æœ¬æ„æ˜¾ç¤ºä¸ºå›è½¦ï¼Œâ€™â€™å•å¼•å·å†…è½¬ä¹‰ï¼Œ\\næ˜¾ç¤ºä¸ºå­—ç¬¦ä¸² æ•°æ®ç±»å‹ å­—é¢é‡ 1key: value å¯¹è±¡ 123456k: &#123;k1: v1,k2: v2,k3: v3&#125;# æˆ–k: k1: v1 k2: v2 k3: v3 æ•°ç»„ 123456k: [v1,v2,v3]# æˆ–k: - v1 - v2 - v3 ç¤ºä¾‹é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili configuration-processor é…ç½®å¤„ç†å™¨ æ·»åŠ ä¾èµ– 123456789101112131415161718192021222324&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.2.4.RELEASE&lt;/version&gt; &lt;!-- æ‰“åŒ…çš„æ—¶å€™ä¸å¸¦è¿™ä¸ªåŒ… --&gt; &lt;configuration&gt; &lt;excludes&gt; &lt;exclude&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;/exclude&gt; &lt;/excludes&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; webå¼€å‘ç®€å•åŠŸèƒ½é™æ€èµ„æºè®¿é—® é™æ€èµ„æºç›®å½• å­˜æ”¾è·¯å¾„ï¼šç±»è·¯å¾„(resourcesèµ„æºæ ¹ç›®å½•)ä¸‹çš„/static or /public or /resources or /META-INF/resources è®¿é—®è·¯å¾„ï¼šé¡¹ç›®æ ¹è·¯å¾„/é™æ€èµ„æºå åŸç†ï¼š é™æ€æ˜ å°„/**ã€‚è¯·æ±‚è¿›æ¥ï¼Œå…ˆå»æ‰¾Controllerçœ‹èƒ½ä¸èƒ½å¤„ç†ã€‚ä¸èƒ½å¤„ç†çš„æ‰€æœ‰è¯·æ±‚åˆéƒ½äº¤ç»™é™æ€èµ„æºå¤„ç†å™¨ã€‚é™æ€èµ„æºä¹Ÿæ‰¾ä¸åˆ°åˆ™å“åº”404é¡µé¢ æ”¹å˜é»˜è®¤çš„é™æ€èµ„æºè®¿é—®è·¯å¾„å’Œå­˜æ”¾è·¯å¾„ï¼Œåœ¨é…ç½®æ–‡ä»¶application.yamlä¸­ç¼–å†™ 12345spring: mvc: static-path-pattern: /res/** #resä¸ºè‡ªå®šä¹‰å‰ç¼€ï¼Œå³è®¿é—®åœ°å€é¡»åœ¨é¡¹ç›®æ ¹è·¯å¾„/res/é™æ€èµ„æºå resources: static-locations: [classpath:/è‡ªå®šä¹‰æ–‡ä»¶å¤¹å/] æ¬¢è¿é¡µå‘½åä¸ºindex.htmlæ”¾åœ¨é™æ€èµ„æºç›®å½•ä¸‹å³å¯ã€‚ è‡ªå®šä¹‰Faviconå‘½åä¸ºfavicon.ico æ”¾åœ¨é™æ€èµ„æºç›®å½•ä¸‹å³å¯ã€‚ æºç åˆ†æé›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili è¯·æ±‚å¤„ç†@xxxMapping è¯·æ±‚æ˜ å°„ Resté£æ ¼æ”¯æŒï¼ˆä½¿ç”¨HTTPè¯·æ±‚æ–¹å¼åŠ¨è¯æ¥è¡¨ç¤ºå¯¹èµ„æºçš„æ“ä½œï¼‰ ä»¥å‰ï¼š**/getUser è·å–ç”¨æˆ· /deleteUser åˆ é™¤ç”¨æˆ· /editUser ä¿®æ”¹ç”¨æˆ· /saveUser ä¿å­˜ç”¨æˆ· ç°åœ¨ï¼š /user GET-è·å–ç”¨æˆ· DELETE-åˆ é™¤ç”¨æˆ· PUT-ä¿®æ”¹ç”¨æˆ· POST-ä¿å­˜ç”¨æˆ· ç¼–å†™controllerç±» 1234567891011121314151617181920212223@RestControllerpublic class HelloController &#123; @GetMapping(&quot;/user&quot;) // å³@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.GET) public String getUser() &#123; return &quot;getUser GET&quot;; &#125; @PostMapping(&quot;/user&quot;) // å³@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.POST) public String saveUser() &#123; return &quot;saveUser POST&quot;; &#125; @PutMapping(&quot;/user&quot;) // å³@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.PUT) public String modifiedUser() &#123; return &quot;modifiedUser PUT&quot;; &#125; @DeleteMapping(&quot;/user&quot;) // å³@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.DELETE) public String deleteUser() &#123; return &quot;deleteUser DELETE&quot;; &#125;&#125; ç¼–å†™é¡µé¢ 12345678910111213141516&lt;form action=&quot;/user&quot; method=&quot;get&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;getæäº¤&quot;&gt;&lt;/form&gt;&lt;form action=&quot;/user&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;postæäº¤&quot;&gt;&lt;/form&gt;&lt;!-- formè¡¨å•ä¸­methodåªèƒ½å†™get/post --&gt;&lt;!-- ä½¿ç”¨éšè—åŸŸä¼ é€’_methodæ–¹æ³•å‚æ•°çš„å€¼ --&gt;&lt;form action=&quot;/user&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;PUT&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;PUTæäº¤&quot;&gt;&lt;/form&gt;&lt;form action=&quot;/user&quot; method=&quot;post&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;DELETE&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;DELETEæäº¤&quot;&gt;&lt;/form&gt; åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯hiddenmethod-filter(é»˜è®¤ä¸ºfalse)ï¼Œå¦‚æœå‰ç«¯ä¸æ˜¯ä½¿ç”¨è¡¨å•å‘é€è¯·æ±‚åˆ™ä¸éœ€è¦å¼€å¯filter 12345spring: mvc: hiddenmethod: filter: enabled: true è‡ªå®šä¹‰HiddenMethodFilterç¼–å†™é…ç½®ç±»ï¼Œè‡ªå®šä¹‰filter 12345678@Configuration(proxyBeanMethods = false)public class MyWebConfig &#123; public HiddenHttpMethodFilter hiddenHttpMethodFilter() &#123; HiddenHttpMethodFilter filter = new HiddenHttpMethodFilter(); filter.setMethodParam(&quot;_m&quot;); //ä¿®æ”¹æ–¹æ³•å‚æ•°åä¸º_m return filter; &#125;&#125; è¯·æ±‚æ˜ å°„åŸç†é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili å‚æ•°æ³¨è§£@PathVariableã€@RequestHeaderã€@RequestParamã€@CookieValueã€@RequestBody12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455@RestControllerpublic class ParamTestController &#123; // æµ‹è¯•url: http://localhost:8080/test1/1/lisi?age=10&amp;inters=%E5%90%83%E9%A5%AD&amp;inters=%E7%9D%A1%E8%A7%89 @GetMapping(&quot;/test1/&#123;id&#125;/&#123;username&#125;&quot;) public Map&lt;String, Object&gt; test1(@PathVariable(&quot;id&quot;) Integer id, @PathVariable(&quot;username&quot;) String name, @PathVariable Map&lt;String, String&gt; variables, @RequestHeader(&quot;User-Agent&quot;) String userAgent, @RequestHeader Map&lt;String, String&gt; headers, @RequestParam(&quot;age&quot;) Integer age, @RequestParam(&quot;inters&quot;) List&lt;String&gt; inters, @RequestParam Map&lt;String,String&gt; params1, @RequestParam MultiValueMap&lt;String, String&gt; params2, @CookieValue(&quot;_xsrf&quot;) String _xsrf, @CookieValue(&quot;_xsrf&quot;) Cookie cookie) &#123; /** * @PathVariable(&quot;&quot;) è·å¾—æŒ‡å®šè·¯å¾„å˜é‡åçš„å€¼ * @PathVariable è·å¾—æ‰€æœ‰è·¯å¾„å˜é‡åä»¥åŠå€¼ï¼Œå­˜æ”¾åˆ°Map&lt;String, String&gt;ä¸­ * æ³¨æ„åè€…é”®å€¼å¯¹å¯¹åº”çš„æ˜¯åœ°å€æ ä¸­çš„usernameå‚æ•°åï¼Œè€Œå‰è€…æ˜¯å½¢å‚åname * * @RequestHeader(&quot;&quot;) è·å¾—è¯·æ±‚å¤´ä¸­æŒ‡å®škeyçš„å€¼ * @RequestHeader è·å¾—è¯·æ±‚å¤´ä¸­æ‰€æœ‰çš„keyåŠå…¶å€¼ * * @RequestParam(&quot;&quot;) è·å¾—æŒ‡å®šè¯·æ±‚å‚æ•°åçš„å€¼ * @RequestParam è·å¾—æ‰€æœ‰è¯·æ±‚å‚æ•°åä»¥åŠå€¼ï¼Œå­˜æ”¾åˆ°Map&lt;String, String&gt;ä¸­ * æ³¨æ„åè€…å­˜æ”¾åœ¨mapä¸­ï¼Œkvåªæœ‰ä¸€å¯¹ï¼Œå¯ä½¿ç”¨MultiValueMapè·å–åˆ°ä¸€å¯¹å¤šçš„é”®å€¼å¯¹ã€‚ */ Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); // ä»¥ä¸‹æ˜¯æµ‹è¯• map.put(&quot;id&quot;, id); map.put(&quot;name&quot;, name); map.put(&quot;pv&quot;, variables); map.put(&quot;userAgent&quot;, userAgent); map.put(&quot;rh&quot;, headers); map.put(&quot;age&quot;,age); map.put(&quot;inters&quot;,inters); map.put(&quot;params1&quot;,params1); map.put(&quot;params2&quot;,params2); map.put(&quot;_xsrf&quot;,_xsrf); System.out.println(cookie.getName()+&quot;===&gt;&quot;+cookie.getValue()); return map; &#125; @PostMapping(&quot;/test2&quot;) public Map&lt;String, Object&gt; test2(@RequestBody String content)&#123; /** * @RequestBody è·å¾—è¯·æ±‚ä½“ä¸­æ‰€æœ‰çš„keyåŠå¯¹åº”å€¼ */ Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); // ä»¥ä¸‹æ˜¯æµ‹è¯• map.put(&quot;content&quot;, content); return map; &#125;&#125; @RequestAttribute è·å–åŸŸå¯¹è±¡å‚æ•°å€¼1234567891011121314151617181920212223@Controller //æ³¨æ„RestControllerå†™return &quot;forward:/success&quot;åªä¼šè§£ææˆå­—ç¬¦ä¸²public class RequestController &#123; @GetMapping(&quot;/goto&quot;) public String gotoPage(HttpServletRequest req) &#123; req.setAttribute(&quot;msg&quot;, &quot;ä¿¡æ¯&quot;); req.setAttribute(&quot;code&quot;, &quot;ä¿¡æ¯123123&quot;); return &quot;forward:/success&quot;; //è½¬å‘åˆ°/successè¯·æ±‚ &#125; @ResponseBody @GetMapping(&quot;/success&quot;) public Map&lt;String, Object&gt; success(@RequestAttribute(&quot;msg&quot;) String msg, @RequestAttribute(&quot;code&quot;) String code) &#123; /** * @RequestAttribute è·å¾—requeståŸŸå¯¹è±¡ä¸­çš„æŒ‡å®šå€¼ */ Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;msg&quot;, msg); map.put(&quot;code&quot;, code); return map; &#125; &#125; @MatrixVariable è·å–çŸ©é˜µå˜é‡12345678910111213141516171819202122232425262728//1ã€çŸ©é˜µå˜é‡è¯­æ³•ï¼š è¯·æ±‚è·¯å¾„ï¼š/cars/sell;low=34;brand=byd,audi,yd //2ã€SpringBooté»˜è®¤æ˜¯ç¦ç”¨äº†çŸ©é˜µå˜é‡çš„åŠŸèƒ½ // æ‰‹åŠ¨å¼€å¯ï¼šåŸç†ã€‚å¯¹äºè·¯å¾„çš„å¤„ç†ã€‚UrlPathHelperè¿›è¡Œè§£æã€‚ // removeSemicolonContentï¼ˆç§»é™¤åˆ†å·å†…å®¹ï¼‰æ”¯æŒçŸ©é˜µå˜é‡çš„ //3ã€çŸ©é˜µå˜é‡å¿…é¡»æœ‰urlè·¯å¾„å˜é‡æ‰èƒ½è¢«è§£æ @GetMapping(&quot;/cars/&#123;path&#125;&quot;) public Map carsSell(@MatrixVariable(&quot;low&quot;) Integer low, @MatrixVariable(&quot;brand&quot;) List&lt;String&gt; brand, @PathVariable(&quot;path&quot;) String path)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;low&quot;,low); map.put(&quot;brand&quot;,brand); map.put(&quot;path&quot;,path); return map; &#125; // /boss/1;age=20/2;age=10 @GetMapping(&quot;/boss/&#123;bossId&#125;/&#123;empId&#125;&quot;) public Map boss(@MatrixVariable(value = &quot;age&quot;,pathVar = &quot;bossId&quot;) Integer bossAge, @MatrixVariable(value = &quot;age&quot;,pathVar = &quot;empId&quot;) Integer empAge)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;bossAge&quot;,bossAge); map.put(&quot;empAge&quot;,empAge); return map; &#125; 12345678910111213141516171819202122@Configuration(proxyBeanMethods = false)public class MyWebConfig &#123; public HiddenHttpMethodFilter hiddenHttpMethodFilter() &#123; HiddenHttpMethodFilter filter = new HiddenHttpMethodFilter(); filter.setMethodParam(&quot;_m&quot;); //ä¿®æ”¹_method return filter; &#125; @Bean // è‡ªå®šä¹‰å…¶ä¸­çš„åŠŸèƒ½,æ­¤å¤„æ¼”ç¤ºå¯ç”¨çŸ©é˜µå˜é‡åŠŸèƒ½ public WebMvcConfigurer webMvcConfigurer() &#123; return new WebMvcConfigurer() &#123; @Override public void configurePathMatch(PathMatchConfigurer configurer) &#123; UrlPathHelper urlPathHelper = new UrlPathHelper(); // è®¾ç½®ä¸åˆ é™¤åˆ†å·å†…å®¹ urlPathHelper.setRemoveSemicolonContent(false); configurer.setUrlPathHelper(urlPathHelper); &#125; &#125;; &#125;&#125; ServletAPI WebRequestã€ServletRequestã€MultipartRequestã€ HttpSessionã€javax.servlet.http.PushBuilderã€Principalã€InputStreamã€Readerã€HttpMethodã€Localeã€TimeZoneã€ZoneId å‚æ•°æ³¨è§£æºç åˆ†æé›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili ç›´æ¥çœ‹å›°äº†ï¼Œä»¥åå†çœ‹å§ã€‚ è‡ªå®šä¹‰å‚æ•°ç»‘å®š ç¼–å†™ä¸¤ä¸ªbean 12345678@Datapublic class User &#123; String username; String password; Integer age; Date birthday; Pet pet;&#125; 12345@Datapublic class Pet &#123; String name; Integer age;&#125; ç¼–å†™è¡¨å• 12345678&lt;form action=&quot;/saveuser&quot; method=&quot;post&quot;&gt; å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt; å¹´é¾„ï¼š&lt;input type=&quot;number&quot; name=&quot;age&quot;&gt; ç”Ÿæ—¥ï¼š&lt;input type=&quot;date&quot; name=&quot;birthday&quot;&gt; å® ç‰©åå­—ï¼š&lt;input type=&quot;text&quot; name=&quot;pet.name&quot;&gt; å® ç‰©å¹´é¾„ï¼š&lt;input type=&quot;number&quot; name=&quot;pet.age&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;POSTæäº¤&quot;&gt;&lt;/form&gt; ç¼–å†™controlleræµ‹è¯• 1234@PostMapping(&quot;/saveuser&quot;)public User saveuser(User user) &#123; return user;&#125; è‡ªå®šä¹‰è½¬æ¢å™¨12345678910111213141516171819202122232425@Configuration(proxyBeanMethods = false)public class MyWebConfig &#123; @Bean // è‡ªå®šä¹‰å…¶ä¸­çš„åŠŸèƒ½ public WebMvcConfigurer webMvcConfigurer() &#123; return new WebMvcConfigurer() &#123; @Override public void addFormatters(FormatterRegistry registry) &#123; registry.addConverter(new Converter&lt;String, Date&gt;() &#123; @Override public Date convert(String s) &#123; SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); Date date = null; try &#123; date = sf.parse(s); &#125; catch (ParseException e) &#123; e.printStackTrace(); &#125; return date; &#125; &#125;); &#125; &#125;; &#125;&#125; æ•°æ®å“åº”ä¸å†…å®¹åå•†å“åº”JSONæ•°æ® å¼•å…¥jackson.jarï¼Œå·²åŒ…å«åœ¨starter-webåœºæ™¯å¯åŠ¨å™¨ä¸­ ä½¿ç”¨æ³¨è§£@ResponseBody å“åº”åŸç†é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili å†…å®¹åå•† æ ¹æ®å®¢æˆ·ç«¯æ¥æ”¶èƒ½åŠ›ä¸åŒï¼Œè¿”å›ä¸åŒåª’ä½“ç±»å‹çš„æ•°æ®ã€‚ ä»¥xmlä¸ºç¤ºä¾‹ï¼Œå¼•å…¥ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt; &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;&lt;/dependency&gt; è¯·æ±‚å¤´é‡Œacceptå­—æ®µï¼Œè®¾ç½®äº†æ¥æ”¶æ•°æ®ä»¥xmlæ ¼å¼ä¸ºä¼˜å…ˆ å¼€å¯åŸºäºè¯·æ±‚å‚æ•°çš„å†…å®¹åå•†åŸç†ï¼ŒåŒæ—¶urlä¸­æ·»åŠ è¯·æ±‚å‚æ•°format=xxxå³å¯ 1234spring: mvc: contentnegotiation: favor-parameter: true å†…å®¹åå•†åŸç†é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili è‡ªå®šä¹‰MessageConvertoré›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili è§†å›¾è§£æä¸æ¨¡æ¿å¼•æ“thymeleaf javaæ¨¡æ¿å¼•æ“ åŸºæœ¬è¯­æ³• å¼•å…¥ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt; ç¼–å†™æ¨¡æ¿ 1234567891011121314&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1 th:text=&quot;$&#123;msg&#125;&quot;&gt;é»˜è®¤çš„å€¼&lt;/h1&gt; &lt;h2&gt; &lt;a href=&quot;www.google.com&quot; th:href=&quot;$&#123;link&#125;&quot;&gt;è·³è½¬ç™¾åº¦&lt;/a&gt; &lt;a href=&quot;www.google.com&quot; th:href=&quot;@&#123;link&#125;&quot;&gt;è·³è½¬ç™¾åº¦&lt;/a&gt; &lt;/h2&gt;&lt;/body&gt;&lt;/html&gt; ç¼–å†™controller 1234567891011@Controllerpublic class ViewTestController &#123; @GetMapping(&quot;/testsuccess&quot;) public String test(Model model) &#123; // modelä¸­çš„æ•°æ®ä¼šè¢«æ”¾åœ¨è¯·æ±‚åŸŸä¸­ model.addAttribute(&quot;msg&quot;, &quot;msgTest&quot;); model.addAttribute(&quot;link&quot;, &quot;https://www.baidu.com&quot;); // è·³è½¬é¡µé¢å†™é¡µé¢çš„å‰å return &quot;success&quot;; &#125;&#125; æ‹¦æˆªå™¨é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili ç¼–å†™Interceptor 123456789101112131415161718192021222324252627282930313233343536/** * ç™»é™†æ£€æŸ¥ */@Slf4jpublic class LoginInterceptor implements HandlerInterceptor &#123; /** * ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰ */ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; log.info(&quot;Run LoginInterceptor.preHandle&quot;); HttpSession session = request.getSession(); Object loginUser = session.getAttribute(&quot;loginUser&quot;); if (loginUser != null) &#123; return true; &#125; else &#123; session.setAttribute(&quot;msg&quot;, &quot;å½“å‰å°šæœªç™»å½•&quot;); response.sendRedirect(&quot;/&quot;); return false; &#125; &#125; /** * ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å */ @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; log.info(&quot;Run LoginInterceptor.postHandle&quot;,modelAndView); &#125; /** * é¡µé¢æ¸²æŸ“ä»¥å */ @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; log.info(&quot;Run LoginInterceptor.afterCompletion&quot;,ex); &#125;&#125; ç¼–å†™WebConfigç±»ï¼Œæ·»åŠ interceptor 12345678910@Configurationpublic class AdminWebConfig implements WebMvcConfigurer &#123; @Override public void addInterceptors(InterceptorRegistry registry) &#123; // æ·»åŠ æ‹¦æˆªå™¨ï¼Œå¹¶ä¸”è®¾ç½®æ‹¦æˆªåœ°å€ä¸ä¸æ‹¦æˆªåœ°å€ // /**æ‹¦æˆªç›®å½•ä¸‹æ‰€æœ‰èµ„æºï¼Œé™æ€èµ„æºä¹Ÿä¼šè¢«æ‹¦æˆª registry.addInterceptor(new LoginInterceptor()).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/&quot;,&quot;/login&quot;,&quot;/css/**&quot;,&quot;/js/**&quot;,&quot;/font/**&quot;,&quot;/images/**&quot;); // è®¾ç½®exlucdeä¸æ‹¦æˆªï¼Œæˆ–è€…åœ¨é…ç½®æ–‡ä»¶ä¸­ç¼–å†™static-path-pattern=/static/**ï¼Œæ³¨æ„æ­¤æ—¶éœ€è¦ä¿®æ”¹æ ‡ç­¾ä¸­çš„href &#125;&#125; æ–‡ä»¶ä¸Šä¼ é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili ç¼–å†™controller 1234567891011121314151617181920212223242526272829303132333435/** * æ–‡ä»¶ä¸Šä¼ æµ‹è¯• */@Slf4j@Controllerpublic class FormTestController &#123; @GetMapping(&quot;/form_layouts&quot;) public String formLayouts() &#123; return &quot;form/form_layouts&quot;; &#125; /** * MultipartFileè‡ªåŠ¨å°è£…ä¸Šä¼ è¿‡æ¥çš„æ–‡ä»¶ */ @PostMapping(&quot;/upload&quot;) public String upload(@RequestParam(&quot;email&quot;) String email, @RequestParam(&quot;name&quot;) String name, @RequestPart(&quot;headImg&quot;) MultipartFile headImg, @RequestPart(&quot;photos&quot;) MultipartFile[] photos) throws IOException &#123; // è·å–çš„ä¿¡æ¯ log.info(&quot;ä¸Šä¼ çš„ä¿¡æ¯ï¼šemail=&#123;&#125;,name=&#123;&#125;,headImg=&#123;&#125;,photos=&#123;&#125;&quot;, email, name, headImg.getSize(), photos.length); if (!headImg.isEmpty()) &#123; // è·å–åŸæ–‡ä»¶åã€ä¿å­˜åˆ°æœåŠ¡å™¨ headImg.transferTo(new File(&quot;C:\\\\Users\\\\å¢èŸ\\\\Desktop\\\\test1\\\\&quot;+headImg.getOriginalFilename())); &#125; if (photos.length &gt; 0) &#123; for (MultipartFile photo : photos) &#123; if (!photo.isEmpty()) &#123; photo.transferTo(new File(&quot;C:\\\\Users\\\\å¢èŸ\\\\Desktop\\\\test2\\\\&quot;+photo.getOriginalFilename())); &#125; &#125; &#125; return &quot;index&quot;; &#125;&#125; ç¼–å†™é…ç½®æ–‡ä»¶ 123#ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶çš„æœ€å¤§å¤§å°spring.servlet.multipart.max-file-size=10MBspring.servlet.multipart.max-request-size=100MB å¼‚å¸¸å¤„ç† é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootæä¾›/errorå¤„ç†æ‰€æœ‰é”™è¯¯çš„æ˜ å°„ å¯¹äºæœºå™¨å®¢æˆ·ç«¯ï¼Œå®ƒå°†ç”ŸæˆJSONå“åº”ï¼Œå…¶ä¸­åŒ…å«é”™è¯¯ï¼ŒHTTPçŠ¶æ€å’Œå¼‚å¸¸æ¶ˆæ¯çš„è¯¦ç»†ä¿¡æ¯ã€‚ å¯¹äºæµè§ˆå™¨å®¢æˆ·ç«¯ï¼Œå“åº”ä¸€ä¸ªâ€œ whitelabelâ€é”™è¯¯è§†å›¾ï¼Œä»¥HTMLæ ¼å¼å‘ˆç°ç›¸åŒçš„æ•°æ® è‡ªå®šä¹‰é”™è¯¯é¡µåœ¨å°†400.htmlã€500.htmlç­‰é¡µé¢æ”¾åœ¨resources &gt; templates &gt;errorä¸‹å³å¯ è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†@ControllerAdvice+@ExceptionHandler1234567891011121314151617/** * å¤„ç†æ•´ä¸ªweb controllerçš„å¼‚å¸¸ */@Slf4j@ControllerAdvice //æ³¨æ˜è¿™æ˜¯ä¸€ä¸ªå¢å¼ºçš„controllerpublic class GlobalExceptionHandler &#123; /** * å¤„ç†æ•°å­¦å¼‚å¸¸ã€ç©ºæŒ‡é’ˆå¼‚å¸¸ * @param e * @return */ @ExceptionHandler(&#123;ArithmeticException.class, NullPointerException.class&#125;) // è¡¨æ˜ç”¨äºå¤„ç†æŒ‡å®šå¼‚å¸¸ public String handleArithException(Exception e) &#123; log.error(&quot;å¼‚å¸¸æ˜¯ï¼š&#123;&#125;&quot;, e); return &quot;error/404&quot;; // æŒ‡å®šè¿”å›è§†å›¾çš„åœ°å€ &#125;&#125; @ResponseStatus+è‡ªå®šä¹‰Exception123456789@ResponseStatus(value = HttpStatus.FORBIDDEN,reason = &quot;ç”¨æˆ·æ•°é‡å¤ªå¤š&quot;) //æ³¨æ˜å¼‚å¸¸è¿”å›çŠ¶æ€ç å’ŒåŸå› public class UserTooManyException extends RuntimeException &#123; public UserTooManyException() &#123; &#125; public UserTooManyException(String msg) &#123; super(msg); &#125;&#125; è‡ªå®šä¹‰HandlerExceptionResolver123456789101112@Componentpublic class CustomerHandlerExceptionResolver implements HandlerExceptionResolver &#123; @Override public ModelAndView resolveException(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) &#123; try &#123; httpServletResponse.sendError(511, &quot;è‡ªå®šä¹‰é”™è¯¯&quot;); &#125; catch (IOException ex) &#123; ex.printStackTrace(); &#125; return new ModelAndView(); &#125;&#125; åŸç”Ÿç»„ä»¶æ³¨å…¥ServletAPI@ServletComponentScanä¸»åº”ç”¨ç±»ä¸­ä½¿ç”¨@ServletComponentScané…ç½®æ‰«æè·¯å¾„ 1234567@ServletComponentScan(basePackages = &quot;com.spb_adminex.servlet&quot;) //é…ç½®servletã€filterã€listeneræ‰«æåœ°å€@SpringBootApplicationpublic class SpbAdminexApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpbAdminexApplication.class, args); &#125;&#125; @WebServlet1234567@WebServlet(urlPatterns = &quot;/my&quot;)public class MyServlet extends HttpServlet &#123; @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123; resp.getWriter().write(&quot;MyServlet running&quot;); &#125;&#125; @WebFilter1234567891011121314151617@Slf4j@WebFilter(urlPatterns = &#123;&quot;/css/*&quot;,&quot;/images/*&quot;&#125;)public class MyFilter implements Filter &#123; @Override public void init(FilterConfig filterConfig) throws ServletException &#123; log.info(&quot;MyFilteråˆå§‹åŒ–&quot;); &#125; @Override public void destroy() &#123; log.info(&quot;MyFilteré”€æ¯&quot;); &#125; @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; log.info(&quot;MyFilter running&quot;); filterChain.doFilter(servletRequest, servletResponse); &#125;&#125; @WebListener123456789101112@Slf4j@WebListenerpublic class MyListener implements ServletContextListener &#123; @Override public void contextInitialized(ServletContextEvent sce) &#123; log.info(&quot;MyListenerç›‘å¬åˆ°é¡¹ç›®åˆå§‹åŒ–å®Œæˆ&quot;); &#125; @Override public void contextDestroyed(ServletContextEvent sce) &#123; log.info(&quot;MyListenerç›‘å¬åˆ°é¡¹ç›®é”€æ¯&quot;); &#125;&#125; RegisterBeanç¼–å†™ä¸€ä¸ªé…ç½®ç±» 1234567891011121314151617@Configurationpublic class MyRegisterConfig &#123; @Bean public ServletRegistrationBean myServlet() &#123; return new ServletRegistrationBean(new MyServlet(), &quot;/my&quot;); &#125; @Bean public FilterRegistrationBean myFilter() &#123; FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean(new MyFilter()); filterRegistrationBean.setUrlPatterns(Arrays.asList(&quot;/my&quot;,&quot;/css/*&quot;)); return filterRegistrationBean; &#125; @Bean public ServletListenerRegistrationBean myListener() &#123; return new ServletListenerRegistrationBean(new MyListener()); &#125;&#125; æ•°æ®è®¿é—®SQLä½¿ç”¨é»˜è®¤æ•°æ®æºã€jdbcTemplate å¯¼å…¥starteråœºæ™¯å’Œæ•°æ®åº“é©±åŠ¨ 12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;/dependency&gt; ç¼–å†™é…ç½®æ–‡ä»¶application.yaml 123456spring: datasource: url: jdbc:mysql://localhost:3306/online_bookstore username: root password: 123456789 driver-class-name: com.mysql.cj.jdbc.Driver ä½¿ç”¨jdbcTemplateæµ‹è¯• 1234567891011@Slf4j@SpringBootTestclass SpbAdminexApplicationTests &#123; @Autowired JdbcTemplate jdbcTemplate; @Test void contextLoads() &#123; Long count = jdbcTemplate.queryForObject(&quot;select count(*) from admin&quot;, Long.class); log.info(&quot;å½“å‰è¡¨çš„è®°å½•æ•°ä¸º&quot; + count); &#125;&#125; ä½¿ç”¨Druidæ•°æ®æº å¼•å…¥æ•°æ®æº 12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.2.6&lt;/version&gt;&lt;/dependency&gt; ç¼–å†™æ•°æ®æºé…ç½®ç±» 12345678910@Configurationpublic class MyDataSourceConfig &#123; // å¼•å…¥è‡ªå·±çš„æ•°æ®æºä¹‹åï¼Œè‡ªåŠ¨é…ç½®çš„é»˜è®¤DataSourceå¤±æ•ˆ @ConfigurationProperties(&quot;spring.datasource&quot;) //å°†ç»„ä»¶ä¸é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§ç»‘å®š @Bean public DataSource dataSource() &#123; DruidDataSource druidDataSource = new DruidDataSource(); return druidDataSource; &#125;&#125; æµ‹è¯• 12345678910@Slf4j@SpringBootTestclass SpbAdminexApplicationTests &#123; @Autowired DataSource dataSource; @Test void contextLoads() &#123; log.info(&quot;å½“å‰æ•°æ®æºç±»å‹ä¸º&#123;&#125;&quot;, dataSource.getClass()); &#125;&#125; å…¶ä»–ğŸ‘‰é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili ä½¿ç”¨xmlé…ç½®æ–‡ä»¶æ•´åˆMyBatis å¯¼å…¥ä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.2.0&lt;/version&gt;&lt;/dependency&gt; ç¼–å†™application.yamlé…ç½®æ–‡ä»¶ 123mybatis: config-location: classpath:mybatis/mybatis-config.xml #å…¨å±€é…ç½®æ–‡ä»¶ä½ç½® mapper-locations: classpath:mybatis/mapper/*.xml #sqlæ˜ å°„æ–‡ä»¶ä½ç½® ç¼–å†™mybatis-config.xmlå…¨å±€é…ç½®æ–‡ä»¶/æˆ–è€…ç¼–å†™applicationé…ç½®æ–‡ä»¶(æ­¤æ—¶ä¸èƒ½åŒæ—¶é…ç½®å…¨å±€é…ç½®æ–‡ä»¶ä½ç½®) 12345678&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt;&lt;settings&gt;&lt;!-- å¼€å¯ä¸‹åˆ’çº¿è½¬é©¼å³°å‘½åæ³• --&gt; &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt;&lt;/configuration&gt; 1234mybatis: mapper-locations: classpath:mybatis/mapper/*.xml #sqlæ˜ å°„æ–‡ä»¶ä½ç½® configuration: map-underscore-to-camel-case: true #å¼€å¯ä¸‹åˆ’çº¿è½¬é©¼å³°å‘½åæ³• ç¼–å†™beanMapperæ¥å£ 12345@Mapper //æ³¨æ˜è¿™æ˜¯ä¸€ä¸ªmapperæ¥å£public interface AdminMapper &#123; public Admin getAdmin(Integer id); public Boolean insertAdmin(Admin admin);&#125; ç¼–å†™beanMapper.xmlé…ç½®æ–‡ä»¶ 123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.spb_adminex.mapper.AdminMapper&quot;&gt; &lt;select id=&quot;getAdmin&quot; resultType=&quot;com.spb_adminex.bean.Admin&quot; &gt; select * from admin where id=#&#123;id&#125; &lt;/select&gt; &lt;insert id=&quot;insertAdmin&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt; insert into admin(`account`,`password`) values(#&#123;account&#125;,#&#123;password&#125;) &lt;/insert&gt;&lt;/mapper&gt; ç¼–å†™serviceå±‚ 123456789101112@Servicepublic class AdminService &#123; @Autowired AdminMapper adminMapper; public Admin getAdminById(Integer id) &#123; return adminMapper.getAdmin(id); &#125; public Boolean insertAdmin(Admin admin) &#123; return adminMapper.insertAdmin(admin); &#125;&#125; ç¼–å†™controllerå±‚ 1234567891011@Controllerpublic class AdminController &#123; @Autowired AdminService adminService; @ResponseBody @GetMapping(&quot;/getAdmin&quot;) public Admin getAdminById(@RequestParam(&quot;id&quot;) Integer id) &#123; return adminService.getAdminById(id); &#125;&#125; ä½¿ç”¨æ³¨è§£æ•´åˆMyBatis å…¶ä½™æ–‡ä»¶ï¼Œä¸”ä¸éœ€è¦beanMapper.xml ç¼–å†™beanMapperæ¥å£ 12345@Mapper //æ³¨æ˜è¿™æ˜¯ä¸€ä¸ªmapperæ¥å£public interface AdminMapper &#123; @Select(&quot;select * from admin where id=#&#123;id&#125;&quot;) //æ³¨è§£æ›¿æ¢beanMapper.xmlæ–‡ä»¶ public Admin getAdmin(Integer id);&#125; æ•´åˆMyBatis-Pluså¿«é€Ÿå¼€å§‹ | MyBatis-Plus (baomidou.com) è·å–æ•°æ® å¯¼å…¥ä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.4.3&lt;/version&gt;&lt;/dependency&gt; ä¸ºå¯åŠ¨ç±»æ·»åŠ @MapperScanï¼Œæ³¨æ˜æ‰«æMapperæ–‡ä»¶çš„åœ°å€ 123456789@SpringBootApplication@MapperScan(&quot;com.baomidou.mybatisplus.samples.quickstart.mapper&quot;)public class Application &#123; public static void main(String[] args) &#123; SpringApplication.run(QuickStartApplication.class, args); &#125;&#125; ç¼–å†™å…¨å±€é…ç½®æ–‡ä»¶ 123456spring: datasource: url: jdbc:mysql://localhost:3306/spb_adminex username: root password: 123456789 driver-class-name: com.mysql.cj.jdbc.Driver ç¼–å†™Beanç±» 12345678910111213@NoArgsConstructor@AllArgsConstructor@Data@TableName(&quot;user&quot;) //å¯ä»¥æŒ‡å®šè¡¨åï¼Œä¸çŸ¥é“åˆ™é»˜è®¤ä¸ºç±»åpublic class User &#123; private Long id; private String name; private String age; private String email; @TableField(exist = false) //æ³¨æ˜å½“å‰å­—æ®µåœ¨è¡¨ä¸­ä¸å­˜åœ¨ private String test;&#125; ç¼–å†™BeanMapperæ¥å£ 12public interface UserMapper extends BaseMapper&lt;User&gt; &#123;&#125; ç¼–å†™BeanServiceæ¥å£ 123public interface UserService extends IService&lt;User&gt; &#123;&#125; ç¼–å†™BeanServiceImplå®ç°ç±» 1234@Servicepublic class UserServiceImpl extends ServiceImpl&lt;UserMapper,User&gt; implements UserService &#123;&#125; ç¼–å†™controller 12345678910111213141516171819@Controllerpublic class TableController &#123; @Autowired UserService userService = new UserServiceImpl(); @GetMapping(&quot;/dynamic_table&quot;) public String dynamicTable(Model model) &#123; List&lt;User&gt; userList = userService.list(); model.addAttribute(&quot;userList&quot;, userList); return &quot;table/dynamic_table&quot;; &#125; @GetMapping(&quot;/responsive_table&quot;) public String responsiveTable() &#123; return &quot;table/responsive_table&quot;; &#125; @GetMapping(&quot;/editable_table&quot;) public String editableTable() &#123; return &quot;table/editable_table&quot;; &#125;&#125; åˆ†é¡µæ“ä½œ ç¼–å†™MybatisPlugConfig 12345678910@Configurationpublic class MybatisPlusConfig &#123; @Bean public MybatisPlusInterceptor mybatisPlusInterceptor() &#123; // åˆ›å»ºMybatisPlusInterceptor MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor(); interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL)); return interceptor; &#125;&#125; ç¼–å†™controller 12345678910111213141516171819202122232425@Controllerpublic class TableController &#123; @Autowired UserService userService = new UserServiceImpl(); // è¿›å…¥dynamic_tableå¹¶å±•ç¤ºåˆ†é¡µæ•°æ® @GetMapping(&quot;/dynamic_table&quot;) public String dynamicTable(@RequestParam(value = &quot;pn&quot;,defaultValue = &quot;1&quot;)Integer pn, Model model) &#123; // è·å¾—åˆ†é¡µç»“æœå¯¹è±¡ï¼Œå¹¶è®¾ç½®åˆ†é¡µ Page&lt;User&gt; page = userService.page(new Page&lt;User&gt;(pn, 2)); model.addAttribute(&quot;page&quot;, page); // page.getRecordsè·å¾—æ‰€æœ‰è®°å½•ï¼Œpage.currentè·å¾—å½“å‰é¡µæ•°ï¼Œpage.pagesè·å¾—æ€»é¡µæ•°ï¼Œpage.getTotalè·å¾—æ€»æ¡æ•°â€¦â€¦ return &quot;table/dynamic_table&quot;; &#125; @GetMapping(&quot;/user/delete/&#123;id&#125;&quot;) // åˆ é™¤ç”¨æˆ·åŠŸèƒ½ public String deleteUser(@PathVariable(&quot;id&quot;) Long id, @RequestParam(value = &quot;pn&quot;,defaultValue = &quot;1&quot;) Integer pn, RedirectAttributes ra) &#123; userService.removeById(id); ra.addAttribute(&quot;pn&quot;, pn); return &quot;redirect:/dynamic_table&quot;; &#125;&#125; ç¼–å†™htmlé¡µé¢ï¼Œthymeleafè¯­æ³•è¯¦è§é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili 123456789101112131415161718192021222324252627282930313233343536373839&lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;id&lt;/th&gt; &lt;th&gt;ç”¨æˆ·å&lt;/th&gt; &lt;th&gt;å¹´é¾„&lt;/th&gt; &lt;th&gt;é‚®ç®±&lt;/th&gt; &lt;th&gt;æ“ä½œ&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr class=&quot;gradeX&quot; th:each=&quot;user,status:$&#123;page.getRecords()&#125;&quot;&gt; &lt;td th:text=&quot;$&#123;status.count&#125;&quot;&gt;xxx&lt;/td&gt; &lt;td th:text=&quot;$&#123;user.name&#125;&quot;&gt;xxx&lt;/td&gt; &lt;td th:text=&quot;$&#123;user.age&#125;&quot;&gt;xxx&lt;/td&gt; &lt;td th:text=&quot;$&#123;user.email&#125;&quot;&gt;xxx&lt;/td&gt; &lt;td&gt; &lt;a th:href=&quot;@&#123;/user/delete/&#123;id&#125;(id=$&#123;user.id&#125;,pn=$&#123;page.current&#125;)&#125;&quot; class=&quot;btn btn-primary&quot;&gt;åˆ é™¤&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;div class=&quot;row-fluid&quot;&gt; &lt;div&gt; &lt;div class=&quot;dataTables_info&quot;&gt;å½“å‰ç¬¬[[$&#123;page.current&#125;]]é¡µ æ€»è®¡[[$&#123;page.pages&#125;]]é¡µ æ€»[[$&#123;page.getTotal&#125;]]æ¡è®°å½• &lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;div class=&quot;dataTables_paginate paging_bootstrap pagination&quot;&gt; &lt;ul&gt; &lt;li class=&quot;prev disabled&quot;&gt;&lt;a href=&quot;#&quot;&gt;â† Previous&lt;/a&gt;&lt;/li&gt; &lt;li th:class=&quot;$&#123;num == page.current?&#x27;active&#x27;:&#x27;&#x27;&#125;&quot; th:each=&quot;num:$&#123;#numbers.sequence(1,page.pages)&#125;&quot;&gt; &lt;a th:href=&quot;@&#123;/dynamic_table(pn=$&#123;num&#125;)&#125;&quot;&gt;[[$&#123;num&#125;]]&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;next disabled&quot;&gt;&lt;a href=&quot;#&quot;&gt;Next â†’ &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; NoSQL(Redis)ä¸å°è¯•äº†æ²¡é’± å•å…ƒæµ‹è¯•@SpringBootTest123456@SpringBootTestclass MyTest &#123; @Test public void test() &#123; &#125;&#125; å¸¸ç”¨æ³¨è§£ **@Test :**è¡¨ç¤ºæ–¹æ³•æ˜¯æµ‹è¯•æ–¹æ³•ã€‚ä½†æ˜¯ä¸JUnit4çš„@Testä¸åŒï¼Œä»–çš„èŒè´£éå¸¸å•ä¸€ä¸èƒ½å£°æ˜ä»»ä½•å±æ€§ï¼Œæ‹“å±•çš„æµ‹è¯•å°†ä¼šç”±Jupiteræä¾›é¢å¤–æµ‹è¯• **@ParameterizedTest :**è¡¨ç¤ºæ–¹æ³•æ˜¯å‚æ•°åŒ–æµ‹è¯•ï¼Œä¸‹æ–¹ä¼šæœ‰è¯¦ç»†ä»‹ç» **@RepeatedTest :**è¡¨ç¤ºæ–¹æ³•å¯é‡å¤æ‰§è¡Œï¼Œä¸‹æ–¹ä¼šæœ‰è¯¦ç»†ä»‹ç» **@DisplayName :**ä¸ºæµ‹è¯•ç±»æˆ–è€…æµ‹è¯•æ–¹æ³•è®¾ç½®å±•ç¤ºåç§° **@BeforeEach :**è¡¨ç¤ºåœ¨æ¯ä¸ªå•å…ƒæµ‹è¯•ä¹‹å‰æ‰§è¡Œ **@AfterEach :**è¡¨ç¤ºåœ¨æ¯ä¸ªå•å…ƒæµ‹è¯•ä¹‹åæ‰§è¡Œ **@BeforeAll :**è¡¨ç¤ºåœ¨æ‰€æœ‰å•å…ƒæµ‹è¯•ä¹‹å‰æ‰§è¡Œ **@AfterAll :**è¡¨ç¤ºåœ¨æ‰€æœ‰å•å…ƒæµ‹è¯•ä¹‹åæ‰§è¡Œ **@Tag :**è¡¨ç¤ºå•å…ƒæµ‹è¯•ç±»åˆ«ï¼Œç±»ä¼¼äºJUnit4ä¸­çš„@Categories **@Disabled :**è¡¨ç¤ºæµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•ä¸æ‰§è¡Œï¼Œç±»ä¼¼äºJUnit4ä¸­çš„@Ignore **@Timeout :**è¡¨ç¤ºæµ‹è¯•æ–¹æ³•è¿è¡Œå¦‚æœè¶…è¿‡äº†æŒ‡å®šæ—¶é—´å°†ä¼šè¿”å›é”™è¯¯ **@ExtendWith :**ä¸ºæµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•æä¾›æ‰©å±•ç±»å¼•ç”¨ æ–­è¨€æœºåˆ¶é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili â€¦â€¦æŒ‡æ ‡ç›‘æ§é›·ä¸°é˜³2021ç‰ˆSpringBoot2é›¶åŸºç¡€å…¥é—¨springbootå…¨å¥—å®Œæ•´ç‰ˆï¼ˆspring boot2ï¼‰_å“”å“©å“”å“©_bilibili é«˜çº§ç‰¹æ€§åä¼šæœ‰æœŸæºç å’Œå…¶ä»–éƒ¨åˆ†åˆ°æ—¶å€™(ä¹Ÿä¸çŸ¥é“å•¥æ—¶å€™)ä¼šå†å»çœ‹çš„ï¼Œbut not today","categories":[{"name":"ssm","slug":"ssm","permalink":"http://example.com/categories/ssm/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"ssm","slug":"ssm","permalink":"http://example.com/tags/ssm/"},{"name":"javaEE","slug":"javaEE","permalink":"http://example.com/tags/javaEE/"},{"name":"SpringBoot","slug":"SpringBoot","permalink":"http://example.com/tags/SpringBoot/"}]},{"title":"ã€å­¦ä¹ ç¬”è®°ã€‘MyBatis","slug":"ã€å­¦ä¹ ç¬”è®°ã€‘MyBatis","date":"2021-07-16T11:12:59.990Z","updated":"2021-07-23T05:49:19.787Z","comments":true,"path":"2021/07/16/xue-xi-bi-ji-mybatis/","link":"","permalink":"http://example.com/2021/07/16/xue-xi-bi-ji-mybatis/","excerpt":"","text":"æ¦‚è¿° mybatisæ˜¯ä¸€ä¸ªä¼˜ç§€çš„åŸºäºjavaçš„æŒä¹…å±‚æ¡†æ¶,å®ƒå†…éƒ¨å°è£…äº†jdbc,ä½¿å¼€å‘è€…åªéœ€è¦å…³æ³¨sqè¯­å¥æœ¬èº«,è€Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†åŠ è½½é©±åŠ¨ã€åˆ›å»ºè¿æ¥ã€åˆ›å»º statementç­‰ç¹æ‚çš„è¿‡ç¨‹ã€‚ mybatisé€šè¿‡xmæˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„å„ç§ statementé…ç½®èµ·æ¥,å¹¶é€šè¿‡javaå¯¹è±¡å’Œ statementä¸­sqçš„åŠ¨æ€å‚æ•°è¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sqè¯­å¥ã€‚ æœ€å mybatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœæ˜ å°„ä¸ºjavaå¯¹è±¡å¹¶è¿”å›ã€‚é‡‡ç”¨ORMæ€æƒ³è§£å†³äº†å®ä½“å’Œæ•°æ®åº“æ˜ å°„çš„é—®é¢˜,å¯¹jdbcè¿›è¡Œäº†å°è£…,å±è”½äº† jdbc apiåº•å±‚è®¿é—®ç»†èŠ‚,ä½¿æˆ‘ä»¬ä¸ç”¨ä¸ jdbc apiæ‰“äº¤é“,å°±å¯ä»¥å®Œæˆå¯¹æ•°æ®åº“çš„æŒä¹…åŒ–æ“ä½œã€‚ å¼€å‘æ­¥éª¤ æ·»åŠ ä¾èµ– 1234567891011&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.46&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.6&lt;/version&gt;&lt;/dependency&gt; ç¼–å†™æ•°æ®è¡¨ä¸Beanç±» åˆ›å»ºå¹¶ç¼–å†™mapper.xml 12345678&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;userMapper&quot;&gt; &lt;select id=&quot;findAll&quot; resultType=&quot;com.myspring.bean.User&quot;&gt; select * from user &lt;/select&gt;&lt;/mapper&gt; åˆ›å»ºå¹¶ç¼–å†™sqlMapConfig.xml 12345678910111213141516&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;!-- é…ç½®æ•°æ®æºç¯å¢ƒ --&gt; &lt;environments default=&quot;&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;transactionManager type=&quot;JDBC&quot;/&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;123456789&quot;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt;&lt;/configuration&gt; è°ƒç”¨æ“ä½œ 123456789101112// è·å¾—æ ¸å¿ƒé…ç½®æ–‡ä»¶InputStream resourceAsStream = Resources.getResourceAsStream(&quot;mybatis/sqlMapConfig.xml&quot;);// è·å¾—sessionå·¥å‚å¯¹è±¡SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);// è·å¾—sessionä¼šè¯å¯¹è±¡SqlSession sqlSession = sqlSessionFactory.openSession();// æ‰§è¡Œæ“ä½œ,å‚æ•°å³mapper.xmlä¸­çš„namespace.idList&lt;User&gt; userList = sqlSession.selectList(&quot;userMapper.findAll&quot;);// æµ‹è¯•System.out.println(userList);// é‡Šæ”¾èµ„æºsqlSession.close(); å¢åˆ æ”¹æŸ¥æ“ä½œä»£ç 123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;userMapper&quot;&gt; &lt;!-- æŸ¥è¯¢ --&gt; &lt;select id=&quot;findAll&quot; resultType=&quot;com.myspring.bean.User&quot;&gt; select * from user &lt;/select&gt; &lt;!-- æ’å…¥ --&gt; &lt;insert id=&quot;save&quot; parameterType=&quot;com.myspring.bean.User&quot;&gt; insert into user values (#&#123;name&#125;, #&#123;age&#125;) &lt;/insert&gt; &lt;!-- ä¿®æ”¹ --&gt; &lt;update id=&quot;update&quot; parameterType=&quot;com.myspring.bean.User&quot;&gt; update user set age=#&#123;age&#125; where name = #&#123;name&#125; &lt;/update&gt;&lt;/mapper&gt; 1234567891011121314151617181920// è·å¾—æ ¸å¿ƒé…ç½®æ–‡ä»¶InputStream resourceAsStream = Resources.getResourceAsStream(&quot;mybatis/sqlMapConfig.xml&quot;);// è·å¾—sessionå·¥å‚å¯¹è±¡SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);// è·å¾—sessionä¼šè¯å¯¹è±¡SqlSession sqlSession = sqlSessionFactory.openSession();// æŸ¥è¯¢List&lt;User&gt; userList = sqlSession.selectList(&quot;userMapper.findAll&quot;);// æ’å…¥sqlSession.insert(&quot;userMapper.save&quot;, new User(&quot;æ52å››&quot;, 11));// ä¿®æ”¹sqlSession.update(&quot;userMapper.update&quot;, new User(&quot;æ52å››&quot;, 110));// åˆ é™¤sqlSession.delete(&quot;userMapper.delete&quot;, &quot;æ52å››&quot;);// æ‰§è¡Œæ›´æ–°æ“ä½œéœ€è¦æäº¤äº‹åŠ¡sqlSession.commit();// é‡Šæ”¾èµ„æºsqlSession.close(); é…ç½®æ–‡ä»¶å¸¸ç”¨æ ‡ç­¾environmentsæ ‡ç­¾ é…ç½®æ•°æ®åº“ç¯å¢ƒï¼Œæ”¯æŒå¤šç¯å¢ƒ transactionManageräº‹åŠ¡ç®¡ç†å™¨å±æ€§ JDBC: è¿™ä¸ªé…ç½®å°±æ˜¯ç›´æ¥ä½¿ç”¨äº†JDBCçš„æäº¤å’Œå›æ»šè®¾ç½®,å®ƒä¾èµ–äºä»æ•°æ®æºå¾—åˆ°çš„è¿æ¥æ¥ç®¡ç†äº‹åŠ¡ä½œç”¨åŸŸ MANAGED: è¿™ä¸ªé…ç½®å‡ ä¹æ²¡åšä»€ä¹ˆã€‚å®ƒä»æ¥ä¸æäº¤æˆ–å›æ»šä¸€ä¸ªè¿æ¥,è€Œæ˜¯è®©å®¹å™¨æ¥ç®¡ç†äº‹åŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸ(æ¯”å¦‚JEEåº”ç”¨æœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡)ã€‚é»˜è®¤æƒ…å†µä¸‹å®ƒä¼šå…³é—­è¿æ¥,ç„¶è€Œä¸€äº›å®¹å™¨å¹¶ä¸å¸Œæœ›è¿™æ ·,å› æ­¤éœ€è¦å°†closeConnectionå±æ€§è®¾ç½®ä¸ºfalseæ¥é˜»æ­¢å®ƒé»˜è®¤çš„å…³é—­è¡Œä¸ºã€‚ daraSourceæ•°æ®æºå±æ€§ UNPOOLED:è¿™ä¸ªæ•°æ®æºçš„å®ç°åªæ˜¯æ¯æ¬¡è¢«è¯·æ±‚æ—¶æ‰“å¼€å’Œå…³é—­è¿æ¥ã€‚ POOLED:è¿™ç§æ•°æ®æºçš„å®ç°åˆ©ç”¨â€œæ± â€çš„æ¦‚å¿µå°†JDBCè¿æ¥å¯¹è±¡ç»„ç»‡èµ·æ¥ã€‚ JNDI:è¿™ä¸ªæ•°æ®æºçš„å®ç°æ˜¯ä¸ºäº†èƒ½åœ¨å¦‚EJBæˆ–åº”ç”¨æœåŠ¡å™¨è¿™ç±»å®¹å™¨ä¸­ä½¿ç”¨,å®¹å™¨å¯ä»¥é›†ä¸­æˆ–åœ¨å¤–éƒ¨é…ç½®æ•°æ®æº,ç„¶åæ”¾ç½®ä¸€ä¸ªJNDIä¸Šä¸‹æ–‡çš„å¼•ç”¨ã€‚ Mapperæ ‡ç­¾ åŠ è½½æ˜ å°„ï¼ŒåŠ è½½æ–¹å¼æœ‰å¤šç§ã€‚ ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨,ä¾‹å¦‚:&lt; mapper resource=â€org/ mybatis/ builder/ AuthorMapperxmâ€/&gt; ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦(URL),ä¾‹å¦‚:&lt; mapper url=â€file//ar/ mappers/ Author Mapper.xmâ€/ ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»å,ä¾‹å¦‚:&lt; mapper class=â€ org. mybatis builder. AuthorMapperâ€/&gt; å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨ä¸»å†Œä¸ºæ˜ å°„å™¨,ä¾‹å¦‚:&lt; package name=â€ org. mybatis. builderâ€/&gt; Propertiesæ ‡ç­¾ å®é™…å¼€å‘ä¸­,ä¹ æƒ¯å°†æ•°æ®æºçš„é…ç½®ä¿¡æ¯å•ç‹¬æŠ½å–æˆä¸ª propertiesæ–‡ä»¶,è¯¥æ ‡ç­¾å¯ä»¥åŠ è½½é¢å¤–é…ç½®çš„ propertiesæ–‡ä»¶ 12345678910111213141516171819202122&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;!-- åŠ è½½propertiesæ–‡ä»¶ --&gt; &lt;properties resource=&quot;jdbc.properties&quot;/&gt; &lt;!-- é…ç½®æ•°æ®æºç¯å¢ƒ --&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;transactionManager type=&quot;JDBC&quot;/&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;!-- åŠ è½½æ˜ å°„æ–‡ä»¶ --&gt; &lt;mappers&gt; &lt;mapper resource=&quot;mybatis/UserMapper.xml&quot;/&gt; &lt;/mappers&gt;&lt;/configuration&gt; typeAliasesæ ‡ç­¾ èµ·åˆ«åï¼Œæœ‰å·²ç»è®¾ç½®å¥½çš„å¸¸ç”¨çš„ç±»å‹çš„åˆ«åï¼Œä¹Ÿå¯è‡ªå®šä¹‰ 1234&lt;!-- è‡ªå®šä¹‰åˆ«åï¼Œæ³¨æ„æ ‡ç­¾åœ¨config.xmlä¸­çš„é¡ºåº --&gt;&lt;typeAliases&gt; &lt;typeAlias type=&quot;com.myspring.bean.User&quot; alias=&quot;user&quot;/&gt;&lt;/typeAliases&gt; MyBatisç›¸å…³APISqlSessionå·¥å‚æ„å»ºå™¨SqlSessionFactoryBuilder SqlSessionå·¥å‚å¯¹è±¡SqlSessionFactory SqlSessionä¼šè¯å¯¹è±¡ DAOå±‚å®ç° é‡‡ç”¨ Mybatisçš„ä»£ç†å¼€å‘æ–¹å¼å®ç°DAOå±‚çš„å¼€å‘,è¿™ç§æ–¹å¼æ˜¯æˆ‘ä»¬åé¢è¿›å…¥ä¼ä¸šçš„ä¸»æµã€‚ Mapperæ¥å£å¼€å‘æ–¹æ³•åªéœ€è¦ç¨‹åºå‘˜ç¼–å†™ Mapperæ¥å£(ç›¸å½“äºDaoæ¥å£),ç”± Mybatisæ¡†æ¶æ ¹æ®æ¥å£å®šä¹‰åˆ›å»ºæ¥å£çš„åŠ¨æ€ä»£ç†å¯¹è±¡,ä»£ç†å¯¹è±¡çš„æ–¹æ³•ä½“åŒä¸Šè¾¹Daoæ¥å£å®ç°ç±»æ–¹æ³•ã€‚ Mapper.xmæ–‡ä»¶ä¸­çš„ namespaceä¸ mapperæ¥å£çš„å…¨é™å®šåç›¸åŒ Mapperæ¥å£æ–¹æ³•åå’Œ Mapper. xmä¸­å®šä¹‰çš„æ¯ä¸ª statementçš„idç›¸åŒ Mapperæ¥å£æ–¹æ³•çš„è¾“å…¥å‚æ•°ç±»å‹å’Œ mapper. xnä¸­å®šä¹‰çš„æ¯ä¸ªsqlçš„ parameter Typeçš„ç±»å‹ç›¸åŒ Mapperæ¥å£æ–¹æ³•çš„è¾…å‡ºå‚æ•°ç±»å‹å’Œ mapper. xmä¸­å®šä¹‰çš„æ¯ä¸ªsqçš„ resultTypeçš„ç±»å‹ç›¸åŒ åˆ›å»ºå¹¶ç¼–å†™Mapper.xmlæ–‡ä»¶ 12345678910111213141516&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.myspring.dao.UserMapper&quot;&gt; &lt;!-- æŸ¥è¯¢æ‰€æœ‰ --&gt; &lt;select id=&quot;findAll&quot; resultType=&quot;user&quot;&gt; select * from user &lt;/select&gt; &lt;!-- æ ¹æ®nameæŸ¥è¯¢æ‰€æœ‰ --&gt; &lt;select id=&quot;findByName&quot; parameterType=&quot;int&quot; resultType=&quot;user&quot;&gt; select * from user where id = #&#123;id&#125; &lt;/select&gt;&lt;/mapper&gt; åˆ›å»ºå¹¶ç¼–å†™Mapperæ¥å£ 123456public interface UserMapper &#123; // æŸ¥è¯¢æ‰€æœ‰ List&lt;User&gt; findAll() throws Exception; // æ ¹æ®idæŸ¥è¯¢æ‰€æœ‰ User findById(int id);&#125; è°ƒç”¨ 1234567InputStream resourceAsStream = Resources.getResourceAsStream(&quot;myBatis/sqlMapConfig.xml&quot;);SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);SqlSession sqlSession = sqlSessionFactory.openSession();UserMapper mapper = sqlSession.getMapper(UserMapper.class);List&lt;User&gt; all = mapper.findAll();User user = mapper.findById(2); æ˜ å°„æ–‡ä»¶ï¼šåŠ¨æ€sqlè¯­å¥123456789101112131415161718192021222324252627282930313233&lt;!-- sqlè¯­å¥æŠ½å– --&gt;&lt;sql id=&quot;selectUser&quot;&gt; select * from user&lt;/sql&gt;&lt;!-- åŠ¨æ€æ¡ä»¶ --&gt;&lt;select id=&quot;findByCondition&quot; parameterType=&quot;user&quot; resultType=&quot;user&quot;&gt; &lt;include refid=&quot;selectUser&quot;/&gt; &lt;where&gt; &lt;if test=&quot;id!=0&quot;&gt; and id=#&#123;id&#125; &lt;/if&gt; &lt;if test=&quot;name!=null&quot;&gt; and name=#&#123;name&#125; &lt;/if&gt; &lt;if test=&quot;age!=0&quot;&gt; and age=#&#123;age&#125; &lt;/if&gt; &lt;/where&gt;&lt;/select&gt;&lt;!-- åŠ¨æ€æ¡ä»¶ --&gt;&lt;select id=&quot;findByIds&quot; parameterType=&quot;list&quot; resultType=&quot;user&quot;&gt; &lt;include refid=&quot;selectUser&quot;/&gt; &lt;where&gt; -- select * from user where id in(?,?) -- collectionå†™listæˆ–arrayç­‰ &lt;foreach collection=&quot;list&quot; open=&quot;id in(&quot; close=&quot;)&quot; item=&quot;id&quot; separator=&quot;,&quot;&gt; #&#123;id&#125; &lt;/foreach&gt; &lt;/where&gt;&lt;/select&gt; é…ç½®æ–‡ä»¶ç±»å‹è½¬æ¢TypeHandleræ ‡ç­¾é»‘é©¬ç¨‹åºå‘˜æœ€å…¨SSMæ¡†æ¶æ•™ç¨‹|Spring+SpringMVC+MyBatiså…¨è¦†ç›–_SSMæ•´åˆ_å“”å“©å“”å“©_bilibili æ’ä»¶pluginsæ ‡ç­¾ æ·»åŠ ä¾èµ– 12345678910&lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;5.1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt; &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt; åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ ‡ç­¾ 12345&lt;plugins&gt; &lt;plugin interceptor=&quot;com.github.pagehelper.PageHelper&quot;&gt; &lt;property name=&quot;dialect&quot; value=&quot;mysql&quot;/&gt; &lt;/plugin&gt;&lt;/plugins&gt; è°ƒç”¨ 12345678910111213141516171819// åˆ†é¡µåŠ©æ‰‹ï¼Œè®¾ç½®åˆ†é¡µä¿¡æ¯ä»¥åˆ†é¡µï¼ŒstartPage(pageNum,pageSize)PageHelper.startPage(1, 1);// å½“å‰é¡µList&lt;User&gt; userList = mapper.findAll();// åˆ†é¡µä¿¡æ¯PageInfo&lt;User&gt; userPageInfo = new PageInfo&lt;&gt;(userList);for (User user : userList) &#123; System.out.println(user);&#125;System.out.println(&quot;ä¸Šä¸€é¡µï¼š&quot; + userPageInfo.getPrePage());System.out.println(&quot;å½“å‰é¡µï¼š&quot; + userPageInfo.getPageNum());System.out.println(&quot;ä¸‹ä¸€é¡µï¼š&quot; + userPageInfo.getNextPage());System.out.println(&quot;æ€»é¡µæ•°ï¼š&quot; + userPageInfo.getPages());System.out.println(&quot;å½“å‰æ¡æ•°ï¼š&quot; + userPageInfo.getPageSize());System.out.println(&quot;æ€»æ¡æ•°ï¼š&quot; + userPageInfo.getTotal());System.out.println(&quot;æ˜¯å¦ç¬¬ä¸€é¡µï¼š&quot; + userPageInfo.isIsFirstPage());System.out.println(&quot;æ˜¯å¦æœ«é¡µï¼š&quot; + userPageInfo.isIsLastPage()); å¤šè¡¨æ“ä½œé»‘é©¬ç¨‹åºå‘˜æœ€å…¨SSMæ¡†æ¶æ•™ç¨‹|Spring+SpringMVC+MyBatiså…¨è¦†ç›–_SSMæ•´åˆ_å“”å“©å“”å“©_bilibili æ³¨è§£å¼€å‘ä½¿ç”¨xmlå¼€å‘crud1234&lt;!-- åŠ è½½æ˜ å°„æ–‡ä»¶ --&gt;&lt;mappers&gt; &lt;mapper resource=&quot;mybatis/UserMapper.xml&quot;/&gt;&lt;/mappers&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.myspring.dao.UserMapper&quot;&gt; &lt;!-- sqlè¯­å¥æŠ½å– --&gt; &lt;sql id=&quot;selectUser&quot;&gt; select * from user &lt;/sql&gt; &lt;!-- æŸ¥è¯¢ --&gt; &lt;select id=&quot;findAll&quot; resultType=&quot;user&quot;&gt; &lt;include refid=&quot;selectUser&quot;/&gt; &lt;/select&gt; &lt;select id=&quot;findById&quot; parameterType=&quot;int&quot; resultType=&quot;user&quot;&gt; select * from user where id = #&#123;id&#125; &lt;/select&gt; &lt;select id=&quot;findByIds&quot; parameterType=&quot;list&quot; resultType=&quot;user&quot;&gt; &lt;include refid=&quot;selectUser&quot;&gt;&lt;/include&gt; &lt;where&gt; -- select * from user where id in(?,?) -- collectionå†™listæˆ–arrayç­‰ &lt;foreach collection=&quot;list&quot; open=&quot;id in(&quot; close=&quot;)&quot; item=&quot;id&quot; separator=&quot;,&quot;&gt; #&#123;id&#125; &lt;/foreach&gt; &lt;/where&gt; &lt;/select&gt; &lt;select id=&quot;findByCondition&quot; parameterType=&quot;user&quot; resultType=&quot;user&quot;&gt; &lt;include refid=&quot;selectUser&quot;&gt;&lt;/include&gt; &lt;where&gt; &lt;if test=&quot;id!=0&quot;&gt; and id=#&#123;id&#125; &lt;/if&gt; &lt;if test=&quot;name!=null&quot;&gt; and name=#&#123;name&#125; &lt;/if&gt; &lt;if test=&quot;age!=0&quot;&gt; and age=#&#123;age&#125; &lt;/if&gt; &lt;/where&gt; &lt;/select&gt; &lt;!-- æ’å…¥ --&gt; &lt;insert id=&quot;save&quot; parameterType=&quot;com.myspring.bean.User&quot;&gt; insert into user (name, age) values (#&#123;name&#125;, #&#123;age&#125;) &lt;/insert&gt; &lt;!-- ä¿®æ”¹ --&gt; &lt;update id=&quot;update&quot; parameterType=&quot;com.myspring.bean.User&quot;&gt; update user set age=#&#123;age&#125;, name=#&#123;name&#125; where id = #&#123;id&#125; &lt;/update&gt; &lt;!-- åˆ é™¤ --&gt; &lt;delete id=&quot;delete&quot; parameterType=&quot;int&quot;&gt; delete from user where id = #&#123;id&#125; &lt;/delete&gt;&lt;/mapper&gt; 123456789101112131415public interface UserMapper &#123; List&lt;User&gt; findAll(); User findById(int id); List&lt;User&gt; findByCondition(User user); List&lt;User&gt; findByIds(List&lt;Integer&gt; ids); void save(User user); void update(User user); void delete(int id);&#125; 123456789101112131415161718192021222324252627282930313233343536373839public class UserMapperTest &#123; private UserMapper userMapper; @Before public void before() throws IOException &#123; InputStream resourceAsStream = Resources.getResourceAsStream(&quot;myBatis/sqlMapConfig.xml&quot;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream); SqlSession sqlSession = sqlSessionFactory.openSession(true); userMapper = sqlSession.getMapper(UserMapper.class); &#125; @Test public void testSave() throws Exception &#123; User user = new User(); user.setName(&quot;é’±è€æ¿&quot;); user.setAge(90); userMapper.save(user); &#125; @Test public void testUpdate() throws Exception &#123; User user = userMapper.findById(3); user.setAge(99); userMapper.update(user); &#125; @Test public void testDelete() throws Exception &#123; userMapper.delete(4); &#125; @Test public void testFindById() throws Exception &#123; User user = userMapper.findById(3); System.out.println(user); &#125;&#125; æ³¨è§£å¼€å‘CRUD12345678910111213141516public interface UserMapper &#123; @Select(&quot;select * from user&quot;) List&lt;User&gt; findAll(); @Select(&quot;select * from user where id = #&#123;id&#125;&quot;) User findById(int id); @Insert(&quot;insert into user (name, age) values (#&#123;name&#125;, #&#123;age&#125;)&quot;) void save(User user); @Update(&quot;update user set age=#&#123;age&#125;, name=#&#123;name&#125; where id = #&#123;id&#125;&quot;) void update(User user); @Update(&quot; delete from user where id = #&#123;id&#125;&quot;) void delete(int id);&#125; 12345&lt;!-- åŠ è½½æ˜ å°„å…³ç³» --&gt;&lt;mappers&gt; &lt;!-- æŒ‡å®šæ¥å£æ‰€åœ¨çš„åŒ… --&gt; &lt;package name=&quot;com.myspring.dao&quot;/&gt;&lt;/mappers&gt; è°ƒç”¨ä¸å˜","categories":[{"name":"ssm","slug":"ssm","permalink":"http://example.com/categories/ssm/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"ssm","slug":"ssm","permalink":"http://example.com/tags/ssm/"},{"name":"javaEE","slug":"javaEE","permalink":"http://example.com/tags/javaEE/"},{"name":"MyBatis","slug":"MyBatis","permalink":"http://example.com/tags/MyBatis/"}]},{"title":"ã€é¡¹ç›®ç¬”è®°ã€‘ssmæ•´åˆè”ç³»","slug":"ã€é¡¹ç›®ç¬”è®°ã€‘ssmæ•´åˆç»ƒä¹ ","date":"2021-07-16T07:09:38.168Z","updated":"2021-07-28T10:17:48.383Z","comments":true,"path":"2021/07/16/xiang-mu-bi-ji-ssm-zheng-he-lian-xi/","link":"","permalink":"http://example.com/2021/07/16/xiang-mu-bi-ji-ssm-zheng-he-lian-xi/","excerpt":"","text":"å°šç¡…è°·SSMæ¡†æ¶å®æˆ˜ï¼Œssmæ•´åˆæ•™ç¨‹_å“”å“©å“”å“©_bilibili","categories":[{"name":"ssm","slug":"ssm","permalink":"http://example.com/categories/ssm/"}],"tags":[{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://example.com/tags/%E9%A1%B9%E7%9B%AE/"},{"name":"ssm","slug":"ssm","permalink":"http://example.com/tags/ssm/"},{"name":"javaEE","slug":"javaEE","permalink":"http://example.com/tags/javaEE/"}]},{"title":"ã€å­¦ä¹ ç¬”è®°ã€‘SpringMVC","slug":"ã€å­¦ä¹ ç¬”è®°ã€‘SpringMVC","date":"2021-07-15T05:37:42.134Z","updated":"2021-07-30T08:58:17.932Z","comments":true,"path":"2021/07/15/xue-xi-bi-ji-springmvc/","link":"","permalink":"http://example.com/2021/07/15/xue-xi-bi-ji-springmvc/","excerpt":"","text":"SpringMVCæ¦‚è¿° SpringMVCæ˜¯ç§åŸºäºJavaçš„å®ç°MVcè®¾è®¡æ¨¡å‹çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»é‡çº§Webæ¡†æ¶,å±äºSpring FrameWorkçš„åç»­äº§å“,å·²ç»èåˆåœ¨ Spring Web Flowä¸­ã€‚ SpringMvCå·²ç»æˆä¸ºç›®å‰æœ€ä¸»æµçš„MVCæ¡†æ¶ä¹‹ä¸€,å¹¶ä¸”éšç€ Spring30çš„å‘å¸ƒ,å…¨é¢è¶…è¶Š Struts2,æˆä¸ºæœ€ä¼˜ç§€çš„MVCæ¡†æ¶ã€‚å®ƒé€šè¿‡ä¸€å¥—æ³¨è§£,è®©ä¸€ä¸ªç®€å•çš„Javaç±»æˆä¸ºå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨,è€Œæ— é¡»å®ç°ä»»ä½•æ¥å£ã€‚åŒæ—¶å®ƒè¿˜æ”¯æŒRESTfulç¼–ç¨‹é£æ ¼çš„è¯·æ±‚ã€‚ SpringMVCå¿«é€Ÿå¼€å‘æ­¥éª¤ å¯¼å…¥ä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;5.2.8.RELEASE&lt;/version&gt;&lt;/dependency&gt; é…ç½®web.xml 123456789101112131415&lt;!-- springMVCå‰ç«¯æ§åˆ¶å™¨ --&gt;&lt;servlet&gt; &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- é…ç½®xmlåœ°å€ --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; ç¼–å†™controller 12345678910@Controllerpublic class UserController &#123; // ä½¿ç”¨RequestMappingæ˜ å°„controlleråœ°å€ @RequestMapping(&quot;/myController&quot;) public String save() &#123; System.out.println(&quot;Controller save running&quot;); // returnè¦è·³è½¬çš„è§†å›¾é¡µé¢ return &quot;success.jsp&quot;; &#125;&#125; åœ¨resourcesä¸‹æ–°å¢spring-mvc.xmldçš„spring configæ–‡ä»¶ 12345xmlns:context=&quot;http://www.springframework.org/schema/context&quot;xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;&lt;!-- controllerçš„ç»„ä»¶æ‰«æ --&gt;&lt;context:component-scan base-package=&quot;com.myspring.controller&quot;/&gt; SpringMVCç»„ä»¶è§£æ@RequestMappingç”¨äºå»ºç«‹è¯·æ±‚URLå’Œå¤„ç†è¯·æ±‚æ–¹æ³•ä¹‹é—´çš„å¯¹åº”å…³ç³» ä½ç½® ç±»ä¸Š,è¯·æ±‚URLçš„ç¬¬ä¸€çº§è®¿é—®ç›®å½•ã€‚æ­¤å¤„ä¸å†™çš„è¯,å°±ç›¸å½“äºåº”ç”¨çš„æ ¹ç›®å½• æ–¹æ³•ä¸Š,è¯·æ±‚URLçš„ç¬¬äºŒçº§è®¿é—®ç›®å½•,ä¸ç±»ä¸Šçš„ä½¿ç”¨@ ReqquestMappingæ ‡ä¸»çš„çº§ç›®å½•èµ·ç»„æˆè®¿é—®è™šæ‹Ÿè·¯å¾„ return åè·Ÿçš„è·¯å¾„ï¼šä¸åŠ â€/â€œï¼Œåˆ™ä»ç›¸å¯¹è·¯å¾„æŸ¥è¯¢ï¼Œå¦åˆ™ä»webè·¯å¾„ä¸‹æŸ¥è¯¢ã€‚ å±æ€§ valueï¼šç”¨äºæŒ‡å®šè¯·æ±‚çš„URLã€‚å®ƒå’Œpathå±æ€§çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ methodï¼šç”¨äºæŒ‡å®šè¯·æ±‚çš„æ–¹å¼ paramsï¼šç”¨äºæŒ‡å®šé™åˆ¶è¯·æ±‚å‚æ•°çš„æ¡ä»¶ã€‚å®ƒæ”¯æŒç®€å•çš„è¡¨è¾¾å¼ã€‚è¦æ±‚è¯·æ±‚å‚æ•°çš„keyå’Œvaueå¿…é¡»å’Œé…ç½®çš„ä¸€æ¨¡ä¸€æ · MVCå‘½åç©ºé—´å¼•å…¥12345&lt;!-- å‘½åç©ºé—´ --&gt;xmlns:context=&quot;http://www.springframework.org/schema/context&quot;xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;&lt;!-- çº¦æŸåœ°å€ --&gt;http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt; ç»„ä»¶æ‰«æ1&lt;context:component-scan base-package=&quot;com.myspring.controller&quot;/&gt; XMLé…ç½®returné‡å®šä¹‰ä¸è¯·æ±‚è½¬å‘12return &quot;forward:/success.jsp&quot;;return &quot;redirect:/success.jsp&quot;; å†…éƒ¨èµ„æºï¼ˆè§†å›¾ï¼‰è§£æå™¨ åœ¨spring-mvc.xmlä¸­é…ç½®å¦‚ä¸‹ 12345678910111213&lt;!-- å†…éƒ¨èµ„æºè§£æå™¨ --&gt;&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;!-- é…ç½®å‰ç¼€ --&gt; &lt;property name=&quot;prefix&quot; value=&quot;/jsp/&quot;/&gt; &lt;!-- é…ç½®åç¼€ --&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;&lt;/bean&gt;2. ç¼–å†™controller ```java // return &quot;/jsp/success.jsp&quot;; return &quot;success&quot; //æ•ˆæœä¸ä¸Šè¿°ç›¸åŒ SpringMVCæ•°æ®å“åº”é¡µé¢è·³è½¬è¿”å›å­—ç¬¦ä¸²1return &quot;/jsp/success.jsp&quot;; è¿”å›ModelAndviewå¯¹è±¡åœ¨controllerä¸­ç¼–å†™å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829// ç¬¬ä¸€ç§@RequestMapping(&quot;/myController1&quot;)public ModelAndView save2() &#123; ModelAndView modelAndView = new ModelAndView(); // è®¾ç½®è§†å›¾ modelAndView.setViewName(&quot;success&quot;); // è®¾ç½®æ¨¡å‹ modelAndView.addObject(&quot;username&quot;, &quot;qqq&quot;); return modelAndView;&#125;// ç¬¬äºŒç§@RequestMapping(&quot;/myController2&quot;)public ModelAndView save3(ModelAndView modelAndView) &#123; modelAndView.setViewName(&quot;success&quot;); modelAndView.addObject(&quot;username&quot;, &quot;qqq&quot;); return modelAndView;&#125;// ç¬¬ä¸‰ç§@RequestMapping(&quot;/myController3&quot;)public ModelAndView save4(Model model) &#123; model.setAttribute(&quot;username&quot;, &quot;qqq&quot;); return &quot;success&quot;;&#125;// ç¬¬å››ç§@RequestMapping(&quot;/myController4&quot;)public String save4(HttpServletRequest request) &#123; request.setAttribute(&quot;username&quot;, &quot;qqq&quot;); return &quot;success&quot;;&#125; å›å†™æ•°æ®è¿”å›å­—ç¬¦ä¸²ï¼ˆ@ResponseBodyï¼‰1234567891011// ç¬¬ä¸€ç§@RequestMapping(&quot;/myController1&quot;)public void save1(HttpServletResponse resp) throws IOException &#123; resp.getWriter().print(&quot;hello!!!&quot;);&#125;// ç¬¬äºŒç§,ä½¿ç”¨ResponseBodyï¼Œç”¨äºåŒºåˆ†é¡µé¢è·³è½¬@RequestMapping(&quot;/myController2&quot;)@ResponseBodypublic String save2() &#123; return &quot;hello!!!&quot;;&#125; è¿”å›JSONæ ¼å¼å­—ç¬¦ä¸² æ·»åŠ ä¾èµ– 1234567891011121314151617&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.11.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.11.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;version&gt;2.11.2&lt;/version&gt;&lt;/dependency&gt; è½¬æ¢ä¸ºJSON 1234567891011@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic String save() throws Exception &#123; // è·å¾—bean User user = new User(); user.setName(&quot;å¼ ä¸‰&quot;); user.setAge(18); // è½¬æ¢ä¸ºJSON String userJson = new ObjectMapper().writeValueAsString(user); return userJson;&#125; è¿”å›Springè‡ªåŠ¨è½¬æ¢Bean-&gt;JSON é…ç½®spring-mvc.xml 12345678&lt;!-- å¤„ç†å™¨æ˜ å°„å™¨ --&gt;&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt; &lt;property name=&quot;messageConverters&quot;&gt; &lt;list&gt; &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt; &lt;/list&gt; &lt;/property&gt;&lt;/bean&gt; æˆ–è€…ä½¿ç”¨mvcæ³¨è§£é©±åŠ¨å¦‚ä¸‹é…ç½®ï¼š 123456xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&lt;!-- mvcæ³¨è§£é©±åŠ¨ --&gt;&lt;mvc:annotation-driven/&gt; ç¼–å†™controller 123456789// ç¬¬äºŒç§,ä½¿ç”¨ResponseBodyï¼Œç”¨äºåŒºåˆ†é¡µé¢è·³è½¬@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic User save() throws Exception &#123; User user = new User(); user.setName(&quot;å¼ ä¸‰&quot;); user.setAge(18); return user;&#125; SpringMVCè¯·æ±‚è·å–è¯·æ±‚å‚æ•°è·å–åŸºæœ¬ç±»å‹å‚æ•°1234567@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic void save(String username, int age) &#123; // ä½¿ç”¨å½¢å‚æ¥æ”¶æ•°æ®ï¼Œæ³¨æ„æ­¤å¤„å‚æ•°åä¸è¡¨å•ä¸­inputçš„nameå€¼å¯¹åº” System.out.println(username); System.out.println(age);&#125; è·å–Beanç±»å‹å‚æ•°123456@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic void save(User user) &#123; // å®é™…ä¸Šæ˜¯ä½¿ç”¨äº†Beanå¯¹è±¡é‡Œçš„setæ–¹æ³•ï¼Œæ‰€ä»¥è¦è®©å‚æ•°çš„åå­—ä¸setæ–¹æ³•åå¯¹åº”ï¼Œå¦åˆ™æ¥æ”¶ä¸åˆ° System.out.println(user);&#125; è·å–æ•°æ®ç±»å‹å‚æ•°12345@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic void save(String[] strs) &#123; System.out.println(Arrays.toString(strs));&#125; è·å–é›†åˆç±»å‹å‚æ•° å‰ç«¯ä¼ è¾“æ•°æ® 123456789101112&lt;script src=&quot;$&#123;pageContext.request.contextPath&#125;/js/jquery-1.7.2.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt; var userList = new Array(); userList.push(&#123;name: &quot;å¼ ä¸‰&quot;, age: 10&#125;); userList.push(&#123;name: &quot;æå››&quot;, age: 20&#125;); $.ajax(&#123; type: &quot;POST&quot;, url: &quot;$&#123;pageContext.request.contextPath&#125;/test/myController&quot;, data: JSON.stringify(userList), contentType: &quot;application/json;charset=utf-8&quot; &#125;)&lt;/script&gt; controllerè·å¾—æ•°æ® 123456@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic void save(@RequestBody List&lt;User&gt; userList) &#123; // æ³¨æ„ @RequestBody List&lt;User&gt; userList System.out.println(userList);&#125; é™æ€èµ„æºè®¿é—®æƒé™å¼€æ”¾spring-mvc.xmlä¸­é…ç½®å¦‚ä¸‹ 1234&lt;!-- å¼€æ”¾èµ„æºè®¿é—®ï¼Œè®¾ç½®å¯è®¿é—®åœ°å€ --&gt;&lt;mvc:resources mapping=&quot;/js/**&quot; location=&quot;/js/&quot;/&gt;&lt;!-- è¯¥æ ‡ç­¾è¡¨ç¤ºå½“springæ‰¾ä¸åˆ°æ—¶äº¤ç”±åŸå§‹å®¹å™¨(tomcat)å¯»æ‰¾ --&gt;&lt;mvc:default-servlet-handler/&gt; å…¨å±€ç¼–ç è¿‡æ»¤ï¼ˆé˜²æ­¢ä¸­æ–‡ä¹±ç ï¼‰12345678910111213&lt;!-- å…¨å±€ç¼–ç è¿‡æ»¤ --&gt;&lt;filter&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;utf-8&lt;/param-value&gt; &lt;/init-param&gt;&lt;/filter&gt;&lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt; å‚æ•°ç»‘å®šæ³¨è§£@RequestParam value: ä¸è¯·æ±‚å‚æ•°åç§° required: æ­¤åœ¨æŒ‡å®šçš„è¯·æ±‚å‚æ•°æ˜¯å¦å¿…é¡»åŒ…æ‹¬,é»˜è®¤æ˜¯true,æäº¤æ—¶å¦‚æœæ²¡æœ‰æ­¤å‚æ•°åˆ™æŠ¥é”™ defaultvalue: å½“æ²¡æœ‰æŒ‡å®šè¯·æ±‚å‚æ•°æ—¶,åˆ™ä½¿ç”¨æŒ‡å®šçš„é»˜è®¤å€¼èµ‹å€¼ 123456@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic void save(@RequestParam(value=&quot;name&quot;, required=falseï¼Œdefaultvalue=&quot;000&quot;) String username) &#123; // å°†è·å¾—çš„å‚æ•°nameæ˜ å°„ä¸ºæ‰€éœ€è¦çš„username System.out.println(username);&#125; è·å¾—Restfilé£æ ¼å‚æ•° Restfulæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ã€è®¾è®¡é£æ ¼,è€Œä¸æ˜¯æ ‡å‡†,åªæ˜¯æä¾›äº†ä¸€ç»„è®¾è®¡åŸåˆ™å’Œçº¦æŸæ¡ä»¶ã€‚ä¸»è¦ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤äº’ç±»çš„è½¯ä»¶,åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´,æ›´æœ‰å±‚æ¬¡,æ›´æ˜“äºå®ç°ç¼“å­˜æœºåˆ¶ç­‰ã€‚ Restfulé£æ ¼çš„è¯·æ±‚æ˜¯ä½¿ç”¨â€œâ€ur+è¯·æ±‚æ–¹å¼â€è¡¨ç¤ºæ¬¡è¯·æ±‚ç›®çš„çš„,HTPåè®®é‡Œé¢å››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯å¦‚ä¸‹ï¼š GET: ç”¨äºè·å–èµ„æº POST: ç”¨äºæ–°å»ºèµ„æº PUT: ç”¨äºæ›´æ–°èµ„æº DELETE: ç”¨äºåˆ é™¤èµ„æº 123456@RequestMapping(&quot;/myController/&#123;name&#125;&quot;)// ä½¿ç”¨å ä½ç¬¦&#123;&#125;@ResponseBodypublic void save(@PathVariable(&quot;name&quot;) String username) &#123; System.out.println(username);&#125; è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨é»‘é©¬ç¨‹åºå‘˜æœ€å…¨SSMæ¡†æ¶æ•™ç¨‹|Spring+SpringMVC+MyBatiså…¨è¦†ç›–_SSMæ•´åˆ_å“”å“©å“”å“©_bilibili è·å¾—è¯·æ±‚å¤´@RequestHeader æ–‡ä»¶ä¸Šä¼  å¯¼å…¥ä¾èµ– 1234567891011dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.4&lt;/version&gt;&lt;/dependency&gt; åœ¨spring-mvc.xmlä¸­é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨ 12345678&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt; &lt;!-- ä¸Šä¼ æ–‡ä»¶çš„ç¼–ç ç±»å‹ --&gt; &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;/&gt; &lt;!-- ä¸Šä¼ æ–‡ä»¶æ€»å¤§å° --&gt; &lt;property name=&quot;maxUploadSize&quot; value=&quot;5242800&quot;/&gt; &lt;!-- ä¸Šä¼ å•ä¸ªæ–‡ä»¶çš„å¤§å° --&gt; &lt;property name=&quot;maxUploadSizePerFile&quot; value=&quot;5242800&quot;/&gt;&lt;/bean&gt; ç¼–å†™controller 12345@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic void save(MultipartFile uploadedFile) throws Exception &#123; uploadedFile.transferTo(new File(&quot;C:\\\\Users\\\\å¢èŸ\\\\Desktop\\\\&quot; + uploadedFile.getOriginalFilename()));&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647@RequestMapping(&quot;/myController&quot;)@ResponseBodypublic void save(MultipartFile[] files) throws Exception &#123; for (MultipartFile file : files) &#123; file.transferTo(new File(&quot;C:\\\\Users\\\\å¢èŸ\\\\Desktop\\\\&quot; + file.getOriginalFilename())); &#125;&#125;## SpringMVCæ‹¦æˆªå™¨interceptor&gt; Spring Mvcçš„æ‹¦æˆªå™¨ç±»ä¼¼äº Servletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨ Filter,ç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚&gt;&gt; å°†æ‹¦æˆªå™¨æŒ‰ä¸€å®šçš„é¡ºåºè”ç»“æˆæ¡é“¾,è¿™æ¡é“¾ç§°ä¸ºæ‹¦æˆªå™¨é“¾( interceptor Chain)ã€‚åœ¨è®¿é—®è¢«æ‹¦æˆªçš„æ–¹æ³•æˆ–å­—æ®µæ—¶,æ‹¦æˆªå™¨é“¾ä¸­çš„æ‹¦æˆªå™¨å°±ä¼šæŒ‰å…¶ä¹‹å‰å®šä¹‰çš„é¡ºåºè¢«è°ƒç”¨ã€‚æ‹¦æˆªå™¨ä¹Ÿæ˜¯AOPæ€æƒ³çš„å…·ä½“å®ç°ã€‚### å¼€å‘æ­¥éª¤1. ç¼–å†™interceptor ```java public class MyInterceptor implements HandlerInterceptor &#123; // åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; System.out.println(&quot;preHandle&quot;); String param = request.getParameter(&quot;param&quot;); if (&quot;yes&quot;.equals(param)) &#123; return true; &#125; else &#123; request.getRequestDispatcher(&quot;/index.jsp&quot;).forward(request, response); return false; &#125; &#125; // åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åï¼Œè¯•å›¾è¿”å›ä¹‹å‰æ‰§è¡Œ @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; System.out.println(&quot;postHandle&quot;); // å¯ä»¥å¯¹modelè¿›è¡Œä¿®æ”¹ modelAndView.addObject(&quot;name&quot;, &quot;newName&quot;); &#125; // åœ¨æµç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰§è¡Œ @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; System.out.println(&quot;afterCompletion&quot;); &#125; &#125; åœ¨spring-mvc.xmlä¸­é…ç½®interceptor 123456789101112131415&lt;mvc:interceptors&gt; &lt;!-- å¯¹åº”æ‰§è¡Œé¡ºåº --&gt; &lt;mvc:interceptor&gt; &lt;!-- å¯¹å“ªäº›èµ„æºæ‰§è¡Œæ‹¦æˆªæ“ä½œ --&gt; &lt;mvc:mapping path=&quot;/**&quot;/&gt; &lt;!-- å¯¹åº”interceptor --&gt; &lt;bean class=&quot;com.myspring.interceptor.MyInterceptor&quot;/&gt; &lt;/mvc:interceptor&gt; &lt;mvc:interceptor&gt; &lt;!-- å¯¹å“ªäº›èµ„æºæ‰§è¡Œæ‹¦æˆªæ“ä½œ --&gt; &lt;mvc:mapping path=&quot;/**&quot;/&gt; &lt;!-- å¯¹åº”interceptor --&gt; &lt;bean class=&quot;com.myspring.interceptor.MyInterceptor2&quot;/&gt; &lt;/mvc:interceptor&gt;&lt;/mvc:interceptors&gt; æ–¹æ³•è¯´æ˜ SpringMVCå¼‚å¸¸å¤„ç†ç®€å•å¼‚å¸¸å¤„ç†å™¨1234567891011&lt;bean class=&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;&gt; &lt;!-- é»˜è®¤é”™è¯¯è§†å›¾ --&gt; &lt;property name=&quot;defaultErrorView&quot; value=&quot;error1&quot;/&gt; &lt;property name=&quot;exceptionMappings&quot;&gt; &lt;map&gt; &lt;!-- key:å¼‚å¸¸ç±»å‹ value:é”™è¯¯è§†å›¾ --&gt; &lt;entry key=&quot;java.lang.ClassCastException&quot; value=&quot;error2&quot;/&gt; &lt;entry key=&quot;java.io.IOException&quot; value=&quot;error3&quot;/&gt; &lt;/map&gt; &lt;/property&gt;&lt;/bean&gt; è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å™¨ é»‘é©¬ç¨‹åºå‘˜æœ€å…¨SSMæ¡†æ¶æ•™ç¨‹|Spring+SpringMVC+MyBatiså…¨è¦†ç›–_SSMæ•´åˆ_å“”å“©å“”å“©_bilibili","categories":[{"name":"ssm","slug":"ssm","permalink":"http://example.com/categories/ssm/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"ssm","slug":"ssm","permalink":"http://example.com/tags/ssm/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"http://example.com/tags/SpringMVC/"},{"name":"JavaEE","slug":"JavaEE","permalink":"http://example.com/tags/JavaEE/"}]},{"title":"ã€å­¦ä¹ ç¬”è®°ã€‘Spring","slug":"ã€å­¦ä¹ ç¬”è®°ã€‘Spring","date":"2021-07-13T12:59:14.495Z","updated":"2021-07-23T05:49:09.426Z","comments":true,"path":"2021/07/13/xue-xi-bi-ji-spring/","link":"","permalink":"http://example.com/2021/07/13/xue-xi-bi-ji-spring/","excerpt":"","text":"ä»€ä¹ˆæ˜¯SpringSpringç”¨æ¥å¹²ä»€ä¹ˆ Springæ˜¯ä¸€ä¸ªæ”¯æŒå¿«é€Ÿå¼€å‘Java EEåº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—åº•å±‚å®¹å™¨å’ŒåŸºç¡€è®¾æ–½ï¼Œå¹¶å¯ä»¥å’Œå¤§é‡å¸¸ç”¨çš„å¼€æºæ¡†æ¶æ— ç¼é›†æˆã€‚ Springæ˜¯åˆ†å±‚çš„ Java SE/EEåº”ç”¨ full-stackè½»é‡çº§å¼€æºæ¡†æ¶,ä»¥loC(Inverse of Control:åè½¬æ§åˆ¶)å’ŒAop(Aspect Oriented Programming:é¢å‘åˆ‡é¢ç¼–ç¨‹)ä¸ºå†…æ ¸ã€‚ æä¾›äº†å±•ç°å±‚ Spring MVCå’ŒæŒä¹…å±‚ Spring JDBCTemplateä»¥åŠä¸šåŠ¡å±‚äº‹åŠ¡ç®¡ç†ç­‰ä¼—å¤šçš„ä¼ä¸šçº§åº”ç”¨æŠ€æœ¯ï¼Œè¿˜èƒ½æ•´åˆå¼€æºä¸–ç•Œä¼—å¤šè‘—åçš„ç¬¬ä¸‰æ–¹æ¡†æ¶å’Œç±»åº“,é€æ¸æˆä¸ºä½¿ç”¨æœ€å¤šçš„ Java EEä¼ä¸šåº”ç”¨å¼€æºæ¡†æ¶ã€‚ Springå‘å±•å†ç¨‹ 1997å¹´,BMæå‡ºäº†EBçš„æ€æƒ³1998å¹´,SUNåˆ¶å®šå¼€å‘æ ‡å‡†è§„èŒƒEä¸¿B1.01999å¹´,EB1.1å‘å¸ƒ2001å¹´,EB2.0å‘å¸ƒ2003å¹´,EB2.1å‘å¸ƒ2006å¹´,EB3.0å‘å¸ƒ Springä¹‹çˆ¶ Rod Johnson( Springä¹‹çˆ¶) ã€ŠExpert One-to-One J2EE Design and development(2002)ã€‹é˜è¿°äº†J2EEä½¿ç”¨EBå¼€å‘è®¾è®¡çš„ä¼˜ç‚¹åŠè§£å†³æ–¹æ¡ˆã€ŠExpert One-to-One J2EE Development without EJB(2004)ã€‹é˜è¿°äº†2Eå¼€å‘ä¸ä½¿ç”¨EBçš„è§£å†³æ–¹å¼( Springç»´å½¢) Springçš„ä¼˜åŠ¿ æ–¹ä¾¿è§£è€¦,ç®€åŒ–å¼€å‘ é€šè¿‡ Springæä¾›çš„loCå®¹å™¨,å¯ä»¥å°†å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»äº¤ç”± Springè¿›è¡Œæ§åˆ¶,é¿å…ç¡¬ç¼–ç æ‰€é€ æˆçš„è¿‡åº¦è€¦åˆã€‚ ç”¨æˆ·ä¹Ÿä¸å¿…å†ä¸ºå•ä¾‹æ¨¡å¼ç±»ã€å±æ€§æ–‡ä»¶è§£æç­‰è¿™äº›å¾ˆåº•å±‚çš„éœ€æ±‚ç¼–å†™ä»£ç ,å¯ä»¥æ›´ä¸“æ³¨äºä¸Šå±‚çš„åº”ç”¨ã€‚ AOPç¼–ç¨‹çš„æ”¯æŒ é€šè¿‡ Springçš„AOPåŠŸèƒ½,æ–¹ä¾¿è¿›è¡Œé¢å‘åˆ‡é¢ç¼–ç¨‹,è®¸å¤šä¸å®¹æ˜“ç”¨ä¼ ç»ŸOOPå®ç°çš„åŠŸèƒ½å¯ä»¥é€šè¿‡AOPè½»æ¾å®ç°ã€‚ å£°æ˜å¼äº‹åŠ¡çš„æ”¯æŒ å¯ä»¥å°†æˆ‘ä»¬ä»å•è°ƒçƒ¦é—·çš„äº‹åŠ¡ç®¡ç†ä»£ç ä¸­è§£è„±å‡ºæ¥,é€šè¿‡å£°æ˜å¼æ–¹å¼çµæ´»çš„è¿›è¡Œäº‹åŠ¡ç®¡ç†,æé«˜å‘æ•ˆç‡å’Œè´¨é‡ã€‚ æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯• å¯ä»¥ç”¨éå®¹å™¨ä¾èµ–çš„ç¼–ç¨‹æ–¹å¼è¿›è¡Œå‡ ä¹æ‰€æœ‰çš„æµ‹è¯•å·¥ä½œ,æµ‹è¯•ä¸å†æ˜¯æ˜‚è´µçš„æ“ä½œ,è€Œæ˜¯éšæ‰‹å¯åšçš„äº‹æƒ…ã€‚ æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶ Springå¯¹å„ç§ä¼˜ç§€æ¡†æ¶( Strutsã€ Hibernateã€ Hessianã€Quartzç­‰)çš„æ”¯æŒã€‚ é™ä½ JavaEE APçš„ä½¿ç”¨éš¾åº¦ Springå¯¹ JavaEE API(å¦‚JDBCã€ JavaMailã€è¿œç¨‹è°ƒç”¨ç­‰)è¿›è¡Œäº†è–„è–„çš„å°è£…å±‚,ä½¿è¿™äº›APlçš„ä½¿ç”¨éš¾åº¦å¤§ä¸ºé™ä½ã€‚ Springä½“ç³»ç»“æ„ Springå¿«é€Ÿå¼€å‘æ­¥éª¤ å¯¼å…¥mavenä¾èµ– 1234567&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.2.8.RELEASE&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; åˆ›å»ºSpring confé…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸å‘½åä¸ºapplicationContextï¼‰ é…ç½®å¦‚ä¸‹ 1&lt;bean id=&quot;userDao&quot; class=&quot;com.myspring.dao.impl.UserDaoImpl&quot;&gt;&lt;/bean&gt; å®ç° 1234567public class UserDaoDemo &#123; public static void main(String[] args) &#123; ApplicationContext app = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); UserDao userDao = (UserDao) app.getBean(&quot;userDao&quot;); userDao.save(); &#125;&#125; Springé…ç½®æ–‡ä»¶Beanæ ‡ç­¾ ç”¨äºé…ç½®å¯¹è±¡äº¤ç”± Springæ¥åˆ›å»ºã€‚é»˜è®¤æƒ…å†µä¸‹å®ƒè°ƒç”¨çš„æ˜¯ç±»ä¸­çš„**æ— å‚æ„é€ å‡½æ•°,**å¦‚æœæ²¡æœ‰æ— å‚æ„é€ å‡½æ•°åˆ™ä¸èƒ½åˆ›å»ºæˆåŠŸã€‚ åŸºæœ¬å±æ€§ id: Beanå®ä¾‹åœ¨ Springå®¹å™¨ä¸­çš„å”¯ä¸€æ ‡è¯† class: Beançš„å…¨é™å®šåç§° scopeï¼šæŒ‡å¯¹è±¡çš„ä½œç”¨èŒƒå›´ï¼Œå–å€¼å¦‚ä¸‹ singletonã€prototypeä¸‹beanå¯¹è±¡çš„ä¸åŒåˆ›å»ºæ—¶é—´singletonã€prototypeä¸‹beanå¯¹è±¡çš„ä¸åŒåˆ›å»ºæ—¶é—´ Beanå®ä¾‹åŒ–ä¸‰ç§æ–¹æ³• æ— å‚æ„é€ æ–¹æ³•å®ä¾‹åŒ– 1234// åˆ›å»ºå®¹å™¨ApplicationContext app = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);// ä»å®¹å™¨ä¸­è·å¾—å¯¹è±¡UserDao userDao = (UserDao) app.getBean(&quot;userDao&quot;); å·¥å‚é™æ€æ–¹æ³•å®ä¾‹åŒ– å·¥å‚å®ä¾‹æ–¹æ³•å®ä¾‹åŒ– æ¼”ç¤ºè§†é¢‘ Beançš„ä¾èµ–æ³¨å…¥ ä¾èµ–æ³¨å…¥( Dependency Injection)ï¼šå®ƒæ˜¯ Springæ¡†æ¶æ ¸å¿ƒ|OCçš„å…·ä½“å®ç°åœ¨ç¼–å†™ç¨‹åºæ—¶,é€šè¿‡æ§åˆ¶åè½¬,æŠŠå¯¹è±¡çš„åˆ›å¥å»ºäº¤ç»™äº† Spring,ä½†æ˜¯ä»£ç ä¸­ä¸å¯èƒ½å‡ºç°æ²¡æœ‰ä¾èµ–çš„æƒ…å†µã€‚OCè§£è€¦åªæ˜¯é™ä½ä»–ä»¬çš„ä¾èµ–å…³ç³»,ä½†ä¸ä¼šæ¶ˆé™¤ã€‚ä¾‹å¦‚:ä¸šåŠ¡å±‚ä»ä¼šè°ƒç”¨æŒä¹…å±‚çš„æ–¹æ³•ã€‚é‚£è¿™ç§ä¸šåŠ¡å±‚å’ŒæŒä¹…å±‚çš„ä¾èµ–å…³ç³»,åœ¨ä½¿ç”¨ Springä¹‹å,å°±è®© Springæ¥ç»´æŠ¤äº†ç®€å•çš„è¯´,å°±æ˜¯åç­‰æ¡†æ¶æŠŠæŒä¹…å±‚å¯¹è±¡ä¼ å…¥ä¸šåŠ¡å±‚,è€Œä¸ç”¨æˆ‘ä»¬è‡ªå·±å»è·å–ã€‚ setæ–¹æ³•ï¼ˆpropertyæ ‡ç­¾ï¼‰12345678&lt;!-- ç¬¬ä¸€ç§ --&gt;&lt;bean id=&quot;userService&quot; class=&quot;com.myspring.service.impl.UserServiceImpl&quot; &gt; &lt;!-- nameå±æ€§å€¼å¯¹åº”setæ–¹æ³•å --&gt; &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;&gt; &lt;/property&gt;&lt;/bean&gt;&lt;!-- ç¬¬äºŒç§ --&gt;xmlns:p=&quot;http://www.springframework.org/schema/p&quot;&lt;bean id=&quot;userService&quot; class=&quot;com.myspring.service.impl.UserServiceImpl&quot; p:userDao-ref=&quot;userDao&quot; /&gt; 123456// UserServiceImplä¸­ä¾èµ–æ³¨å…¥ï¼Œè·å¾—userDaoå¯¹è±¡private UserDao userDao;// setæ–¹æ³•public void setUserDao(UserDao userDao) &#123; this.userDao = userDao;&#125; æ„é€ ï¼ˆæœ‰å‚ï¼‰æ–¹æ³•ï¼ˆconstructor-argæ ‡ç­¾ï¼‰1234&lt;bean id=&quot;userService&quot; class=&quot;com.myspring.service.impl.UserServiceImpl&quot; &gt; &lt;!-- nameå±æ€§å€¼å¯¹åº”userServiceImplå†…UserDaoçš„å±æ€§å --&gt; &lt;constructor-arg name=&quot;userDao&quot; ref=&quot;userDao&quot;&gt;&lt;/constructor-arg&gt;&lt;/bean&gt; 123456// ä¾èµ–æ³¨å…¥ï¼Œè·å¾—userDaoå¯¹è±¡private UserDao userDao;// æ„é€ æ–¹æ³•public UserServiceImpl(UserDao userDao) &#123; this.userDao = userDao;&#125; æ³¨å…¥æ•°æ®çš„æ•°æ®ç±»å‹ æ™®é€šæ•°æ®ç±»å‹ å¼•ç”¨æ•°æ®ç±»å‹ é›†åˆæ•°æ®ç±»å‹ æ¼”ç¤ºè§†é¢‘ åˆ†æ¨¡å—å¼€å‘ï¼ˆimportæ ‡ç­¾ï¼‰ å®é™…å¼€å‘ä¸­, Springçš„é…ç½®å†…å®¹éå¸¸å¤š,è¿™å°±å¯¼è‡´ Springé…ç½®å¾ˆç¹æ‚ä¸”ä½“ç§¯å¾ˆå¤§,æ‰€ä»¥,å¯ä»¥å°†éƒ¨åˆ†é…ç½®æ‹†è§£åˆ°å…¶ä»–é…ç½®æ–‡ä»¶ä¸­,è€Œåœ¨ Springä¸»é…ç½®æ–‡ä»¶é€šè¿‡imporæ ‡ç­¾è¿›è¡ŒåŠ è½½ã€‚ 1&lt;import resource=&quot;applicationContext-user.xml&quot;&gt;&lt;/import&gt; Springç›¸å…³APIApplicationContext application Contextï¼šæ¥å£ç±»å‹,ä»£è¡¨åº”ç”¨ä¸Šä¸‹æ–‡,å¯ä»¥é€šè¿‡å…¶å®ä¾‹è·å¾— Springå®¹å™¨ä¸­çš„Beanå¯¹è±¡ ä¸‰ç§å®ç°ç±» ClassPathXmlApplicationContextå®ƒæ˜¯ä»ç±»çš„æ ¹è·¯å¾„ä¸‹åŠ è½½é…ç½®æ–‡ä»¶æ¨èä½¿ç”¨è¿™ç§ FileSystemXmlApplicationContextå®ƒæ˜¯ä»ç£ç›˜è·¯å¾„ä¸ŠåŠ è½½é…ç½®æ–‡ä»¶,é…ç½®æ–‡ä»¶å¯ä»¥åœ¨ç£ç›˜çš„ä»»æ„ä½ç½®ã€‚ AnnotationConfigApplicationContextå½“ä½¿ç”¨æ³¨è§£é…ç½®å®¹å™¨å¯¹è±¡æ—¶,éœ€è¦ä½¿ç”¨æ­¤ç±»æ¥åˆ›å»º springå®¹å™¨ã€‚å®ƒç”¨æ¥è¯»å–æ³¨è§£ã€‚ getBean()æ–¹æ³• 12UserService userService1 = (UserService) app.getBean(&quot;userService&quot;);UserService userService2 = app.getBean(UserService.class); Springé…ç½®æ•°æ®æºæ•°æ®æºï¼ˆè¿æ¥æ± ï¼‰çš„ä½œç”¨ æ•°æ®æº(è¿æ¥æ± )æ˜¯æé«˜ç¨‹åºæ€§èƒ½å¦‚å‡ºç°çš„ äº‹å…ˆå®ä¾‹åŒ–æ•°æ®æº,åˆå§‹åŒ–éƒ¨åˆ†è¿æ¥èµ„æº ä½¿ç”¨è¿æ¥èµ„æºæ—¶ä»æ•°æ®æºä¸­è·å– ä½¿ç”¨å®Œæ¯•åå°†è¿æ¥èµ„æºå½’è¿˜ç»™æ•°æ®æº æ‰‹åŠ¨åˆ›å»ºæ•°æ®æºçš„å¼€å‘æ­¥éª¤ å¯¼å…¥Mavenä¾èµ– 1234567891011121314151617&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.46&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.2.6&lt;/version&gt;&lt;/dependency&gt; åˆ›å»ºjdbc.properties 1234jdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/æ•°æ®åº“åjdbc.username=rootjdbc.password=123456789 åŠ è½½propertiesé…ç½®æ–‡ä»¶ 12345ResourceBundle rb = ResourceBundle.getBundle(&quot;jdbc&quot;);String driver = rb.getString(&quot;jdbc.driver&quot;);String url = rb.getString(&quot;jdbc.url&quot;);String username = rb.getString(&quot;jdbc.username&quot;);String password = rb.getString(&quot;jdbc.password&quot;); åˆ›å»ºæ•°æ®æº 1234567// åˆ›å»ºc3p0æ•°æ®æºComboPooledDataSource dataSource = new ComboPooledDataSource();dataSource.setDriverClass(driver);dataSource.setJdbcUrl(url);dataSource.setUser(username);dataSource.setPassword(password);Connection connection = dataSource.getConnection(); 1234567// åˆ›å»ºDruidæ•°æ®æºDruidDataSource dataSource = new DruidDataSource();dataSource.setDriverClassName(driver);dataSource.setUrl(url);dataSource.setUsername(username);dataSource.setPassword(password);DruidPooledConnection connection = dataSource.getConnection(); ä½¿ç”¨Springåˆ›å»ºæ•°æ®æºçš„å¼€å‘æ­¥éª¤ å¯¼å…¥ç›¸å…³ä¾èµ– åœ¨applicationContextä¸­é…ç½®æ•°æ®æºbean 12345678910111213141516171819202122&lt;!-- å¼•å…¥contextå‘½åç©ºé—´å’Œçº¦æŸè·¯å¾„ --&gt;xmlns:context=&quot;http://www.springframework.org/schema/context&quot;xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;&lt;!-- åŠ è½½å¤–éƒ¨çš„propertiesæ–‡ä»¶ --&gt;&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot; /&gt;&lt;!-- c3p0 --&gt;&lt;bean id=&quot;dataSource1&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;property name=&quot;driverClass&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;&gt; &lt;/property&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;jdbc.url&#125;&quot;&gt; &lt;/property&gt; &lt;property name=&quot;user&quot; value=&quot;$&#123;jdbc.username&#125;&quot;&gt; &lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;&gt; &lt;/property&gt;&lt;/bean&gt;&lt;!-- Driud --&gt;&lt;bean id=&quot;dataSource2&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;&gt; &lt;/property&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;&gt; &lt;/property&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;&gt; &lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;&gt; &lt;/property&gt;&lt;/bean&gt; åˆ›å»ºæ•°æ®æºå¯¹è±¡ 123ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);DataSource dataSource = applicationContext.getBean(DataSource.class);Connection connection = dataSource.getConnection(); Springæ³¨è§£å¼€å‘ SpringåŸå§‹æ³¨è§£ä¸»è¦æ˜¯æ›¿ä»£çš„é…ç½® åŸå§‹æ³¨è§£ ç»„ä»¶æ‰«æä½¿ç”¨æ³¨è§£è¿›è¡Œå¼€å‘æ—¶,éœ€è¦åœ¨ applicationContext. xmä¸­é…ç½®ç»„ä»¶æ‰«æ,ä½œç”¨æ˜¯æŒ‡å®šå“ªä¸ªåŒ…åŠå…¶å­åŒ…ä¸‹çš„Beanï¼Œéœ€è¦è¿›è¡Œæ‰«æä»¥ä¾¿è¯†åˆ«ä½¿ç”¨æ³¨è§£é…ç½®çš„ç±»ã€å­—æ®µå’Œæ–¹æ³•ã€‚ 12&lt;!-- é…ç½®ç»„ä»¶æ‰«æ --&gt;&lt;context:component-scan base-package=&quot;com.myspring&quot;/&gt; Daoç±»12&lt;!-- é…ç½®æ–‡ä»¶ --&gt;&lt;bean id=&quot;userDao&quot; class=&quot;com.myspring.dao.impl.UserDaoImpl&quot; scope=&quot;prototype&quot;&gt; &lt;/bean&gt; 1234// æ³¨è§£é…ç½®ï¼Œå†™åœ¨ç±»åä¹‹ä¸Š@Component(&quot;userDao&quot;)// ç¬¬äºŒç§å¯è¯»æ€§æ›´å¼º@Repository(&quot;userDao&quot;) Serviceç±»1234&lt;!-- é…ç½®æ–‡ä»¶ --&gt;&lt;bean id=&quot;userService&quot; class=&quot;com.myspring.service.impl.UserServiceImpl&quot; &gt; &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot; /&gt;&lt;/bean&gt; 1234// æ³¨è§£é…ç½®ï¼Œå†™åœ¨ç±»åä¹‹ä¸Š@Component(&quot;userService&quot;)// ç¬¬äºŒç§å¯è¯»æ€§æ›´å¼º@Service(&quot;userService&quot;) 1234567891011// æ³¨è§£é…ç½®ï¼Œå†™åœ¨å­—æ®µä¹‹å‰// Autowiredä»springå®¹å™¨ä¸­æ ¹æ® æ•°æ®ç±»å‹ è¿›è¡ŒåŒ¹é…ï¼Œæ‰€ä»¥åŒä¸€æ•°æ®ç±»å‹åªæœ‰å•ä¸ªbeanå¯ä»¥åªå†™Autowired@Autowired// Qualifierä»springå®¹å™¨ä¸­æ ¹æ® idå€¼ç±»å‹ è¿›è¡ŒåŒ¹é…ï¼Œä½†æ˜¯å¿…é¡»ç»“åˆAutowiredä¸€èµ·ä½¿ç”¨@Qualifier(&quot;userDao&quot;)// @Resource(name = &quot;userDao&quot;) ç›¸å½“äºå‰ä¸¤è€…ç»“åˆprivate UserDao userDao;// æ­¤æ—¶ç±»ä¸­å¯ä»¥ä¸å†™setæ–¹æ³•public void setUserDao(UserDao userDao) &#123; this.userDao = userDao;&#125; æ™®é€šå±æ€§æ³¨å…¥12@Value(&quot;$&#123;jdbc.driver&#125;&quot;)private String driver; æ–°æ³¨è§£ æ•´åˆåœ¨ä¸€èµ·çš„æ ·å­ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223@Configuration // æ ‡å¿—è¯¥ç±»æ˜¯Springçš„æ ¸å¿ƒé…ç½®ç±»@ComponentScan(&quot;com.myspring&quot;) // é…ç½®ç»„ä»¶æ‰«æ,æ›¿æ¢&lt;context:component-scan base-package=&quot;com.myspring&quot;/&gt;@PropertySource(&quot;classpath:jdbc.properties&quot;) // åŠ è½½å¤–éƒ¨çš„propertiesæ–‡ä»¶,æ›¿æ¢&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;public class SpringConfiguration &#123; @Value(&quot;$&#123;jdbc.driver&#125;&quot;) private String driver; @Value(&quot;$&#123;jdbc.url&#125;&quot;) private String url; @Value(&quot;$&#123;jdbc.username&#125;&quot;) private String username; @Value(&quot;$&#123;jdbc.password&#125;&quot;) private String password; @Bean(&quot;dataSource&quot;) // springä¼šå°†å½“å‰æ–¹æ³•çš„è¿”å›å€¼ä»¥æŒ‡å®šåç§°å­˜å‚¨åˆ°springå®¹å™¨å½“ä¸­ public DataSource getDataSource() &#123; DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(driver); dataSource.setUrl(url); dataSource.setUsername(username); dataSource.setPassword(password); return dataSource; &#125;&#125; åˆ†æ¨¡å—å¦‚ä¸‹ï¼ˆæ¨èï¼‰ï¼š 123456@Configuration // æ ‡å¿—è¯¥ç±»æ˜¯Springçš„æ ¸å¿ƒé…ç½®ç±»@ComponentScan(&quot;com.myspring&quot;) // é…ç½®ç»„ä»¶æ‰«æ,æ›¿æ¢&lt;context:component-scan base-package=&quot;com.myspring&quot;/&gt;@Import(&#123;DataSourceConfiguration.class,&#125;) //æ‹¬å·å†…å†™æ•°ç»„&#123;xxx.class,xxx.class&#125;,æ›¿æ¢&lt;import resource=&quot;&quot;/&gt;public class SpringConfiguration &#123; &#125; 123456789101112131415161718192021@PropertySource(&quot;classpath:jdbc.properties&quot;) // åŠ è½½å¤–éƒ¨çš„propertiesæ–‡ä»¶,æ›¿æ¢&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;public class DataSourceConfiguration &#123; @Value(&quot;$&#123;jdbc.driver&#125;&quot;) private String driver; @Value(&quot;$&#123;jdbc.url&#125;&quot;) private String url; @Value(&quot;$&#123;jdbc.username&#125;&quot;) private String username; @Value(&quot;$&#123;jdbc.password&#125;&quot;) private String password; @Bean(&quot;dataSource&quot;) // springä¼šå°†å½“å‰æ–¹æ³•çš„è¿”å›å€¼ä»¥æŒ‡å®šåç§°å­˜å‚¨åˆ°springå®¹å™¨å½“ä¸­ public DataSource getDataSource() &#123; DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(driver); dataSource.setUrl(url); dataSource.setUsername(username); dataSource.setPassword(password); return dataSource; &#125;&#125; Springé›†æˆjunit æ·»åŠ ä¾èµ– 1234567891011&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.13.1&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;5.2.3.RELEASE&lt;/version&gt;&lt;/dependency&gt; ç¼–å†™æµ‹è¯•ç±» 123456789101112@RunWith(SpringJUnit4ClassRunner.class)// @ContextConfiguration(&quot;classpath:applicationContext.xml&quot;) // éæ³¨è§£æ–¹å¼æ³¨å…¥é…ç½®@ContextConfiguration(classes = &#123;SpringConfiguration.class&#125;) // æ³¨è§£æ–¹å¼æ³¨å…¥é…ç½®public class SpringJunitTest &#123; @Resource(name = &quot;userService&quot;) private UserService userService; @Test public void test1() &#123; userService.save(); &#125;&#125; Springé›†æˆwebç¯å¢ƒ åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡æ˜¯é€šè¿‡ new ClasspathXmlApplication Context( springé…ç½®æ–‡ä»¶)æ–¹å¼è·å–çš„,ä½†æ˜¯æ¯æ¬¡ä»å®¹å™¨ä¸­è·å¾—Beanæ—¶éƒ½è¦ç¼–å†™ new ClasspathXmlApplication Context( springé…ç½®æ–‡ä»¶),è¿™æ ·çš„å¼Šç«¯æ˜¯é…ç½®æ–‡ä»¶åŠ è½½å¤šæ¬¡,åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡åˆ›å»ºå¤šæ¬¡ã€‚ åœ¨Webé¡¹ç›®ä¸­,å¯ä»¥ä½¿ç”¨ ServletcontextListenerç›‘å¬Webåº”ç”¨çš„å¯åŠ¨,æˆ‘ä»¬å¯ä»¥åœ¨Webåº”ç”¨å¯åŠ¨æ—¶,å°±åŠ è½½ Springçš„é…ç½®æ–‡ä»¶,åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ Application Context,åœ¨å°†å…¶å­˜å‚¨åˆ°æœ€å¤§çš„åŸŸ servletContextåŸŸä¸­,è¿™æ ·å°±å¯ä»¥åœ¨ä»»æ„ä½ç½®ä»åŸŸä¸­è·å¾—åº”ç”¨ä¸Šä¸‹æ–‡ Application Contextå¯¹è±¡äº† æ‰‹åŠ¨ä½¿ç”¨listenerè·å–åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ åˆ›å»ºlistenerç±» 123456789101112131415public class ContextLoaderListener implements ServletContextListener &#123; @Override public void contextInitialized(ServletContextEvent servletContextEvent) &#123; // ApplicationContext app = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); //ä½¿ç”¨éæ³¨è§£æ—¶ç”¨è¯¥æ–¹æ³•åˆ›å»º ApplicationContext app = new AnnotationConfigApplicationContext(SpringConfiguration.class); // ä½¿ç”¨æ³¨è§£æ—¶ç”¨è¯¥æ–¹æ³•åˆ›å»º // å°†Springçš„åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡å­˜å‚¨åˆ°ServletContextåŸŸå¯¹è±¡ä¸­ servletContextEvent.getServletContext().setAttribute(&quot;app&quot;, app); System.out.println(&quot;springå®¹å™¨åˆ›å»ºå®Œæ¯•&quot;); &#125; @Override public void contextDestroyed(ServletContextEvent servletContextEvent) &#123; &#125;&#125; åœ¨web.xmlä¸­é…ç½®listener 123&lt;listener&gt; &lt;listener-class&gt;com.myspring.listener.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt; è·å–servletContextåŸŸå¯¹è±¡ä¸­çš„åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ 1ApplicationContext app = (ApplicationContext) this.getServletContext().getAttribute(&quot;app&quot;); ä½¿ç”¨Springè·å–åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ å¯¼å…¥ä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;5.2.8.RELEASE&lt;/version&gt;&lt;/dependency&gt; é…ç½®web.xml 123456789&lt;!-- è®¾ç½®å…¨å±€å‚æ•° --&gt;&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;&lt;/context-param&gt;&lt;!-- é…ç½®ç›‘å¬å™¨ --&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt; è·å–åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ 1WebApplicationContext app = WebApplicationContextUtils.getWebApplicationContext(req.getServletContext()); JdbcTemplateæ¦‚è¿° å®ƒæ˜¯ springæ¡†æ¶ä¸­æä¾›çš„ä¸ªå¯¹è±¡,æ˜¯å¯¹åŸå§‹ç¹ççš„ dbc APIå¯¹è±¡çš„ç®€å•å°è£…ã€‚ springæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šçš„æ“ä½œæ¨¡æ¿ç±»ã€‚ä¾‹å¦‚:æ“ä½œå…³ç³»å‹æ•°æ®çš„ dbcTemplateå’Œ bernate Template,æ“ä½œnosqæ•°æ®åº“çš„ RedisTemplate,æ“ä½œæ¶ˆæ¯é˜Ÿåˆ—çš„ UmsTemplateç­‰ç­‰ã€‚ æ‰‹åŠ¨å¼€å‘æ­¥éª¤ æ·»åŠ ä¾èµ– 1234567891011&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;5.0.4.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;5.0.4.RELEASE&lt;/version&gt;&lt;/dependency&gt; åˆ›å»ºæ•°æ®åº“è¡¨å’ŒjavaBean åˆ›å»ºjdbcTemplateå¯¹è±¡ã€æ‰§è¡Œæ•°æ®åº“æ“ä½œ 12345678910111213141516public class JdbcTemplateTest &#123; @Test // æµ‹è¯•dbcTemplateå¼€å‘æ­¥éª¤ public void test() &#123; // åˆ›å»ºDruidæ•°æ®æº DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/test&quot;); dataSource.setUsername(&quot;root&quot;); dataSource.setPassword(&quot;123456789&quot;); // åˆ›å»ºjdbcTemplateå¯¹è±¡ JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource); // æ•°æ®åº“æ“ä½œ jdbcTemplate.update(&quot;insert into test1 values(?,?)&quot;, &quot;å¼ ä¸‰&quot;, 18); &#125;&#125; Springä½¿ç”¨JdbcTemplateå¼€å‘æ­¥éª¤ æ·»åŠ ä¾èµ– ç¼–å†™jdbc.propertiesæ–‡ä»¶ ç¼–å†™spring-configæ–‡ä»¶applicationContext.xmlï¼Œæ·»åŠ æ•°æ®æºå¯¹è±¡ï¼ŒjdbcTemplateå¯¹è±¡ 12345678910111213141516171819&lt;!-- å¼•å…¥contextå‘½åç©ºé—´å’Œçº¦æŸè·¯å¾„ --&gt;xmlns:context=&quot;http://www.springframework.org/schema/context&quot;xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;&lt;!-- åŠ è½½å¤–éƒ¨çš„propertiesæ–‡ä»¶ --&gt;&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;&lt;!-- Druid DataSource --&gt;&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;&lt;/bean&gt;&lt;!-- Spring JdbcTemplate --&gt;&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;/bean&gt; ç¼–å†™ä»£ç  123456// è·å¾—applicationContextApplicationContext app = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);// ä»å®¹å™¨ä¸­è·å¾—jdbcTemplateå¯¹è±¡JdbcTemplate jdbcTemplate = app.getBean(JdbcTemplate.class);// æ•°æ®åº“æ“ä½œjdbcTemplate.update(&quot;insert into test1 values(?,?)&quot;, &quot;å¼ ä¸‰&quot;, 18); å¸¸ç”¨æ“ä½œ1234jdbcTemplate.update(&quot;update test1 set age=? where name =?&quot;, 10, &quot;å¼ ä¸‰&quot;);List&lt;User&gt; userList = jdbcTemplate.query(&quot;select * from test1&quot;, new BeanPropertyRowMapper&lt;&gt;(User.class));User user = jdbcTemplate.queryForObject(&quot;select * from test1 where age=?&quot;, new BeanPropertyRowMapper&lt;&gt;(User.class), 18);Long count = jdbcTemplate.queryForObject(&quot;select count(*) from test1&quot;, Long.class); AOPæ¦‚è¿° AOPä¸º Aspect Oriented Programmingçš„ç¼©å†™,æ„æ€ä¸ºé¢å‘åˆ‡é¢ç¼–ç¨‹,æ˜¯é€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†ç°ç¨‹åºåŠŸèƒ½çš„åŒç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚ AOPæ˜¯OOPçš„å»¶ç»­,æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹,ä¹Ÿæ˜¯ Springæ¡†æ¶ä¸­çš„ä¸ªé‡è¦å†…å®¹,æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ç§è¡ç”ŸèŒƒå‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚ ä½œç”¨ä¸ä¼˜åŠ¿é»‘é©¬ç¨‹åºå‘˜æœ€å…¨SSMæ¡†æ¶æ•™ç¨‹|Spring+SpringMVC+MyBatiså…¨è¦†ç›–_SSMæ•´åˆ_å“”å“©å“”å“©_bilibili JDKåŠ¨æ€ä»£ç†ã€cglibåŠ¨æ€ä»£ç†é»‘é©¬ç¨‹åºå‘˜æœ€å…¨SSMæ¡†æ¶æ•™ç¨‹|Spring+SpringMVC+MyBatiså…¨è¦†ç›–_SSMæ•´åˆ_å“”å“©å“”å“©_bilibili æ¦‚å¿µ Target(ç›®æ ‡å¯¹è±¡):ä»£ç†çš„ç›®æ ‡å¯¹è±¡ã€‚ Proxy(ä»£ç†):â€”ä¸ªç±»è¢«AOPç»‡å…¥å¢å¼ºå,å°±äº§ç”Ÿä¸€ä¸ªç»“æœä»£ç†ç±»ã€‚ Joinpoint(è¿æ¥ç‚¹):æ‰€è°“è¿æ¥ç‚¹æ˜¯æŒ‡é‚£äº›è¢«æ‹¦æˆªåˆ°çš„ç‚¹ã€‚åœ¨ springä¸­è¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•,å› ä¸º springåªæ”¯æŒæ–¹æ³•ç±»å‹çš„è¿æ¥ç‚¹ã€‚ Pointcut(åˆ‡å…¥ç‚¹):æ‰€è°“åˆ‡å…¥ç‚¹æ˜¯æŒ‡æˆ‘ä»¬è¦å¯¹å“ªäº› Joinpointè¿¸è¡Œæ‹¦æˆªçš„å®šä¹‰ã€‚ Advice(é€šçŸ¥/å¢å¼º):æ‰€è°“é€šçŸ¥æ˜¯æŒ‡æ‹¦æˆªåˆ° Joinpointä¹‹åæ‰€è¦åšçš„äº‹æƒ…å°±æ˜¯é€šçŸ¥ã€‚ Aspect(åˆ‡é¢):æ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥(å¼•ä»‹ä¸ª)çš„ç»“åˆã€‚ eaving(ç»‡å…¥):æ˜¯æŒ‡æŠŠå¢å¼ºåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ã€‚springé‡†ç”¨åŠ¨æ€ä»£ç†ç»‡å…¥,è€ŒAspecté‡‡ç”¨ç¼–è¯‘æœŸç»‡å…¥å’Œç±»è£…è½½æœŸç»‡å…¥ã€‚ åŸºäºXMLå¼€å‘AOPæ­¥éª¤ å¯¼å…¥ä¾èµ– 123456789101112131415&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.2.8.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aop&lt;/artifactId&gt; &lt;version&gt;5.2.8.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.9.7&lt;/version&gt;&lt;/dependency&gt; åˆ›å»ºç›®æ ‡æ¥å£å’Œç›®æ ‡ç±» åˆ›å»ºåˆ‡é¢ç±»ï¼ˆå«å¢å¼ºæ–¹æ³•ï¼‰ 123456789101112public class MyAspect &#123; public void before() &#123; System.out.println(&quot;å‰ç½®å¢å¼ºã€‚ã€‚ã€‚&quot;); &#125; public Object around(ProceedingJoinPoint pjp) throws Throwable &#123; System.out.println(&quot;å‰ç½®å¢å¼ºã€‚ã€‚ã€‚&quot;); Object proceed = pjp.proceed(); System.out.println(&quot;åç½®å¢å¼ºã€‚ã€‚ã€‚&quot;); return proceed; &#125;&#125; é…ç½®applicationContext.xml 12345678910111213141516xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&lt;!-- ç›®æ ‡å¯¹è±¡ --&gt;&lt;bean id=&quot;target&quot; class=&quot;com.myspring.aop.Target&quot;/&gt;&lt;!-- åˆ‡é¢å¯¹è±¡ --&gt;&lt;bean id=&quot;myAspect&quot; class=&quot;com.myspring.aop.MyAspect&quot;/&gt;&lt;!-- é…ç½®ç»‡å…¥ï¼Œå³å“ªäº›æ–¹æ³•éœ€è¦å“ªäº›å¢å¼º(å‰ç½®åç½®å¢å¼ºç­‰) --&gt;&lt;aop:config&gt; &lt;!-- å£°æ˜åˆ‡é¢ --&gt; &lt;aop:aspect ref=&quot;myAspect&quot;&gt; &lt;!-- åˆ‡ç‚¹+é€šçŸ¥(å¢å¼º) --&gt; &lt;aop:before method=&quot;before&quot; pointcut=&quot;execution(* com.myspring.aop.*.*(..))&quot;&gt;&lt;/aop:before&gt; &lt;aop:around method=&quot;around&quot; pointcut=&quot;execution(* com.myspring.aop.*.*(..))&quot;/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; æµ‹è¯• 1234567891011@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(&quot;classpath:applicationContext.xml&quot;) // éæ³¨è§£æ–¹å¼æ³¨å…¥é…ç½®public class SpringJunitTest &#123; @Autowired private TargetInterface target; @Test public void test1() &#123; target.save(); &#125;&#125; åˆ‡ç‚¹è¡¨è¾¾å¼ 12345678910&lt;aop:config&gt; &lt;!-- å£°æ˜åˆ‡é¢ --&gt; &lt;aop:aspect ref=&quot;myAspect&quot;&gt; &lt;!-- åˆ‡ç‚¹è¡¨è¾¾å¼çš„æŠ½å– --&gt; &lt;aop:pointcut id=&quot;myPointcut&quot; expression=&quot;execution(* com.myspring.aop.*.*(..))&quot;/&gt; &lt;!-- åˆ‡ç‚¹+é€šçŸ¥(å¢å¼º) --&gt; &lt;aop:before method=&quot;before&quot; pointcut-ref=&quot;myPointcut&quot;/&gt; &lt;aop:around method=&quot;around&quot; pointcut-ref=&quot;myPointcut&quot;/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; é€šçŸ¥ç±»å‹ åŸºäºæ³¨è§£å¼€å‘AOP ç›®æ ‡ç±»ã€åˆ‡é¢ç±» é…ç½®ç›®æ ‡ç±»ã€åˆ‡é¢ç±» 1234@Component(&quot;target&quot;)public class Target implements TargetInterface &#123;&#125; 12345678@Component(&quot;myAspect&quot;)@Aspect //æ ‡æ³¨å½“å‰æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»public class MyAspect &#123; @Before(&quot;execution(* com.myspring.aop.*.*(..))&quot;) public void before() &#123; System.out.println(&quot;å‰ç½®å¢å¼ºã€‚ã€‚ã€‚&quot;); &#125;&#125; é…ç½®applicationContext.xml 1234&lt;!-- æ³¨è§£å¼€å‘ç»„ä»¶æ‰«æ --&gt;&lt;context:component-scan base-package=&quot;com.myspring.aop&quot;/&gt;&lt;!-- aopè‡ªåŠ¨ä»£ç† --&gt;&lt;aop:aspectj-autoproxy/&gt; åˆ‡ç‚¹è¡¨è¾¾å¼æŠ½å–12345678910111213@Component(&quot;myAspect&quot;)@Aspect //æ ‡æ³¨å½“å‰æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»public class MyAspect &#123; @Before(&quot;pointCut()&quot;) public void before() &#123; System.out.println(&quot;å‰ç½®å¢å¼ºã€‚ã€‚ã€‚&quot;); &#125; // å®šä¹‰åˆ‡ç‚¹è¡¨è¾¾å¼ @Pointcut(&quot;execution(* com.myspring.aop.*.*(..))&quot;) public void pointCut() &#123; &#125;&#125; äº‹åŠ¡æ§åˆ¶é»‘é©¬ç¨‹åºå‘˜æœ€å…¨SSMæ¡†æ¶æ•™ç¨‹|Spring+SpringMVC+MyBatiså…¨è¦†ç›–_SSMæ•´åˆ_å“”å“©å“”å“©_bilibili","categories":[{"name":"ssm","slug":"ssm","permalink":"http://example.com/categories/ssm/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"ssm","slug":"ssm","permalink":"http://example.com/tags/ssm/"},{"name":"javaEE","slug":"javaEE","permalink":"http://example.com/tags/javaEE/"},{"name":"Spring","slug":"Spring","permalink":"http://example.com/tags/Spring/"}]},{"title":"ã€é›†è®­ã€‘Servlet","slug":"ã€é›†è®­ã€‘servlet","date":"2021-07-11T11:56:48.738Z","updated":"2021-07-23T05:50:22.649Z","comments":true,"path":"2021/07/11/ji-xun-servlet/","link":"","permalink":"http://example.com/2021/07/11/ji-xun-servlet/","excerpt":"","text":"ä»€ä¹ˆæ˜¯Servletï¼Ÿ Servlet æ˜¯è¿è¡Œåœ¨ Web æœåŠ¡å™¨æˆ–åº”ç”¨æœåŠ¡å™¨ä¸Šçš„javaç¨‹åºï¼Œæ˜¯Java EEè§„èŒƒä¹‹ä¸€ï¼ˆä¸€ç§æ¥å£ï¼‰ã€‚ å®ƒæ˜¯ä½œä¸ºæ¥è‡ª Web æµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯çš„è¯·æ±‚å’Œ HTTP æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æˆ–åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¸­é—´å±‚ï¼Œå³æ¥æ”¶å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚å¹¶ä¸”å“åº”æ•°æ®ç»™å®¢æˆ·ç«¯ã€‚ ä½¿ç”¨ Servletï¼Œæ‚¨å¯ä»¥æ”¶é›†æ¥è‡ªç½‘é¡µè¡¨å•çš„ç”¨æˆ·è¾“å…¥ï¼Œå‘ˆç°æ¥è‡ªæ•°æ®åº“æˆ–è€…å…¶ä»–æºçš„è®°å½•ï¼Œè¿˜å¯ä»¥åŠ¨æ€åˆ›å»ºç½‘é¡µã€‚ ğŸ’¡é…ç½®Servlet åˆ›å»ºä¸€ä¸ªJavaç±»å¹¶å®ç°Servletæ¥å£ï¼ˆä¸€èˆ¬é€šè¿‡ç»§æ‰¿HTTPServletç±»å»å®ç°servletï¼‰ é‡å†™æ–¹æ³•ï¼Œå®ç°é€»è¾‘æ“ä½œ åœ¨web.xmlä¸­é…ç½®è¿™ä¸ªservletçš„è®¿é—®åœ°å€ 1234567891011121314&lt;!-- ç»™tomcaté…ç½®servletç›¸å…³ä¿¡æ¯ --&gt;&lt;servlet&gt; &lt;!-- å†™æ˜servletçš„åå­—ï¼ˆä¸€èˆ¬ä½¿ç”¨ç±»åå³å¯ï¼‰ --&gt; &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt; &lt;!-- å†™æ˜servletçš„å…¨ç±»å --&gt; &lt;servlet-class&gt;servlet.MyServlet&lt;/servlet-class&gt;&lt;/servlet&gt;&lt;!-- ç»™servleté…ç½®è®¿é—®åœ°å€ --&gt;&lt;servlet-mapping&gt; &lt;!-- å†™æ˜éœ€è¦é…ç½®è®¿é—®åœ°å€çš„servlet --&gt; &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt; &lt;!-- å†™æ˜ä¸ºè¯¥servleté…ç½®çš„è®¿é—®åœ°å€ --&gt; &lt;url-pattern&gt;/myServlet&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; &lt;url-pattern&gt;/myServlet&lt;/url-pattern&gt;æ ‡ç­¾ä¸­ / çš„ä½œç”¨ï¼šç›¸å½“äºæ‹¼æ¥åˆ° http://ip:port/å·¥ç¨‹è·¯å¾„åï¼Œå³http://ip:port/å·¥ç¨‹è·¯å¾„/myServlet HTTPåè®®ä»€ä¹ˆæ˜¯HTTPåè®® HTTPåè®®ï¼ˆHyperText Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯å› ç‰¹ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼Œæ‰€æœ‰çš„WWWæ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ï¼Œå³å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´é€šä¿¡ã€ä¼ è¾“æ•°æ®éœ€è¦éµå®ˆçš„è§„åˆ™ã€‚ HTTPæ˜¯ä¸€ä¸ªåŸºäºTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®ï¼ˆHTML æ–‡ä»¶, å›¾ç‰‡æ–‡ä»¶, æŸ¥è¯¢ç»“æœç­‰ï¼‰ã€‚ è¯·æ±‚ä¸å“åº” å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€æ•°æ®ä¸ºè¯·æ±‚ï¼Œè¯·æ±‚åˆ†ä¸ºGETã€POSTè¯·æ±‚ æœåŠ¡å™¨ç»™å®¢æˆ·ç«¯å›ä¼ æ•°æ®ä¸ºå“åº” ğŸ’¡HTTPåè®®å†…å®¹ è¯·æ±‚/å“åº”è¡Œ è¯·æ±‚/å“åº”å¤´ï¼š å±æ€§åï¼šå±æ€§å€¼ è¯·æ±‚/å“åº”ä½“ï¼š é‡è¦ï¼Œè‡ªè¡Œé˜…è¯»å­¦ä¹  å¸¸è§å“åº”ç  200ï¼šè¡¨ç¤ºè¯·æ±‚æˆåŠŸ 302ï¼šè¡¨ç¤ºè¯·æ±‚é‡å®šå‘ 404ï¼šè¡¨ç¤ºæœåŠ¡å™¨æ‰¾ä¸åˆ°è¯¥è¯·æ±‚åœ°å€ï¼ˆåœ°å€æœ‰é”™ï¼‰ 500ï¼šè¡¨ç¤ºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼ˆä»£ç æœ‰é”™ï¼‰ ğŸ’¡è¡¨å•å¤„ç†ã€å¸¸ç”¨API requestå¯¹è±¡å¸¸ç”¨æ–¹æ³• æ–¹æ³•ä»‹ç» getParameter(String name) è¿”å›nameæŒ‡å®šå‚æ•°çš„å‚æ•°å€¼ getParameterValues(String name) è¿”å›åŒ…å«å‚æ•°nameçš„æ‰€æœ‰å€¼çš„æ•°ç»„ setAttribute(String,Object) å­˜å‚¨æ­¤è¯·æ±‚ä¸­çš„å±æ€§ getAttribute(String name) è¿”å›æŒ‡å®šå±æ€§çš„å±æ€§å€¼ getContextPath() è¿”å›å½“å‰WEBé¡¹ç›®ç›¸å¯¹è·¯å¾„ getMethod() è·å–è¯·æ±‚ç±»å‹ getSession() è·å–Sessionå¯¹è±¡ getCookies() è·å–æ‰€æœ‰Cookie,è¿”å›ä¸€ä¸ªCookieæ•°ç»„ requestå¯¹è±¡å¸¸ç”¨æ–¹æ³• æ–¹æ³•ä»‹ç» setHeader() è®¾ç½®æ¶ˆæ¯å¤´ setStatus() è®¾ç½®çŠ¶æ€ç  addCookie() æ·»åŠ Cookie getWriter() è·å–é€šå‘æµè§ˆå™¨çš„å­—ç¬¦æµ è·å–/å›ä¼ æ•°æ®123456789&lt;form action=&quot;http://localhost:8080/jsp_war_exploded/myServlet&quot; method=&quot;get&quot;&gt; ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt; å¯†ç ï¼š&lt;input type=&quot;text&quot; name=&quot;password&quot;&gt;&lt;br&gt; å…´è¶£çˆ±å¥½ï¼š &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;ç”»ç”»&quot;&gt;ç”»ç”» &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;æ‰“ç¯®çƒ&quot;&gt;æ‰“ç¯®çƒ &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;æ•²ä»£ç &quot;&gt;æ•²ä»£ç  &lt;input type=&quot;submit&quot;&gt;&lt;/form&gt; 12345String username = req.getParameter(&quot;username&quot;);String password = req.getParameter(&quot;password&quot;);String[] hobby = req.getParameterValues(&quot;hobby&quot;);System.out.println(&quot;ç”¨æˆ·åï¼š&quot;+username+&quot;,å¯†ç ï¼š&quot;+password);System.out.println(Arrays.toString(hobby)); 1resp.getWriter().println(&quot;&lt;div&gt;è¿™æ˜¯ä¸€ä¸ªdiv&lt;/div&gt;&quot;); http://localhost:8080/jsp_war_exploded/myServlet?username=111&amp;password=222ä½¿ç”¨?ä¼ é€’å‚æ•° è¯·æ±‚è½¬å‘ä¸é‡å®šå‘ 1234String username = req.getParameter(&quot;username&quot;);req.setAttribute(&quot;key&quot;, &quot;MyServletå¤„ç†çš„ä¿¡æ¯:&quot;);System.out.println(&quot;MyServletä¸­çš„requestè·å¾—çš„æ•°æ®&quot;+username);req.getRequestDispatcher(&quot;/myServlet2&quot;).forward(req, resp); 123String username = req.getParameter(&quot;username&quot;);System.out.println(&quot;MyServlet2ä¸­çš„requestè·å¾—çš„æ•°æ®:&quot;+username);System.out.println(&quot;MyServlet2ä¸­æ˜¾ç¤ºä¹‹å‰å¤„ç†å¹¶ä¿å­˜çš„æ•°æ®:&quot;+req.getAttribute(&quot;key&quot;)); è¯·æ±‚è½¬å‘çš„ç‰¹ç‚¹ï¼š æµè§ˆå™¨åœ°å€æ æ²¡æœ‰å˜åŒ– ä¸€æ¬¡è¯·æ±‚ å…±äº«requestä¸­çš„æ•°æ® å¯ä»¥è½¬å‘åˆ°WEB-INFç›®å½•ä¸‹ï¼ˆå·¥ç¨‹è·¯å¾„ä¸‹ï¼‰ 1234resp.sendRedirect(req.getContextPath()+&quot;/myServlet2&quot;);// req.getContextPath()è·å¾—å½“å‰WEBé¡¹ç›®ç›¸å¯¹è·¯å¾„resp.sendRedirect(&quot;http://www.baidu.com&quot;);// è®¿é—®å¤–éƒ¨èµ„æºå¿…å†™http é‡å®šå‘çš„ç‰¹ç‚¹ï¼š æµè§ˆå™¨åœ°å€æ å‘ç”Ÿå˜åŒ– ä¸¤æ¬¡è¯·æ±‚ ä¸å…±äº«requestä¸­çš„æ•°æ® ä¸èƒ½è®¿é—®WEB-INFç›®å½•ä¸‹èµ„æº å¯ä»¥è®¿é—®å·¥ç¨‹å¤–çš„èµ„æº ğŸ’¡Filterè¿‡æ»¤å™¨è‡ªè¡Œå­¦ä¹  ä¸­æ–‡ä¹±ç é—®é¢˜12req.setCharacterEncoding(&quot;UTF-8&quot;);resp.setContentType(&quot;text/html;charset=UTF-8&quot;); ç›¸å…³é˜…è¯»ææ–™ Webå¼€å‘ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com) å°šç¡…è°·æœ€æ–°ç‰ˆJavaWebå…¨å¥—æ•™ç¨‹,java webé›¶åŸºç¡€å…¥é—¨å®Œæ•´ç‰ˆ_å“”å“©å“”å“©_bilibili ä½œä¸š ç†Ÿæ‚‰servletã€jspå¹¶å®ç°ä¸€äº›åŠŸèƒ½ï¼Œå¹¶å†™ä¸€ç¯‡åšæ–‡ã€‚ åšæ–‡å†…å®¹è¦æ±‚ï¼ˆå¿…é¡»è¦æ±‚ï¼‰ï¼š å†™ä¸€ç¯‡åšæ–‡è®°å½•ä½ ä½¿ç”¨servletã€jspå®ç°åŠŸèƒ½æ—¶é‡åˆ°äº†å“ªäº›å›°éš¾ã€ä¸ç†è§£ã€ä¸çŸ¥é“è¯¥å¦‚ä½•å®ç°çš„åœ°æ–¹ï¼Œä»¥åŠå†™ä¸Šè§£å†³çš„è¿‡ç¨‹ä¸ç»“æœï¼ˆæœªè§£å†³çš„ä¹Ÿå¯ä»¥å†™ä¸Šæœ‰å“ªäº›ç–‘æƒ‘ï¼‰ï¼Œæˆ–è€…å­¦ä¹ ç¬”è®°ç­‰ç­‰çš†å¯ã€‚ åŠŸèƒ½å®ä¾‹ï¼ˆä»…å‚è€ƒï¼Œä¸æ˜¯æœ€ä½/æœ€é«˜æ ‡å‡†ï¼‰ï¼š å«æœ‰ç™»é™†/æ³¨å†Œé¡µé¢ã€å…¶ä»–é¡µé¢ã€‚ ç™»å½•åŠŸèƒ½ï¼šæ‰‹åŠ¨è¾“å…¥ä¿¡æ¯ï¼Œç¬¦åˆå·²å­˜åœ¨çš„ç”¨æˆ·ä¿¡æ¯åˆ™æˆåŠŸç™»å½•ã€‚ æ³¨å†ŒåŠŸèƒ½ï¼šæ‰‹åŠ¨è¾“å…¥ä¿¡æ¯ï¼Œä¸èƒ½é‡å¤æ³¨å†Œå·²å­˜åœ¨çš„ç”¨æˆ·åï¼Œå¦åˆ™æ³¨å†Œå¤±è´¥ã€‚ ç”¨æˆ·å±•ç¤ºï¼šåœ¨é¡µé¢ä¸Šå±•ç¤ºæ‰€æœ‰å·²ç»æ³¨å†Œçš„ç”¨æˆ·çš„ä¿¡æ¯ã€‚ ç™»é™†è¿‡æ»¤ï¼šå…¶ä»–é¡µé¢ï¼Œåªæœ‰ç™»é™†æˆåŠŸåæ‰å¯è®¿é—®ï¼Œå¦åˆ™è·³è½¬è‡³ç™»é™†é¡µé¢ã€‚ å…¶ä»–é¡µé¢ï¼šåˆ©ç”¨å¾ªç¯æ§åˆ¶è¯­å¥æˆ–å…¶ä»–å·¥å…·åŠŸèƒ½è¾“å‡ºç”±åå°ä¼ é€’è€Œæ¥çš„æ•°æ®ã€‚ ç­‰ç­‰ æäº¤å†…å®¹ä¸æ—¶é—´ï¼š æäº¤å†…å®¹ï¼šç¨‹åºæºç +åšæ–‡é“¾æ¥ æäº¤æ—¶é—´ï¼š7.27æ—¥æ™šé›¶ç‚¹å‰ï¼Œå°†å‹ç¼©åŒ…å‘½åä¸ºç­çº§+å§“å+å­¦å·å‘é€è‡³&#x37;&#48;&#55;&#56;&#50;&#51;&#56;&#49;&#52;&#64;&#113;&#113;&#x2e;&#x63;&#111;&#x6d; å¯èƒ½æ—¶é—´å¤ªçŸ­æ— æ³•å®ç°å¤ªå¤šåŠŸèƒ½ï¼Œæ²¡æœ‰å…³ç³»ï¼Œç¨‹åºæºç é™„ä¸Šè‡ªå·±å®ç°äº†çš„ä¸œè¥¿å°±è¡Œï¼Œæ²¡æœ‰å®ç°å®Œæ•´ä¹Ÿæ²¡å…³ç³»ï¼Œå®ç°äº†æ›´å¤šåŠŸèƒ½ä¹ŸæŒºå¥½ï¼Œè¿™ä¸ªä½œä¸šæ‰“åˆ†ä¸»è¦çœ‹ä½ çš„åšæ–‡é‡Œé¢å†™çš„è®°å½•å†…å®¹ï¼Œç¨‹åºä¸»è¦æ˜¯ç”¨æ¥ç»ƒä¹ ä»¥ç†Ÿæ‚‰servletå’Œjspçš„ï¼Œæ¯•ç«Ÿå¤§ä½œä¸šä¼šç”¨åˆ°ã€‚","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://example.com/categories/JavaWeb/"}],"tags":[{"name":"é›†è®­","slug":"é›†è®­","permalink":"http://example.com/tags/%E9%9B%86%E8%AE%AD/"},{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://example.com/tags/JavaWeb/"},{"name":"Servlet","slug":"Servlet","permalink":"http://example.com/tags/Servlet/"}]},{"title":"ã€é›†è®­ã€‘jsp","slug":"ã€é›†è®­ã€‘jsp","date":"2021-07-11T07:14:09.093Z","updated":"2021-07-23T05:51:57.089Z","comments":true,"path":"2021/07/11/ji-xun-jsp/","link":"","permalink":"http://example.com/2021/07/11/ji-xun-jsp/","excerpt":"","text":"ä»€ä¹ˆæ˜¯JSP JSP ä¸ PHPã€ASPã€ASP.NET ç­‰è¯­è¨€ç±»ä¼¼ï¼Œè¿è¡Œåœ¨æœåŠ¡ç«¯çš„è¯­è¨€ã€‚ JSPå…¨ç§°Java Server Pagesï¼Œæ˜¯å»ºç«‹åœ¨JAVAåŸºç¡€ä¸Šçš„ä¸€ç§ç½‘ç»œç¼–ç¨‹è¯­è¨€ï¼ŒJSPæ˜¯ä¸€ç§Java servletï¼ˆJSPåœ¨æ‰§è¡Œå‰é¦–å…ˆè¢«ç¼–è¯‘æˆä¸€ä¸ªServletï¼‰ï¼Œä¸»è¦ç”¨äºå®ç°Java webåº”ç”¨ç¨‹åºçš„ç”¨æˆ·ç•Œé¢éƒ¨åˆ†ã€‚ ç½‘é¡µå¼€å‘è€…ä»¬é€šè¿‡ç»“åˆHTMLä»£ç ã€XHTMLä»£ç ã€XMLå…ƒç´ ä»¥åŠåµŒå…¥JSPæ“ä½œå’Œå‘½ä»¤æ¥ç¼–å†™JSPã€‚ jsp &lt;-&gt; java(servlet)C:\\Users\\å¢èŸ\\AppData\\Local\\JetBrains\\IntelliJIdea2021.1\\tomcat\\20e10a3d-4da9-4eee-b7fa-327b2feb3d84\\work\\Catalina\\localhost\\jsp_war_exploded\\org\\apache\\jsp ç±»ä¼¼äºä¸Šè¿°æ–‡ä»¶ç›®å½•ï¼ˆtomcatä¸‹çš„webappç›®å½•ä¸‹å­˜æ”¾å·¥ç¨‹é¡¹ç›®ï¼Œåªä¸è¿‡ç°åœ¨tomcatåœ¨ideaé‡Œç”¨ï¼‰å³æ‰¾åˆ°ç”Ÿæˆçš„javaæ–‡ä»¶ã€‚ å¯è§JSPæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServletï¼Œåªä¸è¿‡æ— éœ€é…ç½®æ˜ å°„è·¯å¾„ï¼ŒWeb Serverä¼šæ ¹æ®è·¯å¾„æŸ¥æ‰¾å¯¹åº”çš„.jspæ–‡ä»¶ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œå°±è‡ªåŠ¨ç¼–è¯‘æˆServletå†æ‰§è¡Œã€‚ JSPè¯­æ³•JSPæ³¨é‡Š è¯­æ³• æè¿° &lt;%â€“ æ³¨é‡Š â€“%&gt; JSPæ³¨é‡Šï¼Œæ³¨é‡Šå†…å®¹ä¸ä¼šè¢«å‘é€è‡³æµè§ˆå™¨ç”šè‡³ä¸ä¼šè¢«ç¼–è¯‘ HTMLæ³¨é‡Šï¼Œé€šè¿‡æµè§ˆå™¨æŸ¥çœ‹ç½‘é¡µæºä»£ç æ—¶å¯ä»¥çœ‹è§æ³¨é‡Šå†…å®¹ ğŸ’¡è„šæœ¬ï¼ˆåœ¨JSPä¸­ç¼–å†™Javaä»£ç ï¼‰å…ˆå¯¼å…¥jsp-api.jarå’Œservlet-api.jarï¼ˆtomcatè‡ªå¸¦ï¼Œä½†æ˜¯IDEå¹¶æ— æç¤ºä¼šæŠ¥çº¢ï¼‰ è¯­æ³• æè¿° &lt;% ä»£ç ç‰‡æ®µ %&gt; ä¸€èˆ¬å®šä¹‰å˜é‡å’Œç¼–å†™è¯­å¥ã€‚ &lt;%! å£°æ˜ä»£ç  %&gt; å¯ä»¥å£°æ˜å¸¸é‡ï¼Œç¼–å†™æ–¹æ³•ï¼Œç¼–å†™ç±» &lt;%= è¡¨è¾¾å¼ %&gt; è¡¨è¾¾å¼è¢«è½¬åŒ–æˆStringï¼Œç„¶åæ’å…¥åˆ°è¡¨è¾¾å¼å‡ºç°çš„åœ°æ–¹ 123456789101112131415161718192021&lt;%! public class MyMath &#123; int a,b; public MyMath(int a, int b) &#123; this.a = a; this.b = b; &#125; int doMath()&#123; return a+b; &#125; &#125;%&gt;&lt;% out.println(&quot;æ‰“å°è¯­å¥&quot;); MyMath myMath = new MyMath(1, 1); int num = myMath.doMath();%&gt;&lt;h1&gt; å’Œä¸º&lt;%= num %&gt; &lt;/h1&gt;&lt;div&gt; &lt;%= &quot;&lt;h2&gt;è¿™æ˜¯ä¸€ä¸ªæ ‡ç­¾&lt;/h2&gt;&quot; %&gt; &lt;/div&gt; å¯¹äºæµç¨‹æ§åˆ¶è¯­å¥çš„ç¼–å†™å¯èƒ½ç¨å¾®ç¹ç 123456789101112&lt;% int day = 1 %&gt;&lt;% if (day == 1 || day == 7) &#123; %&gt;&lt;p&gt;ä»Šå¤©æ˜¯å‘¨æœ«&lt;/p&gt;&lt;% &#125; else &#123; %&gt;&lt;p&gt;ä»Šå¤©ä¸æ˜¯å‘¨æœ«&lt;/p&gt;&lt;% &#125; %&gt; &lt;%for ( int fontSize = 1; fontSize &lt;= 3; fontSize++)&#123; %&gt; &lt;font color=&quot;green&quot; size=&quot;&lt;%= fontSize %&gt;&quot;&gt; èœé¸Ÿæ•™ç¨‹ &lt;/font&gt;&lt;br /&gt;&lt;%&#125;%&gt; å½“ç„¶ä¹Ÿå¯ä»¥ç”¨outå¯¹è±¡è¾“å‡º 12345678&lt;% int fontSize; for ( fontSize = 10; fontSize &lt;= 13; fontSize++) &#123; out.write(&quot;&lt;div&gt;&quot;); out.write(fontSize+&quot;&quot;); out.write(&quot;&lt;/div&gt;&lt;br&gt;&quot;); &#125;%&gt; JSPæŒ‡ä»¤JSPæŒ‡ä»¤ç”¨æ¥è®¾ç½®ä¸æ•´ä¸ªJSPé¡µé¢ç›¸å…³çš„å±æ€§ã€‚ JSPæŒ‡ä»¤ æè¿° &lt;%@ page å±æ€§å=â€å±æ€§å€¼â€ %&gt; å®šä¹‰é¡µé¢çš„ä¾èµ–å±æ€§ï¼Œå¯¼åŒ… &lt;%@ include å±æ€§å=â€å±æ€§å€¼â€ %&gt; åŒ…å«å…¶ä»–æ–‡ä»¶ï¼ˆé™æ€åŒ…å«ï¼‰ &lt;%@ taglib å±æ€§å=â€å±æ€§å€¼â€ %&gt; å¼•å…¥æ ‡ç­¾åº“çš„å®šä¹‰ï¼Œå¯ä»¥æ˜¯è‡ªå®šä¹‰æ ‡ç­¾ 123&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;&lt;%@ page import=&quot; &quot; %&gt; &lt;%@ include file=&quot; &quot;%&gt; JSPè¡Œä¸ºè‡ªè¡Œå­¦ä¹  1&lt;jsp:è¡Œä¸ºå å±æ€§å=&quot;å±æ€§å€¼&quot; /&gt; ä¸­æ–‡ç¼–ç é—®é¢˜1&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt; ğŸ’¡JSPä¹å¤§å†…ç½®å¯¹è±¡ä¸å››å¤§ä½œç”¨åŸŸå››å¤§åŸŸå¯¹è±¡ å¯¹è±¡ ä½œç”¨åŸŸ å˜åŒ–æ“ä½œ pageContext å½“å‰é¡µé¢æœ‰æ•ˆï¼Œå½“å½“å‰é¡µé¢å…³é—­æˆ–è½¬åˆ°å…¶ä»–é¡µé¢æ—¶ï¼Œpageå¯¹è±¡å°†åœ¨å“åº”å›é¦ˆç»™å®¢æˆ·ç«¯åé‡Šæ”¾ã€‚ è·³è½¬é¡µé¢ request å½“æ¬¡è¯·æ±‚æœ‰æ•ˆï¼Œå¯ä»¥è·¨è¶Šforward()ä¸é‡å®šå‘è·³è½¬å‰åçš„ä¸¤é¡µï¼Œå¯ä»¥é€šè¿‡setAttribute()æ–¹æ³•å®ç°é¡µé¢ä¸­çš„ä¿¡æ¯ä¼ é€’ã€‚ ä¸¤æ¬¡è¯·æ±‚ session å½“å‰ä¼šè¯æœ‰æ•ˆï¼ŒæŒ‡ä»ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨å¼€å§‹ï¼Œåˆ°ç”¨æˆ·å…³é—­æµè§ˆå™¨è¿™ä¸­é—´çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½åŒ…å«å¤šä¸ªè¯·æ±‚å“åº” å…³é—­æµè§ˆå™¨ application æ‰€æœ‰åº”ç”¨ç¨‹åºä¸­æœ‰æ•ˆï¼Œæ•´ä¸ªåº”ç”¨æ˜¯æŒ‡ä»åº”ç”¨å¯åŠ¨ï¼Œåˆ°åº”ç”¨ç»“æŸã€‚æˆ‘ä»¬æ²¡æœ‰è¯´â€œä»æœåŠ¡å™¨å¯åŠ¨ï¼Œåˆ°æœåŠ¡å™¨å…³é—­â€æ˜¯å› ä¸ºä¸€ä¸ªæœåŠ¡å™¨å¯èƒ½éƒ¨ç½²å¤šä¸ªåº”ç”¨ï¼Œå½“ç„¶ä½ å…³é—­äº†æœåŠ¡å™¨ï¼Œå°±ä¼šæŠŠä¸Šé¢æ‰€æœ‰çš„åº”ç”¨éƒ½å…³é—­äº†ã€‚ å…³é—­æœåŠ¡å™¨ 12345678910&lt;% pageContext.setAttribute(&quot;key&quot;, &quot;pageContext&quot;); request.setAttribute(&quot;key&quot;, &quot;request&quot;); session.setAttribute(&quot;key&quot;, &quot;session&quot;); application.setAttribute(&quot;key&quot;, &quot;application&quot;);%&gt;pageContextçš„å€¼ï¼š&lt;%=pageContext.getAttribute(&quot;key&quot;) %&gt;&lt;br&gt;requestçš„å€¼ï¼š&lt;%=request.getAttribute(&quot;key&quot;) %&gt;&lt;br&gt;sessionçš„å€¼ï¼š&lt;%=session.getAttribute(&quot;key&quot;) %&gt;&lt;br&gt;applicationçš„å€¼ï¼š&lt;%=application.getAttribute(&quot;key&quot;) %&gt;&lt;br&gt; ä¹å¤§å†…ç½®å¯¹è±¡åœ¨ç”Ÿæˆçš„javaæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ° å¯¹è±¡ æè¿° ä½œç”¨åŸŸ request javax.servlet.http.HttpServletRequest ç±»çš„å®ä¾‹ request response javax.servlet.http.HttpServletResponseç±»çš„å®ä¾‹ pageContext out javax.servlet.jsp.JspWriter ç±»çš„å®ä¾‹ï¼Œç”¨æ¥åœ¨responseå¯¹è±¡ä¸­å†™å…¥å†…å®¹ã€‚ pageContext session javax.servlet.http.HttpSession ç±»çš„å®ä¾‹ session application javax.servlet.ServletContext ç±»çš„å®ä¾‹ã€‚ä¸åº”ç”¨ä¸Šä¸‹æ–‡æœ‰å…³ application config javax.servlet.ServletConfig ç±»çš„å®ä¾‹ã€‚è¿™ä¸ªå¯¹è±¡å…è®¸å¼€å‘è€…è®¿é—®Servletæˆ–è€…JSPå¼•æ“çš„åˆå§‹åŒ–å‚æ•°ï¼Œæ¯”å¦‚æ–‡ä»¶è·¯å¾„ç­‰ã€‚ pageContext pageContext javax.servlet.jsp.PageContext ç±»çš„å®ä¾‹ï¼Œæä¾›å¯¹JSPé¡µé¢æ‰€æœ‰å¯¹è±¡ä»¥åŠå‘½åç©ºé—´çš„è®¿é—® pageContext page æŒ‡å‘å½“å‰JSPå¯¹è±¡ pageContext exception exception ç±»çš„å¯¹è±¡ï¼Œä»£è¡¨å‘ç”Ÿé”™è¯¯çš„ JSP é¡µé¢ä¸­å¯¹åº”çš„å¼‚å¸¸å¯¹è±¡ï¼Œ&lt;%@ page â€¦â€¦ isErrorPage=â€trueâ€ %&gt; pageContext ELè¡¨è¾¾å¼ä¸JSTLæ ‡å‡†æ ‡ç­¾åº“è‡ªè¡Œå­¦ä¹  ğŸ’¡MVCæ¡†æ¶MVCæ˜¯ä¸‰ä¸ªå•è¯çš„é¦–å­—æ¯ç¼©å†™ï¼Œå®ƒä»¬æ˜¯Modelï¼ˆæ¨¡å‹ï¼‰ã€Viewï¼ˆè§†å›¾ï¼‰å’ŒControllerï¼ˆæ§åˆ¶ï¼‰ã€‚ Modelï¼ˆæ¨¡å‹ï¼‰ï¼šå¦‚ä¸€ä¸ªå­˜å–æ•°æ®çš„å¯¹è±¡æˆ– JavaBean Viewï¼ˆè§†å›¾ï¼‰ï¼šå¦‚jspåŠ¨æ€é¡µé¢ Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼šæ§åˆ¶æ•°æ®æµå‘æ¨¡å‹å¯¹è±¡ï¼Œå¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–°è§†å›¾ï¼Œä½¿è§†å›¾ä¸æ¨¡å‹åˆ†ç¦»å¼€ï¼Œå¦‚servlet MVCé‡è¦ç‰¹ç‚¹å°±æ˜¯ä¸¤ç§åˆ†ç¦»ï¼š è§†å›¾å’Œæ•°æ®æ¨¡å‹çš„åˆ†ç¦»ï¼šä½¿ç”¨ä¸åŒçš„è§†å›¾å¯¹ç›¸åŒçš„æ•°æ®è¿›è¡Œå±•ç¤ºï¼›åˆ†ç¦»å¯è§†å’Œä¸å¯è§†çš„ç»„ä»¶ï¼Œèƒ½å¤Ÿå¯¹æ¨¡å‹è¿›è¡Œç‹¬ç«‹æµ‹è¯•ã€‚å› ä¸ºåˆ†ç¦»äº†å¯è§†ç»„ä»¶å‡å°‘äº†å¤–éƒ¨ï¼ˆæ•°æ®åº“ä¹Ÿæ˜¯ä¸€ç§å¤–éƒ¨ç»„ä»¶ï¼‰ä¾èµ–åˆ©äºæµ‹è¯•ã€‚ è§†å›¾å’Œè¡¨ç°é€»è¾‘(Controller)çš„åˆ†ç¦»ï¼šControlleræ˜¯ä¸€ä¸ªè¡¨ç°é€»è¾‘çš„ç»„ä»¶ï¼Œå¹¶éä¸€ä¸ªä¸šåŠ¡é€»è¾‘ç»„ä»¶ã€‚MVCå¯ä»¥ä½œä¸ºè¡¨ç°æ¨¡å¼ä¹Ÿå¯ä»¥ä½œä¸ºå»ºæ„æ¨¡å¼ï¼Œæ„å‘³è¿™Controllerä¹Ÿå¯ä»¥æ˜¯ä¸šåŠ¡é€»è¾‘ã€‚åˆ†ç¦»é€»è¾‘å’Œå…·ä½“å±•ç¤ºï¼Œèƒ½å¤Ÿå¯¹é€»è¾‘è¿›è¡Œç‹¬ç«‹æµ‹è¯•ã€‚ MVCä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šä½è€¦åˆã€é‡ç”¨æ€§é«˜ã€ç”Ÿå‘½å‘¨æœŸæˆæœ¬ä½ã€éƒ¨ç½²å¿«ã€å¯ç»´æŠ¤æ€§é«˜ ç¼ºç‚¹ï¼šæ²¡æœ‰æ˜ç¡®çš„å®šä¹‰ã€ä¸é€‚åˆå°ã€ä¸­å‹åº”ç”¨ç¨‹åºã€å¢åŠ ç³»ç»Ÿç»“æ„å’Œå®ç°çš„å¤æ‚æ€§ã€è§†å›¾å¯¹æ¨¡å‹æ•°æ®çš„ä½æ•ˆç‡è®¿é—® ä½œä¸šåœ¨ä¸Šä¸€ä¸ªæ–‡æ¡£ä¸­å·²ç»å£°æ˜ï¼Œè¿™ä¸¤èŠ‚è¯¾åªè¦äº¤ä¸€ä¸ªä½œä¸šå°±è¡Œã€‚","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://example.com/categories/JavaWeb/"}],"tags":[{"name":"é›†è®­","slug":"é›†è®­","permalink":"http://example.com/tags/%E9%9B%86%E8%AE%AD/"},{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://example.com/tags/JavaWeb/"},{"name":"jsp","slug":"jsp","permalink":"http://example.com/tags/jsp/"}]}],"categories":[{"name":"Unity","slug":"Unity","permalink":"http://example.com/categories/Unity/"},{"name":"Vue","slug":"Vue","permalink":"http://example.com/categories/Vue/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://example.com/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"ssm","slug":"ssm","permalink":"http://example.com/categories/ssm/"},{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://example.com/categories/JavaWeb/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://example.com/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"Unity2D","slug":"Unity2D","permalink":"http://example.com/tags/Unity2D/"},{"name":"æ¸¸æˆå¼€å‘","slug":"æ¸¸æˆå¼€å‘","permalink":"http://example.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://example.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Vue","slug":"Vue","permalink":"http://example.com/tags/Vue/"},{"name":"é›†è®­","slug":"é›†è®­","permalink":"http://example.com/tags/%E9%9B%86%E8%AE%AD/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"http://example.com/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"ssm","slug":"ssm","permalink":"http://example.com/tags/ssm/"},{"name":"javaEE","slug":"javaEE","permalink":"http://example.com/tags/javaEE/"},{"name":"SpringBoot","slug":"SpringBoot","permalink":"http://example.com/tags/SpringBoot/"},{"name":"MyBatis","slug":"MyBatis","permalink":"http://example.com/tags/MyBatis/"},{"name":"é¡¹ç›®","slug":"é¡¹ç›®","permalink":"http://example.com/tags/%E9%A1%B9%E7%9B%AE/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"http://example.com/tags/SpringMVC/"},{"name":"JavaEE","slug":"JavaEE","permalink":"http://example.com/tags/JavaEE/"},{"name":"Spring","slug":"Spring","permalink":"http://example.com/tags/Spring/"},{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://example.com/tags/JavaWeb/"},{"name":"Servlet","slug":"Servlet","permalink":"http://example.com/tags/Servlet/"},{"name":"jsp","slug":"jsp","permalink":"http://example.com/tags/jsp/"}]}